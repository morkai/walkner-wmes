// Part of <https://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

'use strict';

const updateRoute = require('./update');

module.exports = (app, module) =>
{
  const {express, user, CurrencyRate} = module;

  const canView = user.auth('LOCAL', 'USER');
  const canManage = user.auth('SUPER');

  express.get('/currencyRates', canView, express.crud.browseRoute.bind(null, app, CurrencyRate));
  express.post('/currencyRates;update', canManage, updateRoute.bind(null, app, module));
};
