// Part of <https://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

'use strict';

const {decode} = require('iconv-lite');

module.exports = function parseSapString(input, encoding)
{
  if (input == null)
  {
    return '';
  }

  let output = String(input).replace(/\s+/g, ' ');

  if (encoding)
  {
    output = decode(Buffer.from(output, 'binary'), encoding);
  }

  return output;
};
