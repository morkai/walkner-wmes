// Part of <https://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

'use strict';

const path = require('path');

module.exports = (app, module, req, res, next) =>
{
  if (!/^[A-Z0-9]+\.(jpg|png|gif)$/.test(req.params.image))
  {
    return next(app.createError('Invalid image ID.', 'INPUT', 400));
  }

  res.sendFile(path.join(module.config.snfImagesPath, req.params.image));
};
