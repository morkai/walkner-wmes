// Part of <https://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

'use strict';

module.exports = async (app, module, req, res, next) =>
{
  const {
    messengerClient
  } = module;

  const params = {
    line: req.params.line,
    station: +req.params.station
  };

  messengerClient.request('gft.getStationData', params, (err, result) =>
  {
    if (err)
    {
      return next(err);
    }

    res.json(result);
  });
};
