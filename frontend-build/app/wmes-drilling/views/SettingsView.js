define(["underscore","jquery","app/core/util/idAndLabel","app/data/orgUnits","app/settings/views/SettingsView","app/wmes-drilling/templates/settings"],function(t,e,n,i,r,s){"use strict";return r.extend({clientUrl:"#drilling;settings",template:s,events:t.assign({"change input[data-setting]":function(t){this.updateSetting(t.target.name,t.target.value)}},r.prototype.events),afterRender:function(){r.prototype.afterRender.apply(this,arguments),this.setUpWorkCenters()},setUpWorkCenters:function(){this.$id("planning-workCenters").select2({width:"100%",allowClear:!0,multiple:!0,data:i.getAllByType("workCenter").filter(function(t){return!t.get("deactivatedAt")}).map(n)}),this.updateSettingField(this.settings.get("drilling.workCenters"))},shouldAutoUpdateSettingField:function(t){return"drilling.workCenters"!==t.id},updateSettingField:function(t){if(t)return"drilling.workCenters"===t.id?this.$id("planning-workCenters").select2("data",t.getValue().map(function(t){return{id:t,text:t}})):void 0}})});