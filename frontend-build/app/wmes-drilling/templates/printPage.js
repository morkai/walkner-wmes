define(["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(n){return void 0==n?"":String(n).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(n){return _ENCODE_HTML_RULES[n]||n}var __output="";function __append(n){void 0!==n&&null!==n&&(__output+=n)}with(locals||{})__append('<!DOCTYPE html>\n<html>\n<head>\n  <meta charset="utf-8">\n  <title>'),__append(helpers.t("printPage:title",{date:time.utc.format(date,"LL")})),__append('</title>\n  <style>\n    @page {\n      size: A4 portrait;\n      margin: 10mm;\n    }\n    * {\n      margin: 0;\n      padding: 0;\n      line-height: 1;\n      box-sizing: border-box;\n    }\n    body {\n      margin: 15px;\n      font-family: Verdana, sans-serif;\n      font-size: 12px;\n      text-rendering: optimizeLegibility;\n      color: #000;\n      background: #FFF;\n      text-align: center;\n    }\n    .page {\n      margin: auto;\n      text-align: left;\n      width: 21cm;\n      padding: 10mm;\n    }\n    header {\n      padding-bottom: 5mm;\n      margin-bottom: 5mm;\n      font-size: 32px;\n      font-weight: bold;\n      text-align: left;\n      border-bottom: 1px solid #000;\n    }\n    footer {\n      display: flex;\n      padding-top: 5mm;\n      margin-top: 5mm;\n      border-top: 1px solid #000;\n      font-size: 10px;\n    }\n    footer p:first-child {\n      margin-bottom: 3px;\n    }\n    footer > div:first-child {\n      flex: 1 1 auto;\n    }\n    footer > div:last-child {\n      flex: 1 1 auto;\n      text-align: right;\n    }\n    .props {\n      float: right;\n      display: flex;\n    }\n    .prop {\n      margin-left: 5mm;\n    }\n    .prop > span:first-child {\n      display: block;\n      margin-bottom: 3px;\n      font-size: 16px;\n      font-weight: bold;\n    }\n    .prop > span:last-child {\n      display: block;\n      font-size: 16px;\n      font-weight: normal;\n    }\n    table {\n      width: 100%;\n      font-size: 12px;\n      border-collapse: collapse;\n    }\n    th {\n      text-align: left;\n      padding: 0 10px 4px 0;\n      white-space: nowrap;\n    }\n    td {\n      padding: 4px 10px 4px 0;\n      white-space: nowrap;\n      width: 1%;\n    }\n    th:last-child,\n    td:last-child {\n      padding-right: 0;\n    }\n    .name {\n      width: auto;\n    }\n    .name > span {\n      display: block;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      max-width: 340px;\n    }\n    .no,\n    .qty,\n    .mrp {\n      text-align: right;\n    }\n    .is-component + .is-order > td {\n      border-top: 1px solid #ddd;\n    }\n    #info {\n      position: fixed;\n      top: 0;\n      left: 0;\n      padding: 7px;\n      width: 100%;\n      background: #FFD1D1;\n      border-bottom: 1px solid #F8ACAC;\n      font-size: 28px;\n      text-align: center;\n    }\n    @media print {\n      body {\n        margin: 0;\n      }\n      .page {\n        width: 100%;\n        padding: 0;\n      }\n      .page + .page {\n        page-break-before: always;\n      }\n      .bd {\n        height: 900px;\n      }\n      #info {\n        display: none;\n      }\n    }\n  </style>\n</head>\n<body>\n<div id="info">'),__append(helpers.t("printPage:info")),__append("</div>\n"),pages.forEach(function(n,p){__append('\n<section class="page">\n  <header>\n    <div class="props">\n      <div class="prop">\n        <span>'),__append(helpers.t("printPage:date")),__append("</span>\n        <span>"),__append(escapeFn(time.utc.format(date,"dd, LL"))),__append("</span>\n      </div>\n      "),mrp&&(__append('\n      <div class="prop">\n        <span>'),__append(helpers.t("printPage:mrp")),__append("</span>\n        <span>"),__append(escapeFn(mrp)),__append(" "),__append("</span>\n      </div>\n      ")),__append("\n      "),orderNo&&(__append('\n      <div class="prop">\n        <span>'),__append(helpers.t("printPage:order")),__append("</span>\n        <span>"),__append(escapeFn(orderNo)),__append("</span>\n      </div>\n      ")),__append("\n    </div>\n    "),__append(helpers.t("printPage:hd")),__append('\n  </header>\n  <section class="bd">\n    <table>\n      <thead>\n        <th>'),__append(helpers.t("PROPERTY:no")),__append("</th>\n        <th>"),__append(helpers.t("PROPERTY:order")),__append("</th>\n        <th>"),__append(helpers.t("PROPERTY:nc12")),__append("</th>\n        <th>"),__append(helpers.t("PROPERTY:qty")),__append("</th>\n        <th></th>\n        <th>"),__append(helpers.t("PROPERTY:name")),__append("</th>\n        <th>"),__append(helpers.t("PROPERTY:mrp")),__append("</th>\n      </thead>\n      <tbody>\n      "),n.rows.forEach(function(n){__append('\n      <tr class="is-'),__append(n.type),__append('">\n        <td class="no">'),__append(n.no),__append('</td>\n        <td class="orderNo">'),__append(n.order),__append('</td>\n        <td class="nc12">'),__append(n.nc12),__append('</td>\n        <td class="qty">'),__append(n.qty.toLocaleString()),__append('</td>\n        <td class="unit">'),__append(n.unit),__append('</td>\n        <td class="name"><span>'),__append(escapeFn(n.name)),__append('</span></td>\n        <td class="mrp">'),__append(escapeFn(n.mrp)),__append("</td>\n      </tr>\n      ")}),__append("\n      </tbody>\n    </table>\n  </section>\n  <footer>\n    <div>\n      <p>"),__append(helpers.t("printPage:ft",{date:time.utc.format(date,"LL")})),__append("</p>\n      <p>"),__append(helpers.t("printPage:printed",{time:time.format(Date.now(),"LLLL"),user:user.getLabel()})),__append("</p>\n    </div>\n    <div>\n      "),__append(helpers.t("printPage:page",{n:p+1,total:pages.length})),__append("\n    </div>\n  </footer>\n</section>\n")}),__append("\n</body>\n</html>\n");return __output}});