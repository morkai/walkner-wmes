define(["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(p){return void 0==p?"":String(p).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(p){return _ENCODE_HTML_RULES[p]||p}var __output=[],__append=__output.push.bind(__output);with(locals||{})__append('<tbody class="drilling-order '),__append(visible?"visible":"hidden"),__append(" "),__append(first?"is-first":""),__append(" "),__append(last?"is-last":""),__append('" data-order-id="'),__append(order._id),__append('" data-status="'),__append(order.status),__append('" data-mrp="'),__append(escapeFn(order.mrp)),__append('">\n  <tr class="drilling-properties drilling-order-order">\n    <td class="drilling-property" data-property="no" rowspan="'),__append(order[rowSpan]),__append('">\n      '),__append(order.no),__append("\n      "),order.followups.forEach(function(p){__append('\n      <br>\n      <span class="drilling-order-followup" data-followup-id="'),__append(p.id),__append('">\n        <i class="fa fa-long-arrow-'),__append(order.no<p.no?"down":"up"),__append('"></i>\n        <br>\n        '),__append(p.no),__append("\n        </span>\n      ")}),__append('\n    </td>\n    <td class="drilling-property" data-property="order">'),__append(order.order),__append('</td>\n    <td class="drilling-property" data-property="nc12">'),__append(order.nc12),__append('</td>\n    <td class="drilling-property" data-property="qty">'),__append(order.qty.toLocaleString()),__append('</td>\n    <td class="drilling-property" data-property="unit">PCE</td>\n    <td class="drilling-property" data-property="name">'),__append(order.name),__append('</td>\n    <td class="drilling-property"></td>\n    <td class="drilling-property" data-property="mrpTimePlacement" rowspan="'),__append(order[rowSpan]),__append('">\n      <span class="drilling-property drilling-property-mrp" data-property="mrp" data-mrp="'),__append(order.mrp),__append('" title="'),__append(t("wmes-drilling","PROPERTY:mrp")),__append('">\n        <i class="fa fa-filter"></i><span>'),__append(order.mrp),__append("</span>\n      </span>\n      "),order.startTime&&(__append('\n      <span class="drilling-property" data-property="startTime" title="'),__append(t("wmes-drilling","PROPERTY:startTime")),__append('">\n      <i class="fa fa-clock-o"></i><span>'),__append(order.startTimeTime),__append("</span>\n      </span>\n      ")),__append("\n      "),order.qtyDrill&&(__append('\n      <span class="drilling-property" data-property="qtyDrill" title="'),__append(t("wmes-drilling","PROPERTY:qtyDrill")),__append('">\n        <i class="fa fa-circle-o"></i><span>'),__append(order.qtyDrill.toLocaleString()),__append("</span>\n      </span>\n      ")),__append("\n      "),order.qtyDone&&(__append('\n      <span class="drilling-property" data-property="qtyDone" title="'),__append(t("wmes-drilling","PROPERTY:qtyDone")),__append('">\n        <i class="fa fa-check"></i><span>'),__append(order.qtyDone.toLocaleString()),__append("</span>\n      </span>\n      ")),__append('\n    </td>\n    <td class="drilling-property" rowspan="'),__append(order[rowSpan]),__append('" data-property="times">\n      '),order.startedAt&&(__append('\n      <span class="drilling-property" data-property="startedAt" title="'),__append(t("wmes-drilling","PROPERTY:startedAt")),__append('">\n        <i class="fa fa-hourglass-start"></i><span>'),__append(order.startedAtDate),__append("</span>\n      </span>\n      ")),__append("\n      "),order.finishedAt&&(__append('\n      <span class="drilling-property" data-property="finishedAt" title="'),__append(t("wmes-drilling","PROPERTY:finishedAt")),__append('">\n        <i class="fa fa-hourglass-end"></i><span>'),__append(order.finishedAtDate),__append("</span>\n      </span>\n      ")),__append("\n      "),commentVisible&&order.comment&&(__append('\n      <span class="drilling-property" data-property="comment" title="'),__append(t("wmes-drilling","PROPERTY:comment")),__append('">\n        <i class="fa fa-comment"></i><span>'),__append(escapeFn(order.comment)),__append("</span>\n      </span>\n      ")),__append("\n    </td>\n  </tr>\n  "),order.childOrders.forEach(function(p,n){__append('\n  <tr class="drilling-properties drilling-order-childOrder '),__append(p.last?"is-last":""),__append(" "),__append(p.deleted?"is-deleted":""),__append('">\n    <td class="drilling-property" data-property="order" rowspan="'),__append(p[rowSpan]),__append('">'),__append(p.order),__append('</td>\n    <td class="drilling-property" data-property="nc12">'),__append(p.nc12),__append('</td>\n    <td class="drilling-property" data-property="qty">'),__append(p.qty?p.qty.toLocaleString():"?"),__append('</td>\n    <td class="drilling-property">PCE</td>\n    <td class="drilling-property" data-property="name">'),__append(escapeFn(p.name)),__append('</td>\n    <td class="drilling-property"></td>\n  </tr>\n  '),p.components.forEach(function(n){__append('\n  <tr class="drilling-properties drilling-order-component '),__append(p.deleted?"is-deleted":""),__append('">\n    <td class="drilling-property" data-property="nc12">\n      '),"details"===view?(__append('\n      <a href="/orderDocuments/000'),__append(n.nc12),__append("?order="),__append(order.order),__append('" target="_blank" data-action="openDocument">'),__append(n.nc12),__append("</a>\n      ")):(__append("\n      "),__append(n.nc12),__append("\n      ")),__append('\n    </td>\n    <td class="drilling-property" data-property="qty">'),__append(Math.ceil(n.qty).toLocaleString()),__append('</td>\n    <td class="drilling-property" data-property="unit">'),__append(n.unit),__append('</td>\n    <td class="drilling-property" data-property="name">'),__append(escapeFn(n.name)),__append('</td>\n    <td class="drilling-property" data-property="placement">'),__append(escapeFn(n.placement)),__append("</td>\n  </tr>\n  ")}),__append("\n  ")}),__append("\n</tbody>\n");return __output.join("")}});