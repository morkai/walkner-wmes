// Copyright (c) 2014, ≈Åukasz Walukiewicz <lukasz@walukiewicz.eu>. Some Rights Reserved.
// Licensed under CC BY-NC-SA 4.0 <http://creativecommons.org/licenses/by-nc-sa/4.0/>.
// Part of the walkner-wmes project <http://lukasz.walukiewicz.eu/p/walkner-wmes>

define(["../broker","../router","../viewport","../user","../core/util/showDeleteFormPage","./FteMasterEntry","./FteLeaderEntry","./pages/FteMasterEntryListPage","./pages/FteMasterEntryAddFormPage","./pages/FteMasterEntryEditFormPage","./pages/FteMasterEntryDetailsPage","./pages/FteMasterEntryDetailsPrintablePage","./pages/FteLeaderEntryListPage","./pages/FteLeaderEntryAddFormPage","./pages/FteLeaderEntryEditFormPage","./pages/FteLeaderEntryDetailsPage","./pages/FteLeaderEntryDetailsPrintablePage","i18n!app/nls/fte"],function(e,a,t,r,n,i,d,s,g,p,o,l,m,u,f,E,P){"use strict";var h=r.auth("FTE:MASTER:VIEW"),c=r.auth("FTE:MASTER:MANAGE","PROD_DATA:MANAGE"),w=r.auth("FTE:LEADER:VIEW"),A=r.auth("FTE:LEADER:MANAGE","PROD_DATA:MANAGE");a.map("/fte/master",h,function(e){t.showPage(new s({rql:e.rql}))}),a.map("/fte/master;add",c,function(){t.showPage(new g)}),a.map("/fte/master/:id",h,function(a){a.query.change&&e.publish("router.navigate",{url:"/fte/master/"+a.params.id,trigger:!1,replace:!0}),t.showPage(new o({modelId:a.params.id,change:a.query.change}))}),a.map("/fte/master/:id;edit",c,function(e){t.showPage(new p({modelId:e.params.id}))}),a.map("/fte/master/:id;print",h,function(e){t.showPage(new l({modelId:e.params.id}))}),a.map("/fte/master/:id;delete",c,n.bind(null,i)),a.map("/fte/leader",w,function(e){t.showPage(new m({rql:e.rql}))}),a.map("/fte/leader;add",A,function(){t.showPage(new u)}),a.map("/fte/leader/:id",w,function(a){a.query.change&&e.publish("router.navigate",{url:"/fte/leader/"+a.params.id,trigger:!1,replace:!0}),t.showPage(new E({modelId:a.params.id,change:a.query.change}))}),a.map("/fte/leader/:id;edit",A,function(e){t.showPage(new f({modelId:e.params.id}))}),a.map("/fte/leader/:id;print",w,function(e){t.showPage(new P({modelId:e.params.id}))}),a.map("/fte/leader/:id;delete",A,n.bind(null,d)),a.map("/fte;settings",r.auth("PROD_DATA:MANAGE"),function(e){t.loadPage("app/fte/pages/FteSettingsPage",function(a){return new a({initialTab:e.query.tab})})})});