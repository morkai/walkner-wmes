define(["app/i18n","app/time","app/planning/util/shift"],function(e,r,t){"use strict";function n(n,i){var a,u,l=r.getMoment(i.value),o=n.model.query&&!n.model.query.get("from")&&!n.model.query.get("to");if(a=i.interval?i.interval:n.interval?n.interval:n.model.query?n.model.query.get("interval"):n.model.get("interval"),o&&"hour"===a)return l.format("H");if("shift"===a){var f=e("core","SHIFT:"+t.getShiftNo(i.value,!0));if(o)return f;u={shift:f}}else"quarter"===a?u={quarter:e("core","QUARTER:"+l.quarter())}:a||(a="day");return l.format(e("reports","x:"+a,u))}return n.labels=function(e){return{formatter:n.bind(null,e)}},n});