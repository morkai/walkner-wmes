define(["app/i18n","app/time","app/planning/util/shift"],function(e,r,t){"use strict";function n(n,u){var i,a,o=r.getMoment(u.value),l=n.model.query&&!n.model.query.get("from")&&!n.model.query.get("to");if(i=n.interval?n.interval:n.model.query?n.model.query.get("interval"):n.model.get("interval"),l&&"hour"===i)return o.format("H");if("shift"===i){var f=e("core","SHIFT:"+t.getShiftNo(u.value,!0));if(l)return f;a={shift:f}}else"quarter"===i?a={quarter:e("core","QUARTER:"+o.quarter())}:i||(i="day");return o.format(e("reports","x:"+i,a))}return n.labels=function(e){return{formatter:n.bind(null,e)}},n});