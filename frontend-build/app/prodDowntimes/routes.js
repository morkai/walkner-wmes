// Copyright (c) 2014, ≈Åukasz Walukiewicz <lukasz@walukiewicz.eu>. Some Rights Reserved.
// Licensed under CC BY-NC-SA 4.0 <http://creativecommons.org/licenses/by-nc-sa/4.0/>.
// Part of the walkner-wmes project <http://lukasz.walukiewicz.eu/p/walkner-wmes>

define(["../router","../viewport","../user","../core/util/showDeleteFormPage","./ProdDowntime","./pages/ProdDowntimeListPage","./pages/ProdDowntimeDetailsPage","./pages/ProdDowntimeEditFormPage","i18n!app/nls/prodDowntimes"],function(e,o,i,t,n,r,a,d){"use strict";var s=i.auth("LOCAL","PROD_DOWNTIMES:VIEW"),m=i.auth("PROD_DATA:MANAGE");e.map("/prodDowntimes",s,function(e){o.showPage(new r({rql:e.rql}))}),e.map("/prodDowntimes/:id",function(e){o.showPage(new a({model:new n({_id:e.params.id}),corroborate:"1"===e.query.corroborate}))}),e.map("/prodDowntimes/:id;edit",m,function(e){o.showPage(new d({model:new n({_id:e.params.id})}))}),e.map("/prodDowntimes/:id;delete",m,t.bind(null,n)),e.map("/prodDowntimes;settings",m,function(e){o.loadPage("app/prodDowntimes/pages/ProdDowntimeSettingsPage",function(o){return new o({initialTab:e.query.tab})})})});