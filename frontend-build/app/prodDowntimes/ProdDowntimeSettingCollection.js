// Part of <http://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

define(["jquery","../user","../settings/SettingCollection","./ProdDowntimeSetting"],function(e,t,n,a){"use strict";return n.extend({model:a,topicSuffix:"prodDowntimes.**",getValue:function(e){var t=this.get("prodDowntimes."+e);return t?t.getValue():null},prepareValue:function(e,t){return/autoConfirmHours$/.test(e)?(t=Math.round(parseInt(t,10)),isNaN(t)||t<24?24:t):/max.+Changes$/.test(e)?(t=Math.round(parseInt(t,10)),isNaN(t)||t<0?0:t):void 0},getCanChangeStatusOptions:function(){return{hasAccessToAor:t.hasAccessToAor.bind(t),canManageProdData:t.isAllowedTo("PROD_DATA:MANAGE"),canManageProdDowntimes:t.isAllowedTo("PROD_DOWNTIMES:MANAGE"),maxRejectedChanges:this.getValue("maxRejectedChanges")||Number.MAX_VALUE,maxReasonChanges:this.getValue("maxReasonChanges")||Number.MAX_VALUE,maxAorChanges:this.getValue("maxAorChanges")||Number.MAX_VALUE}}})});