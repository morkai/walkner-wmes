define(["js2form","app/core/View","app/core/util/idAndLabel","app/users/util/setUpUserSelect2","app/kaizenOrders/dictionaries","app/suggestions/templates/rewardReportFilter","app/core/util/ExpandableSelect"],function(e,t,i,n,r,s){"use strict";return t.extend({template:s,events:{submit:function(){return this.changeFilter(),!1}},destroy:function(){this.$(".is-expandable").expandableSelect("destroy")},afterRender:function(){e(this.el,this.serializeFormData()),n(this.$id("confirmer"),{view:this,width:"285px"}),this.$id("sections").select2({width:"350px",allowClear:!0,multiple:!0,data:r.sections.filter(function(e){return e.get("active")}).map(i)}),this.$(".is-expandable").expandableSelect()},serializeFormData:function(){var e=this.model;return{month:e.get("month"),confirmer:e.get("confirmer"),sections:e.get("sections").join(",")}},changeFilter:function(){var e={month:this.$id("month").val(),confirmer:this.$id("confirmer").val()||null,sections:this.$id("sections").val().split(",").filter(function(e){return!!e})};this.model.set(e),this.model.trigger("filtered")}})});