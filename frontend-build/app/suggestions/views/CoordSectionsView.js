define(["jquery","app/viewport","app/core/View","./CoordinateView","app/suggestions/templates/coordSections"],function(e,i,t,o,n){"use strict";return t.extend({template:n,events:{"click .js-coordinate":function(e){var t=this.$(e.target).closest(".suggestions-details-coordSection"),n=new o({model:this.model,coordSection:this.model.getCoordSection(t[0].dataset.section)});i.showDialog(n,this.t("coordinate:title",{rid:this.model.get("rid")}))}},initialize:function(){t.prototype.initialize.call(this),this.once("afterRender",function(){this.listenTo(this.model,"reset change:coordSections",this.render)}),e(window).on("resize."+this.idPrefix,this.onWindowResize.bind(this))},destroy:function(){e(window).off("."+this.idPrefix)},getTemplateData:function(){var e=this.model.get("observer").changes;return{changed:e.all||e.resolutions,coordSections:this.model.serializeCoordSections()}},afterRender:function(){this.options.embedded||this.toggleOverflowX()},toggleOverflowX:function(){this.$id("coordSections").css("overflow-x",this.$el.outerWidth()+50<window.innerWidth?"visible":"")},onWindowResize:function(){this.toggleOverflowX()}})});