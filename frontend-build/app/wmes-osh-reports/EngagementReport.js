define(["underscore","h5.rql/index","app/i18n","app/time","app/core/Model","./util/createDefaultFilter"],function(t,e,r,n,i,s){"use strict";return i.extend({urlRoot:"/osh/reports/engagement",nlsDomain:"wmes-osh-reports",defaults:function(){return{loading:!1,settings:{},userLabels:{},months:[],orgUnits:[],brigades:[],users:[]}},initialize:function(t,e){this.rqlQuery=e.rqlQuery&&!e.rqlQuery.isEmpty()?e.rqlQuery:s({orgUnitProperty:null}),this.on("request",()=>this.set("loading",!0)),this.on("sync error",()=>this.set("loading",!1))},fetch:function(e){return t.isObject(e)||(e={}),e.data=this.rqlQuery.toString(),i.prototype.fetch.call(this,e)},genClientUrl:function(){return`${this.urlRoot}?${this.rqlQuery.toString()}`},parse:function(t){return t.loaded=!0,t}})});