define(["app/core/views/FilterView","app/core/util/forms/dateTimeRange","app/wmes-osh-common/dictionaries","app/wmes-osh-common/views/OrgUnitPickerFilterView","app/wmes-osh-reports/templates/observers/filter","app/core/util/ExpandableSelect"],function(e,t,i,s,n){"use strict";return e.extend({template:n,nlsDomain:"wmes-osh-observations",events:Object.assign({"click a[data-date-time-range]":t.handleRangeEvent},e.prototype.events),defaultFormData:function(){return{}},termToForm:{date:t.rqlToForm},initialize:function(){e.prototype.initialize.apply(this,arguments),this.setView("#-orgUnit",new s({filterView:this,emptyLabel:this.t("wmes-osh-reports","filter:orgUnit"),orgUnitTypes:["division","workplace","department"]}))},serializeFormToQuery:function(e){t.formToRql(this,e),[].forEach(t=>{const i=this.$id(t);let s=i.val();s&&s.length&&("string"==typeof s&&(s=s.split(",")),"SELECT"===i[0].tagName&&i[0].options.length===s.length||(1===(s=s.map(e=>/^[0-9]+$/.test(e)?parseInt(e,10):e)).length?e.push({name:"eq",args:[t,s[0]]}):e.push({name:"in",args:[t,s]})))})}})});