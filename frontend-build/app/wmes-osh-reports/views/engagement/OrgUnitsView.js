define(["app/wmes-osh-common/dictionaries","../DataTableView","app/wmes-osh-reports/templates/engagement/orgUnits"],function(e,t,n){"use strict";return t.extend({template:n,dataProperty:"orgUnits",freezeColumns:3,serializeRows:function(){const t=[],n=this.model.get("months")||[];return this.model.get("orgUnits").forEach(o=>{const a={orgUnit:o,type:o.department?"department":o.workplace?"workplace":o.division?"division":"overall",division:e.divisions.getLabel(o.division),workplace:e.workplaces.getLabel(o.workplace),department:e.departments.getLabel(o.department),months:n.map(e=>{const t=o.months[e];return t?{employed:t.employed,engaged:t.engaged,engagedPercent:t.employed?Math.round(t.engaged/t.employed*100):0,minEngaged:t.minEngaged,metrics:t.metrics}:{employed:0,engaged:0,engagedPercent:0,minEngaged:0,metrics:[0,0,0,0]}})};t.push(a)}),t.sort((e,t)=>e.division.localeCompare(t.division)||e.workplace.localeCompare(t.workplace)||e.department.localeCompare(t.department)),t}})});