define(["h5.rql/index","app/time","app/user"],function(e,t,r){"use strict";return(a={})=>{const n=[{name:"ge",args:[a.dateProperty||"date",t.getMoment().startOf("month").valueOf()]},{name:"lt",args:[a.dateProperty||"date",t.getMoment().startOf("month").add(1,"months").valueOf()]}];if(a.interval&&n.push({name:"eq",args:["interval",a.interval]}),r.data.oshDepartment){let e="department";null!=a.orgUnitProperty&&(a.orgUnitProperty.length&&(e=a.orgUnitProperty+"."),e+="oshDepartment"),n.push({name:"eq",args:[e,r.data.oshDepartment]})}else if(r.data.oshWorkplace){let e="workplace";null!=a.orgUnitProperty&&(a.orgUnitProperty.length&&(e=a.orgUnitProperty+"."),e+="oshWorkplace"),n.push({name:"eq",args:[e,r.data.oshWorkplace]})}return e.Query.fromObject({selector:{name:"and",args:n}})}});