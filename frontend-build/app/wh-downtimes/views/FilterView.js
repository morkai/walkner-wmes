define(["underscore","app/core/views/FilterView","app/core/util/idAndLabel","app/core/util/forms/dateTimeRange","app/users/util/setUpUserSelect2","app/data/downtimeReasons","app/wh-downtimes/templates/filter"],function(e,t,i,s,a,r,n){"use strict";return t.extend({template:n,events:e.assign({"click a[data-date-time-range]":s.handleRangeEvent},t.prototype.events),termToForm:{startedAt:s.rqlToForm,"user.id":function(e,t,i){i.user=t.args[1]},reason:function(e,t,i){i[e]=t.args[1]}},afterRender:function(){t.prototype.afterRender.apply(this,arguments),a(this.$id("user"),{width:"275px",view:this}),this.$id("reason").select2({width:"300px",multiple:!0,data:r.findBySubdivisionType(["wh-pickup","wh-dist"]).map(i)})},serializeFormToQuery:function(e){var t=this.$id("user").val(),i=this.$id("reason").select2("val");s.formToRql(this,e),t&&e.push({name:"eq",args:["user.id",t]}),i.length&&e.push({name:"in",args:["reason",i]})}})});