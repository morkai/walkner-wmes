define(["underscore","app/core/views/FilterView","app/core/util/idAndLabel","app/core/util/forms/dateTimeRange","app/data/orgUnits","../dictionaries","app/wmes-trw-tests/templates/filter"],function(e,t,r,a,i,s,o){"use strict";return t.extend({template:o,events:e.assign({"click a[data-date-time-range]":a.handleRangeEvent},t.prototype.events),termToForm:{startedAt:a.rqlToForm,line:function(e,t,r){r[e]=t.args[1]},workstation:"line",order:"line",tester:"line","program._id":function(e,t,r){r.program=t.args[1]},"program.base._id":function(e,t,r){r.base=t.args[1]},"program.base.tester._id":function(e,t,r){r.tester=t.args[1]}},serializeFormToQuery:function(e){var t={program:"program._id",base:"program.base._id",tester:"program.base.tester._id"};a.formToRql(this,e),["line","workstation","order","program","base","tester"].forEach(function(r){var a=this.$id(r).val();a&&e.push({name:"eq",args:[t[r]||r,/^[0-9]+$/.test(a)?+a:a]})},this)},afterRender:function(){t.prototype.afterRender.apply(this,arguments),this.$id("line").select2({width:"170px",allowClear:!0,placeholder:" ",data:i.getActiveByType("prodLine").map(r)}),this.$id("program").select2({width:"230px",allowClear:!0,placeholder:" ",data:s.programs.map(r)}),this.$id("base").select2({width:"170px",allowClear:!0,placeholder:" ",data:s.bases.map(r)}),this.$id("tester").select2({width:"170px",allowClear:!0,placeholder:" ",data:s.testers.map(r)})}})});