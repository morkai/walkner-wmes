define(["underscore","app/core/views/FormView","app/pkhdStrategies/templates/form"],function(t,e,i){"use strict";return e.extend({template:i,events:t.assign({"input #-s":"validateId","input #-t":"validateId","blur #-s":"validateIdNow","blur #-t":"validateIdNow"},e.prototype.events),validateId:function(){clearTimeout(this.timers.validateId),this.timers.validateId=setTimeout(this.validateIdNow.bind(this),333)},validateIdNow:function(){var t=this,e=t.$id("s").val().trim(),i=t.$id("t").val().trim(),d=t.ajax({url:"/pkhdStrategies?s="+e+"&t="+i+"&_id=ne="+this.model.id});d.done(function(e){e.collection.length?t.$id("alreadyExists").prop("href","#pkhdStrategies/"+e.collection[0]._id+";edit").removeClass("hidden"):t.$id("alreadyExists").addClass("hidden")}),d.fail(function(){t.$id("alreadyExists").addClass("hidden")})}})});