define(["underscore","app/i18n","app/viewport","app/core/View","app/production/templates/quantityEditor"],function(t,i,n,e,o){return e.extend({template:o,events:{submit:function(t){t.preventDefault();var i=parseInt(this.$id("quantity").val(),10);(isNaN(i)||i===this.options.currentQuantity||0>i)&&(i=null),this.trigger("quantityChanged",i)}},initialize:function(){this.idPrefix=t.uniqueId("quantityEditor")},serialize:function(){return{idPrefix:this.idPrefix,from:this.options.from,to:this.options.to,currentQuantity:this.options.currentQuantity,maxQuantity:this.options.maxQuantity}},afterRender:function(){this.$id("quantity").select()},onDialogShown:function(){this.$id("quantity").select()}})});