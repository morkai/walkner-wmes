// Part of <http://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

define(["../broker","../router","../viewport","../user","../data/orgUnits","../prodShifts/ProdShift","./pages/ProductionPage","i18n!app/nls/production","i18n!app/nls/isa","i18n!app/nls/prodSerialNumbers"],function(n,i,o,r,t,e,a){"use strict";i.map("/production/*prodLineId",function(i){var r=t.getByTypeAndId("prodLine",i.params.prodLineId);return null==r?n.publish("router.404",i):void o.showPage(new a({model:new e(t.getAllForProdLine(r),{production:!0})}))}),i.map("/production;settings",r.auth("PROD_DATA:MANAGE"),function(n){o.loadPage(["app/production/pages/ProductionSettingsPage"],function(i){return new i({initialTab:n.query.tab,initialSubtab:n.query.subtab})})})});