// Part of <https://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

define(["../broker","../router","../viewport","../user","../data/orgUnits","../prodShifts/ProdShift","./pages/ProductionPage","i18n!app/nls/production","i18n!app/nls/isa","i18n!app/nls/prodSerialNumbers"],function(n,i,r,o,e,t,a){"use strict";i.map("/production/*prodLineId",function(i){var o=e.getByTypeAndId("prodLine",i.params.prodLineId);return null===o?n.publish("router.404",{req:i}):void r.showPage(new a({model:new t(e.getAllForProdLine(o),{production:!0})}))}),i.map("/production;settings",o.auth("PROD_DATA:MANAGE"),function(n){r.loadPage(["app/production/pages/ProductionSettingsPage"],function(i){return new i({initialTab:n.query.tab,initialSubtab:n.query.subtab})})})});