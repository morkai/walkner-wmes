// Part of <https://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

define(["../broker","../router","../viewport","../user","../data/orgUnits","../prodShifts/ProdShift","./pages/ProductionPage","i18n!app/nls/production","i18n!app/nls/isa","i18n!app/nls/prodSerialNumbers"],function(n,i,r,e,o,t,a){"use strict";i.map("/production/*prodLineId",function(i){var e=o.getByTypeAndId("prodLine",i.params.prodLineId);if(null===e)return n.publish("router.404",{req:i});r.showPage(new a({model:new t(o.getAllForProdLine(e),{production:!0})}))}),i.map("/production;settings",e.auth("PROD_DATA:MANAGE","PROD_DATA:MANAGE:SPIGOT_ONLY"),function(n){r.loadPage(["app/production/pages/ProductionSettingsPage"],function(i){return new i({initialTab:n.query.tab,initialSubtab:n.query.subtab})})})});