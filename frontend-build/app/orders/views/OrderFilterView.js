define(["underscore","app/core/util/idAndLabel","app/core/util/forms/dateTimeRange","app/core/views/FilterView","app/data/orderStatuses","app/mrpControllers/util/setUpMrpSelect2","app/orders/templates/filter"],function(e,t,s,a,i,r,n){"use strict";return a.extend({template:n,events:e.assign({"click a[data-date-time-range]":s.handleRangeEvent},a.prototype.events),defaultFormData:{_id:"",nc12:"",mrp:"",statuses:""},termToForm:{scheduledStartDate:s.rqlToForm,_id:function(e,t,s){var a=t.args[1];s[e]="string"==typeof a?a.replace(/[^0-9]/g,""):"-"},mrp:function(e,t,s){s[e]=t.args[1].join(",")},statuses:function(e,t,s){s["all"===t.name?"statusesIn":"statusesNin"]=t.args[1].join(",")},nc12:"_id"},afterRender:function(){a.prototype.afterRender.call(this),r(this.$id("mrp"),{own:!0,view:this}),this.$id("statusesIn").select2({width:"200px",multiple:!0,data:i.map(t)}),this.$id("statusesNin").select2({width:"200px",multiple:!0,data:i.map(t)})},serializeFormToQuery:function(e){var t=this.$id("mrp").val(),a=this.$id("statusesIn").val(),i=this.$id("statusesNin").val();s.formToRql(this,e),this.serializeRegexTerm(e,"_id",9,null,!1,!0),this.serializeRegexTerm(e,"nc12",12,null,!1,!0),t.length&&e.push({name:"in",args:["mrp",t.split(",")]}),a.length&&e.push({name:"all",args:["statuses",a.split(",")]}),i.length&&e.push({name:"nin",args:["statuses",i.split(",")]})}})});