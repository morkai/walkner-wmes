define(["underscore","app/core/util/idAndLabel","app/core/util/forms/dateTimeRange","app/core/views/FilterView","app/data/orderStatuses","app/mrpControllers/util/setUpMrpSelect2","app/orders/templates/filter"],function(t,e,s,a,i,n,r){"use strict";return a.extend({template:r,events:t.assign({"click a[data-date-time-range]":s.handleRangeEvent},a.prototype.events),defaultFormData:{id:"",idType:"_id",nc12:"",mrp:"",statuses:""},termToForm:{scheduledStartDate:s.rqlToForm,_id:function(t,e,s){s.id=e.args[1],s.idType=t},nc12:"_id","bom.nc12":"_id","documents.nc15":"_id",mrp:function(t,e,s){s[t]=e.args[1].join(",")},statuses:function(t,e,s){s["all"===e.name?"statusesIn":"statusesNin"]=e.args[1].join(",")}},afterRender:function(){a.prototype.afterRender.call(this),n(this.$id("mrp"),{own:!0,view:this}),this.$id("statusesIn").select2({width:"200px",multiple:!0,data:i.map(e)}),this.$id("statusesNin").select2({width:"200px",multiple:!0,data:i.map(e)})},serializeFormToQuery:function(t){var e=this.$id("id").val().trim(),a=this.$('input[name="idType"]:checked').val(),i=this.$id("mrp").val(),n=this.$id("statusesIn").val(),r=this.$id("statusesNin").val();s.formToRql(this,t),e.length&&t.push({name:"eq",args:[a,e]}),i.length&&t.push({name:"in",args:["mrp",i.split(",")]}),n.length&&t.push({name:"all",args:["statuses",n.split(",")]}),r.length&&t.push({name:"nin",args:["statuses",r.split(",")]})}})});