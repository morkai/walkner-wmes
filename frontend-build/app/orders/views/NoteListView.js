define(["app/viewport","app/core/View","./NotesEditFormView","app/orders/templates/noteList"],function(e,t,n,i){"use strict";return t.extend({template:i,remoteTopics:{"orders.productNodes.**":"render"},events:{"click #-edit":function(){var t=new n({model:this.model});e.showDialog(t,this.t("notes:edit:title"))}},initialize:function(){this.once("afterRender",function(){this.listenTo(this.model,"change:notes",this.render)})},getTemplateData:function(){var e=[];return this.model.get("notes").forEach(function(t){0!==e.length&&e[e.length-1]._id===t.target||e.push({_id:t.target,notes:[]}),e[e.length-1].notes.push(t)}),{targets:e}}})});