define(["moment","../core/Model","./OperationCollection"],function(t,e,n){return e.extend({urlRoot:"/orders",clientUrlRoot:"#orders",topicPrefix:"orders",privilegePrefix:"ORDERS",nlsDomain:"orders",labelAttribute:"_id",defaults:{nc12:null,name:null,mrp:null,qty:null,unit:null,startDate:null,finishDate:null,statuses:null,operations:null,createdAt:null,updatedAt:null},parse:function(t,r){return t=e.prototype.parse.call(this,t,r),t.operations=new n(t.operations),t},toJSON:function(){var n=e.prototype.toJSON.call(this);return n.startDate&&(n.startDateText=t(n.startDate).format("LL")),n.finishDate&&(n.finishDateText=t(n.finishDate).format("LL")),n.qty&&n.unit&&(n.qtyUnit=n.qty+" "+n.unit),n.createdAt&&(n.createdAtText=t(n.createdAt).format("LLLL")),n.updatedAt&&(n.updatedAtText=t(n.updatedAt).format("LLLL")),n.operations=null===n.operations?[]:n.operations.toJSON(),n}})});