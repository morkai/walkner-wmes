define(["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(n){return void 0==n?"":String(n).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(n){return _ENCODE_HTML_RULES[n]||n}var __output=[],__append=__output.push.bind(__output);with(locals||{})__append('<div class="panel panel-default orders-operations">\n  <div class="panel-heading">'),__append(helpers.t("PANEL:TITLE:operations")),__append("</div>\n  "),operations.length?(__append('\n  <div class="list">\n    <div class="table-responsive">\n      <table class="table table-condensed table-hover table-bordered">\n        <thead>\n        <tr>\n          <th class="is-min">'),__append(helpers.t("PROPERTY:operations.no")),__append('\n          <th class="is-min">'),__append(helpers.t("PROPERTY:operations.workCenter")),__append('\n          <th class="is-min">'),__append(helpers.t("PROPERTY:operations.name")),__append("\n            "),showQty&&(__append('\n          <th class="is-min">'),__append(helpers.t("PROPERTY:operations.qty")),__append("\n            "),showQtyMax&&(__append('\n          <th class="is-min">'),__append(helpers.t("PROPERTY:operations.qtyMax")),__append("\n            ")),__append('\n          <th class="is-min">\n            ')),__append("\n            "),user.isAllowedTo("PROD_DATA:VIEW","ORDERS:VIEW")&&(__append('\n          <th class="is-min">'),__append(helpers.t("PROPERTY:operations.machineSetupTime")),__append('\n          <th class="is-min">'),__append(helpers.t("PROPERTY:operations.laborSetupTime")),__append('\n          <th class="is-min">'),__append(helpers.t("PROPERTY:operations.machineTime")),__append('\n          <th class="is-min">'),__append(helpers.t("PROPERTY:operations.laborTime")),__append("\n            ")),__append("\n          <th>\n        </tr>\n        </thead>\n        <tbody>\n        "),operations.forEach(function(n){__append('\n          <tr class="'),__append(n.no===highlighted?"info":""),__append('">\n            <td class="is-min is-number">'),__append(escapeFn(n.no||"-")),__append('\n            <td class="is-min">'),__append(escapeFn(n.workCenter||"-")),__append('\n            <td class="is-min">'),__append(escapeFn(n.name||"-")),__append("\n              "),showQty&&(__append('\n            <td class="is-min is-number">\n              '),showQtyMax?(__append("\n                "),__append(n.qtyDone.toLocaleString()),__append("/"),__append(n.qty.toLocaleString()),__append("\n              ")):(__append("\n                "),__append(n.qty.toLocaleString()),__append("\n              ")),__append("\n              "),showQtyMax&&(__append('\n            <td class="is-min is-number" data-action="changeQtyMax">\n              '),canChangeQtyMax?(__append('\n                <a href="#" data-operation-no="'),__append(n.no),__append('" data-qty="'),__append(n.qty),__append('" data-qty-max="'),__append(n.qtyMax),__append('">'),__append(escapeFn(n.qtyMax.toLocaleString())),__append("</a>\n              ")):(__append("\n                "),__append(n.qtyMax.toLocaleString()),__append("\n              ")),__append("\n            </td>\n            ")),__append('\n            <td class="is-min">'),__append(escapeFn(n.unit)),__append("</td>\n            ")),__append("\n            "),user.isAllowedTo("PROD_DATA:VIEW","ORDERS:VIEW")&&(__append("\n              "),timeProps.forEach(function(p){__append('\n            <td class="is-min is-number">\n              '),n.times.sap[p]&&n.times.sap[p]!==n.times.actual[p]?(__append('\n                <span title="'),__append(helpers.t("details:opTimes:sap")),__append('">'),__append(n.times.sap[p]),__append('</span> -> <span title="'),__append(helpers.t("details:opTimes:actual")),__append('">\n                ')):(__append('\n                <span title="'),__append(helpers.t("details:opTimes:sap")),__append('">\n                  ')),__append("\n                  "),__append(n.times.actual[p]||"-"),__append("</span>"),n.no===highlighted&&n.times.summed[p]&&n.times.summed[p]!==n.times.actual[p]&&(__append(' <span title="'),__append(helpers.t("details:opTimes:summed")),__append('">('),__append(n.times.summed[p]),__append(")</span>")),__append("\n                ")}),__append("\n                ")),__append("\n            <td>\n          </tr>\n        ")}),__append("\n        </tbody>\n      </table>\n    </div>\n  </div>\n  ")):(__append('\n  <div class="panel-body">\n    '),__append(helpers.t("OPERATIONS:NO_DATA")),__append("\n  </div>\n  ")),__append("\n</div>\n");return __output.join("")}});