define(["app/viewport","app/core/util/pageActions","app/core/util/bindLoadingMessage","app/core/pages/FilteredListPage","app/delayReasons/storage","../OrderCollection","../views/OrderListView","../views/OrderFilterView","../views/OpenOrdersPrintView"],function(e,t,i,s,n,o,r,l,a){"use strict";return s.extend({actions:function(i){var s=this;return[t.jump(s,s.collection,{mode:"id"}),t.export(i,s,s.collection),{label:s.t("PAGE_ACTION:openOrdersPrint"),icon:"print",privileges:"USER",callback:function(){e.showDialog(new a,s.t("openOrdersPrint:title"))}},{label:s.t("PAGE_ACTION:tags"),icon:"tag",privileges:"ORDERS:MANAGE",href:"#productTags"},{label:s.t("PAGE_ACTION:notes"),icon:"sticky-note-o",privileges:"ORDERS:MANAGE",href:"#productNotes"},{label:s.t("PAGE_ACTION:settings"),icon:"cogs",privileges:"ORDERS:MANAGE",href:"#orders;settings"}]},destroy:function(){n.release()},defineModels:function(){s.prototype.defineModels.apply(this,arguments),this.delayReasons=i(n.acquire(),this)},createFilterView:function(){return new l({model:this.collection,delayReasons:this.delayReasons})},createListView:function(){return new r({collection:this.collection,delayReasons:this.delayReasons})},load:function(e){return e(this.collection.fetch({reset:!0}),this.delayReasons.isEmpty()?this.delayReasons.fetch({reset:!0}):null)},afterRender:function(){n.acquire()}})});