define(["underscore","app/data/divisions","app/data/subdivisions","app/data/mrpControllers","app/data/workCenters","app/data/prodFlows","app/data/prodLines"],function(t,r,n,e,o,i,a){"use strict";return function(t,s,p){if(!t)return"?";var l=[],c="???";return(t.constructor!==a.model||(l.unshift(t),c=t.get("workCenter"),t=o.get(c)))&&(t.constructor!==o.model||(l.unshift(t),c=t.get("prodFlow")||t.get("mrpController"),t=t.get("prodFlow")?i.get(c):e.get(c)))?t.constructor!==i.model||(l.unshift(t),(t=(c=t.get("mrpController")||[]).map(function(t){return e.get(t)}).filter(function(t){return!!t})).length)?(!(t.constructor===e.model||t[0]&&t[0].constructor===e.model)||(l.unshift(t),c=(t[0]||t).get("subdivision"),t=n.get(c)))&&(t.constructor!==n.model||(l.unshift(t),c=t.get("division"),t=r.get(c)))?(t.constructor===r.model&&l.unshift(t),!1!==p&&l.pop(),0===l.length?"???":l.map(function(t){return Array.isArray(t)?t.map(function(t){return u(t,s)}).join("; "):u(t,s)}).join(" \\ ")):"???"+c+"???":"???"+c.join("; ")+"???":"???"+c+"???"};function u(r,n){var e=t.escape(r.getLabel());if(null===n)return e;var o=r.get("deactivatedAt")?"text-decoration: line-through!important":"";return n?'<a href="'+r.genClientUrl()+'" style="'+o+'">'+e+"</a>":'<span style="'+o+'">'+e+"</span>"}});