define(["underscore","app/data/divisions","app/data/subdivisions","app/data/mrpControllers","app/data/workCenters","app/data/prodFlows","app/data/prodLines"],function(t,r,e,n,o,i,a){"use strict";return function(t,u,p){if(!t)return"?";var c=[],d="???";return(t.constructor!==a.model||(c.unshift(t),d=t.get("workCenter"),t=o.get(d)))&&(t.constructor!==o.model||(c.unshift(t),d=t.get("prodFlow")||t.get("mrpController"),t=t.get("prodFlow")?i.get(d):n.get(d)))?t.constructor!==i.model||(c.unshift(t),(t=(d=t.get("mrpController")||[]).map(function(t){return n.get(t)}).filter(function(t){return!!t})).length)?(!(t.constructor===n.model||t[0]&&t[0].constructor===n.model)||(c.unshift(t),d=(t[0]||t).get("subdivision"),t=e.get(d)))&&(t.constructor!==e.model||(c.unshift(t),d=t.get("division"),t=r.get(d)))?(t.constructor===r.model&&c.unshift(t),!1!==p&&c.pop(),0===c.length?"???":c.map(function(t){return Array.isArray(t)?t.map(function(t){return s(t,u)}).join("; "):s(t,u)}).join(" \\ ")):"???"+d+"???":"???"+d.join("; ")+"???":"???"+d+"???"};function s(r,e){var n=t.escape(r.getLabel()),o=r.get("deactivatedAt")?"text-decoration: line-through!important":"";return e?'<a href="'+r.genClientUrl()+'" style="'+o+'">'+n+"</a>":'<span style="'+o+'">'+n+"</span>"}});