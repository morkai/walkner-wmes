// Part of <https://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

define(["underscore","app/time","app/core/views/FilterView","app/hourlyPlans/templates/dailyMrpPlans/listFilter"],function(e,t,a,n){"use strict";return a.extend({template:n,events:e.assign({"change #-date":"changeFilter"},a.prototype.events),defaultFormData:function(){return{date:""}},termToForm:{date:function(e,a,n){"ge"===a.name?n.date=t.getMoment(a.args[1]).add(3,"days").format("YYYY-MM-DD"):"le"===a.name&&(n.date=t.getMoment(a.args[1]).subtract(3,"days").format("YYYY-MM-DD"))}},afterRender:function(){a.prototype.afterRender.call(this)},isValid:function(){return t.getMoment(this.$id("date").val(),"YYYY-MM-DD").isValid()},serializeFormToQuery:function(e){var a=t.getMoment(this.$id("date").val(),"YYYY-MM-DD"),n=a.clone().subtract(3,"days").valueOf(),r=a.clone().add(3,"days").valueOf();e.push({name:"ge",args:["date",n]},{name:"le",args:["date",r]})}})});