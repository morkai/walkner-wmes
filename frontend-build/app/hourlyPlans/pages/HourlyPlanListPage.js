// Part of <http://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

define(["app/i18n","app/user","app/core/util/pageActions","app/core/pages/FilteredListPage","app/fte/views/FteEntryFilterView","../HourlyPlanCollection","../views/HourlyPlanListView"],function(e,i,l,n,r,t,o){"use strict";return n.extend({FilterView:r,ListView:o,actions:function(n){var r=function(){return i.isAllowedTo("HOURLY_PLANS:MANAGE","PROD_DATA:MANAGE")};return[{label:e.bound("hourlyPlans","PAGE_ACTION:add"),href:"#hourlyPlans;add",icon:"plus",privileges:r},l["export"](n,this,this.collection),{label:e.bound("hourlyPlans","PAGE_ACTION:heff"),href:"#hourlyPlans;heff",icon:"smile-o",privileges:r}]},createFilterView:function(){return new r({model:{rqlQuery:this.collection.rqlQuery},divisionOnly:!0,divisionFilter:function(e){return"prod"===e.get("type")}})}})});