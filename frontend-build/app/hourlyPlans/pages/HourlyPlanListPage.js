// Part of <http://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

define(["app/i18n","app/user","app/core/util/pageActions","app/core/pages/FilteredListPage","app/fte/views/FteEntryFilterView","../HourlyPlanCollection","../views/HourlyPlanListView"],function(e,i,n,l,r,t,o){"use strict";return l.extend({FilterView:r,ListView:o,actions:function(l){var r=function(){return i.isAllowedTo("HOURLY_PLANS:MANAGE","PROD_DATA:MANAGE")};return[{label:e.bound("hourlyPlans","PAGE_ACTION:add"),href:"#hourlyPlans;add",icon:"plus",privileges:r},n["export"](l,this,this.collection),{label:e.bound("hourlyPlans","PAGE_ACTION:planning"),href:"#hourlyPlans;planning",icon:"calculator",privileges:r}]},createFilterView:function(){return new r({model:{rqlQuery:this.collection.rqlQuery},divisionOnly:!0,divisionFilter:function(e){return"prod"===e.get("type")}})}})});