// Part of <https://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

define(["underscore","app/time","app/core/views/FilterView","app/core/util/idAndLabel","app/orgUnits/views/OrgUnitPickerView","app/prodChangeRequests/templates/filter"],function(t,e,i,r,n,s){"use strict";return i.extend({template:s,defaultFormData:function(){return{status:"new"}},termToForm:{status:function(t,e,i){i.status="eq"===e.name?"new":"old"}},initialize:function(){i.prototype.initialize.apply(this,arguments),this.setView("#"+this.idPrefix+"-orgUnit",new n({orgUnitTypes:["division","prodLine"],filterView:this}))},afterRender:function(){i.prototype.afterRender.call(this),this.toggleButtonGroup("status")},serializeFormToQuery:function(t,e){var i=this.getButtonGroupValue("status");"old"===i?(t.push({name:"in",args:["status",["accepted","rejected"]]}),e.sort={_id:-1}):(t.push({name:"eq",args:["status","new"]}),e.sort={prodLine:1,_id:1})}})});