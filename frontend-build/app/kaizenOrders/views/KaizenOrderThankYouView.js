// Copyright (c) 2014, ≈Åukasz Walukiewicz <lukasz@walukiewicz.eu>. Some Rights Reserved.
// Licensed under CC BY-NC-SA 4.0 <http://creativecommons.org/licenses/by-nc-sa/4.0/>.
// Part of the walkner-wmes project <http://lukasz.walukiewicz.eu/p/walkner-wmes>

define(["jquery","app/core/View","app/kaizenOrders/templates/thanks"],function(o,i,e){"use strict";return i.extend({template:e,initialize:function(){this.doCloseDialog=this.doCloseDialog.bind(this),o(window).on("mousedown.thanks",this.doCloseDialog).on("keydown.thanks",this.doCloseDialog),this.broker.subscribe("router.*",this.doCloseDialog).setLimit(1)},destroy:function(){o(window).off(".thanks")},onDialogShown:function(o){this.closeDialog=o.closeDialog.bind(o,null)},doCloseDialog:function(){this.closeDialog(),this.closeDialog=function(){}},closeDialog:function(){}})});