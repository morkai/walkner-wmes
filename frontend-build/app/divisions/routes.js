define(["../router","../viewport","../i18n","../user","../data/divisions","./Division","../core/pages/ListPage","../core/pages/DetailsPage","../core/pages/AddFormPage","../core/pages/EditFormPage","../core/pages/ActionFormPage","./views/DivisionFormView","app/divisions/templates/details","i18n!app/nls/divisions"],function(e,t,i,n,o,r,s,a,l,c,u,p,d){var h=n.auth("DICTIONARIES:VIEW"),f=n.auth("DICTIONARIES:MANAGE");e.map("/divisions",h,function(){t.showPage(new s({collection:o,columns:["_id","type","description"],serializeRow:function(e){var t=e.toJSON();return t.type=i("divisions","TYPE:"+t.type),t}}))}),e.map("/divisions/:id",function(e){t.showPage(new a({model:new r({_id:e.params.id}),detailsTemplate:d}))}),e.map("/divisions;add",f,function(){t.showPage(new l({FormView:p,model:new r}))}),e.map("/divisions/:id;edit",f,function(e){t.showPage(new c({FormView:p,model:new r({_id:e.params.id})}))}),e.map("/divisions/:id;delete",f,function(e,i){var n=new r({_id:e.params.id});t.showPage(new u({model:n,actionKey:"delete",successUrl:n.genClientUrl("base"),cancelUrl:i||n.genClientUrl("base"),formMethod:"DELETE",formAction:n.url(),formActionSeverity:"danger"}))})});