define(["../router","../viewport","../i18n","../user","../data/divisions","./Division","../core/pages/ListPage","../core/pages/DetailsPage","../core/pages/AddFormPage","../core/pages/EditFormPage","../core/pages/ActionFormPage","./views/DivisionFormView","app/divisions/templates/details","i18n!app/nls/divisions"],function(e,i,o,n,s,a,d,t,r,c,l,m,p){var w=n.auth("DICTIONARIES:VIEW"),g=n.auth("DICTIONARIES:MANAGE");e.map("/divisions",w,function(){i.showPage(new d({collection:s,columns:["_id","type","description"],serializeRow:function(e){var i=e.toJSON();return i.type=o("divisions","TYPE:"+i.type),i}}))}),e.map("/divisions/:id",function(e){i.showPage(new t({model:new a({_id:e.params.id}),detailsTemplate:p}))}),e.map("/divisions;add",g,function(){i.showPage(new r({FormView:m,model:new a}))}),e.map("/divisions/:id;edit",g,function(e){i.showPage(new c({FormView:m,model:new a({_id:e.params.id})}))}),e.map("/divisions/:id;delete",g,function(e,o){var n=new a({_id:e.params.id});i.showPage(new l({model:n,actionKey:"delete",successUrl:n.genClientUrl("base"),cancelUrl:o||n.genClientUrl("base"),formMethod:"DELETE",formAction:n.url(),formActionSeverity:"danger"}))})});