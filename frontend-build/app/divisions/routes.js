define(["../router","../viewport","../i18n","../user","../core/util/showDeleteFormPage","../data/divisions","./Division","i18n!app/nls/divisions"],function(e,t,i,n,r,o,s){var a=n.auth("DICTIONARIES:VIEW"),l=n.auth("DICTIONARIES:MANAGE");e.map("/divisions",a,function(){t.loadPage(["app/core/pages/ListPage"],function(e){return new e({collection:o,columns:["_id","type","description"],serializeRow:function(e){var t=e.toJSON();return t.type=i("divisions","TYPE:"+t.type),t}})})}),e.map("/divisions/:id",function(e){t.loadPage(["app/core/pages/DetailsPage","app/divisions/templates/details"],function(t,i){return new t({model:new s({_id:e.params.id}),detailsTemplate:i})})}),e.map("/divisions;add",l,function(){t.loadPage(["app/core/pages/AddFormPage","app/divisions/views/DivisionFormView"],function(e,t){return new e({FormView:t,model:new s})})}),e.map("/divisions/:id;edit",l,function(e){t.loadPage(["app/core/pages/EditFormPage","app/divisions/views/DivisionFormView"],function(t,i){return new t({FormView:i,model:new s({_id:e.params.id})})})}),e.map("/divisions/:id;delete",l,r.bind(null,s))});