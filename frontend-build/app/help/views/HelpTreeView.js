define(["app/core/View","app/help/templates/tree","app/help/templates/treeNode"],function(e,t,n){"use strict";return e.extend({template:t,events:{"click .help-tree-node-icon":function(e){return this.model.toggle(this.nodeId(e.target)),!1},"click .help-tree-node-inner":function(e){return this.model.select(this.nodeId(e.target)),!1},"dblclick .help-tree-node-inner":function(e){return this.$(e.target).closest(".help-tree-node-icon").length||this.model.toggle(this.nodeId(e.target)),!1}},initialize:function(){this.listenTo(this.model,"reset",this.render),this.listenTo(this.model,"expanded",this.onExpanded),this.listenTo(this.model,"selected",this.onSelected)},getTemplateData:function(){return{renderNode:n,tree:this.model.serializeTree()}},$node:function(e){return"string"==typeof e?this.$('.help-tree-node[data-id="'+e+'"]'):this.$(e).closest(".help-tree-node")},nodeId:function(e){return this.$node(e)[0].dataset.id},onExpanded:function(e,t){this.$node(e).toggleClass("is-expanded",t)},onSelected:function(e){this.$(".is-selected").removeClass("is-selected"),this.$node(e).addClass("is-selected")}})});