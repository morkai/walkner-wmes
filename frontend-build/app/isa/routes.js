// Part of <http://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

define(["../router","../viewport","../user","app/users/UserCollection","./IsaShiftPersonnel","./IsaLineStateCollection","./IsaEventCollection","./pages/IsaLineStatePage","i18n!app/nls/isa"],function(e,n,l,s,t,a,i,r){"use strict";e.map("/isa",l.auth("LOCAL","ISA:VIEW"),function(e){n.showPage(new r({fullscreen:void 0!==e.query.fullscreen,model:{warehousemen:new s(null,{rqlQuery:"select(firstName,lastName,personellId)&privileges=ISA%3AWHMAN"}),shiftPersonnel:new t(null,{current:!0}),lineStates:new a(null,{paginate:!1}),events:new i(null,{paginate:!1,rqlQuery:"sort(-time)&limit(50)"}),selectedResponder:null,moving:{}}}))}),e.map("/isa/events",l.auth("LOCAL","ISA:VIEW"),function(e){n.loadPage(["app/isa/pages/IsaEventListPage"],function(n){return new n({collection:new i(null,{rqlQuery:e.rql})})})}),e.map("/isa/requests",l.auth("LOCAL","ISA:VIEW"),function(e){n.loadPage(["app/isa/IsaRequestCollection","app/isa/pages/IsaRequestListPage"],function(n,l){return new l({collection:new n(null,{rqlQuery:e.rql})})})})});