// Part of <https://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

define(["app/data/orgUnits","app/core/views/FilterView","app/core/util/idAndLabel","app/core/util/fixTimeRange","app/orgUnits/views/OrgUnitPickerView","app/isa/templates/requestListFilter"],function(e,t,i,r,a,s){"use strict";return t.extend({template:s,defaultFormData:{requestedAt:""},termToForm:{requestedAt:function(e,t,i){r.toFormData(i,t,"date+time")}},initialize:function(){t.prototype.initialize.apply(this,arguments),this.setView("#"+this.idPrefix+"-orgUnit",new a({mode:"array",filterView:this}))},serializeFormToQuery:function(e){var t=r.fromView(this,{defaultTime:"00:00"}),i=this.$id("line").val();i&&i.length&&e.push({name:"orgUnit",args:["prodLine",i]}),t.from&&e.push({name:"ge",args:["requestedAt",t.from]}),t.to&&e.push({name:"lt",args:["requestedAt",t.to]})}})});