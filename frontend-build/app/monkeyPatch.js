// Part of <http://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

define(["jquery","backbone","bootstrap","select2"],function(o,t){"use strict";var e=t.sync;t.sync=function(o,t,n){return n.syncMethod=o,e.call(this,o,t,n)},o.fn.modal.Constructor.prototype.enforceFocus=function(){},o.fn.modal.Constructor.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",o.proxy(function(o){27===o.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},o.fn.modal.Constructor.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight||"scroll"===o(document.body).css("overflow-y"),this.scrollbarWidth=this.measureScrollbar()};var n=o(document.body);return o.fn.select2.defaults.dropdownContainer=function(o){var t=o.container.closest(".modal-body");if(0===t.length)return n;var e=t.closest(".modal-dialog");return 0===e.length?n:e},n.on("click","label[for]",function(t){var e=o("#"+t.target.htmlFor);e.data("select2")&&!e.parent().hasClass("has-required-select2")&&e.select2("focus")}),{}});