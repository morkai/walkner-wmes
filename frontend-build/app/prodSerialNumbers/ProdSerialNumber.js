define(["../time","../user","../core/Model"],function(r,t,e){"use strict";return e.extend({urlRoot:"/prodSerialNumbers",clientUrlRoot:"#prodSerialNumbers",topicPrefix:"prodSerialNumbers",privilegePrefix:"PROD_DATA",nlsDomain:"prodSerialNumbers",serialize:function(){var e=this.toJSON();return e.className=e.taktTime>1e3*e.sapTaktTime?"warning":"success",e.orderNo=e.prodShiftOrder&&t.isAllowedTo("PROD_DATA:VIEW")?`<a href="#prodShiftOrders/${e.prodShiftOrder}">${e.orderNo}</a>`:e.orderNo,e.scannedAt=r.format(e.scannedAt,"L, LTS"),e.iptAt=e.iptAt?r.format(e.iptAt,"L, LTS"):null,e.taktTime=e.taktTime?r.toString(Math.round(e.taktTime/1e3)):"",e.iptTaktTime=e.iptTaktTime?r.toString(Math.round(e.iptTaktTime/1e3)):"",e.sapTaktTime=e.sapTaktTime?r.toString(e.sapTaktTime):"",e.bom=Array.isArray(e.bom)?e.bom.map(function(r){return r.split(":")[0]}).join(", "):"",e}})});