define(["require","app/time","app/core/Model"],function(e,i,o){"use strict";return o.extend({urlRoot:"/osh/employments",clientUrlRoot:"#osh/employments",topicPrefix:"osh.employments",privilegePrefix:"OSH:HR",nlsDomain:"wmes-osh-employments",getLabel:function(){return i.utc.format(this.id,"MMMM YYYY")},serialize:function(){const e=this.toJSON();return e.month=i.utc.format(e._id,"MMMM YYYY"),e},serializeRow:function(){const e=this.serialize();return e.count=0,e.divisions.forEach(({count:i})=>e.count+=i),e},serializeDetails:function(){const i=e("app/wmes-osh-common/dictionaries"),o=this.serialize(),t=new Map;return o.divisions.forEach(e=>{t.has(e.workplace)||t.set(e.workplace,{label:i.getLabel("workplaces",e.workplace),divisions:[]}),t.get(e.workplace).divisions.push({label:i.getLabel("divisions",e.division),count:e.count})}),o.workplaces=Array.from(t.values()),o}})});