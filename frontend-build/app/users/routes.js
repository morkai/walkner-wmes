define(["../router","../viewport","../user","./User","./UserCollection","../core/pages/DetailsPage","../core/pages/AddFormPage","../core/pages/EditFormPage","../core/pages/ActionFormPage","./pages/UserListPage","./views/UserDetailsView","./views/UserFormView","i18n!app/nls/users"],function(e,a,s,r,i,o,n,t,d,l,m,w){var c=s.auth("USERS:VIEW"),u=s.auth("USERS:MANAGE");e.map("/users",c,function(e){a.showPage(new l({rql:e.rql}))}),e.map("/users/:id",function(e,a,r){e.params.id===s.data._id?r():c(e,a,r)},function(e){a.showPage(new o({DetailsView:m,model:new r({_id:e.params.id})}))}),e.map("/users;add",u,function(){a.showPage(new n({FormView:w,model:new r}))}),e.map("/users/:id;edit",u,function(e){a.showPage(new t({FormView:w,model:new r({_id:e.params.id})}))}),e.map("/users/:id;delete",u,function(e,s){var i=new r({_id:e.params.id});a.showPage(new d({model:i,actionKey:"delete",successUrl:i.genClientUrl("base"),cancelUrl:s||i.genClientUrl("base"),formMethod:"DELETE",formAction:i.url(),formActionSeverity:"danger"}))})});