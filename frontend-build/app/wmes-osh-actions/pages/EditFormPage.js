define(["app/wmes-osh-common/ResolutionCollection","app/wmes-osh-common/pages/EditFormPage","../views/FormView"],function(e,o,t){"use strict";return o.extend({FormView:t,remoteTopics:function(){const e=o.prototype.remoteTopics?o.prototype.remoteTopics.apply(this,arguments):{};return e[`${this.model.getTopicPrefix()}.relations.${this.model.id}`]="onRelationsUpdated",e},defineModels:function(){o.prototype.defineModels.apply(this,arguments),this.resolutions=new e(null,{parent:this.model})},getFormViewOptions:function(){return Object.assign(o.prototype.getFormViewOptions.apply(this,arguments),{resolutions:this.resolutions})},load:function(e){return e(this.model.fetch(),this.resolutions.fetch({reset:!0}))},onRelationsUpdated:function({relation:e,change:o}){const t=this.resolutions.get(e.rid);t&&t.handleUpdate(o)}})});