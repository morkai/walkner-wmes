define(["underscore","app/router","app/viewport","app/user","app/core/pages/ListPage","app/core/pages/DetailsPage","app/core/pages/AddFormPage","app/core/pages/EditFormPage","app/core/util/showDeleteFormPage","app/wmes-osh-common/dictionaries","./Department","./DepartmentCollection","i18n!app/nls/wmes-osh-departments"],function(e,a,s,t,p,m,i,d,o,n,r){"use strict";var l=t.auth("OSH:DICTIONARIES:VIEW"),c=t.auth("OSH:DICTIONARIES:MANAGE");a.map("/osh/departments",l,()=>{s.showPage(n.bind(new p({load:null,collection:n.departments,columns:[{id:"workplace",className:"is-min"},{id:"shortName",className:"is-min"},{id:"longName"},{id:"managers",className:"is-min"},{id:"active",className:"is-min"}]})))}),a.map("/osh/departments/:id",l,e=>{s.loadPage(["app/wmes-osh-departments/templates/details"],a=>{const s=n.departments.get(e.params.id);return n.bind(new m({detailsTemplate:a,model:s||new r({_id:e.params.id})}))})}),a.map("/osh/departments;add",c,()=>{s.loadPage(["app/wmes-osh-departments/views/FormView"],e=>n.bind(new i({FormView:e,model:new r})))}),a.map("/osh/departments/:id;edit",c,e=>{s.loadPage(["app/wmes-osh-departments/views/FormView"],a=>{const s=n.departments.get(e.params.id);return n.bind(new d({FormView:a,model:s||new r({_id:e.params.id})}))})}),a.map("/osh/departments/:id;delete",c,e.partial(o,r,e,e,{}))});