define(["app/core/views/FormView","app/core/util/idAndLabel","app/users/util/setUpUserSelect2","app/wmes-osh-common/dictionaries","app/wmes-osh-departments/templates/form"],function(e,t,r,s,o){"use strict";return e.extend({template:o,afterRender:function(){e.prototype.afterRender.apply(this,arguments),this.setUpWorkplaceSelect2(),this.setUpManagersSelect2(),this.setUpCoordinatorsSelect2()},setUpWorkplaceSelect2:function(){this.$id("workplace").select2({width:"100%",data:s.workplaces.map(e=>({id:e.id,text:e.getLabel({long:!0})}))})},setUpManagersSelect2:function(){r(this.$id("managers"),{multiple:!0,allowClear:!0,currentUserInfo:this.model.get("managers")})},setUpCoordinatorsSelect2:function(){r(this.$id("coordinators"),{multiple:!0,allowClear:!0,currentUserInfo:this.model.get("coordinators")})},serializeForm:function(e){return e.managers=r.getUserInfo(this.$id("managers")),e.coordinators=r.getUserInfo(this.$id("coordinators")),e.syncPatterns||(e.syncPatterns=""),e}})});