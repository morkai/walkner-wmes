define(["require","underscore","app/i18n","app/core/Model","app/core/templates/userInfo"],function(e,t,o,r,n){"use strict";return r.extend({urlRoot:"/osh/departments",clientUrlRoot:"#osh/departments",topicPrefix:"osh.departments",privilegePrefix:"OSH:DICTIONARIES",nlsDomain:"wmes-osh-departments",labelAttribute:"shortName",defaults:function(){return{active:!0,coordinators:[]}},getLabel:function({long:o,path:r,link:n}={}){let a=this.get(o?"longName":"shortName");if(n&&(a=`<a href="${this.genClientUrl()}">${t.escape(a)}</a>`),r){a=`${e("app/wmes-osh-common/dictionaries").getLabel("workplace",this.get("workplace"),{long:o,path:r,link:n})} \\ ${a}`}return a},serialize:function(){const e=this.toJSON();return e.active=o("core",`BOOL:${e.active}`),e.manager=n({userInfo:e.manager}),e.coordinators=e.coordinators.map(e=>n({userInfo:e})),e},serializeRow:function(){const t=e("app/wmes-osh-common/dictionaries"),o=this.serialize();return o.workplace=t.workplaces.getLabel(o.workplace),o},serializeDetails:function(){const t=e("app/wmes-osh-common/dictionaries"),o=this.serialize();return o.workplace=t.workplaces.getLabel(o.workplace,{long:!0,link:!0}),o},hasWorkplace:function(e){return this.get("workplace")===+e}})});