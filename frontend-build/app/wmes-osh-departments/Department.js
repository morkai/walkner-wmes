define(["require","underscore","app/i18n","app/core/Model","app/core/templates/userInfo"],function(e,o,t,r,n){"use strict";return r.extend({urlRoot:"/osh/departments",clientUrlRoot:"#osh/departments",topicPrefix:"osh.departments",privilegePrefix:"OSH:DICTIONARIES",nlsDomain:"wmes-osh-departments",labelAttribute:"shortName",defaults:function(){return{active:!0,coordinators:[]}},getLabel:function({long:t,path:r,link:n}={}){let i=this.get(t?"longName":"shortName");if(n&&(i=`<a href="${this.genClientUrl()}">${o.escape(i)}</a>`),r){i=`${e("app/wmes-osh-common/dictionaries").getLabel("workplace",this.get("workplace"),{long:t,path:r,link:n})} \\ ${i}`}return i},serialize:function(){const e=this.toJSON();return e.active=t("core",`BOOL:${e.active}`),e},serializeRow:function(){const o=e("app/wmes-osh-common/dictionaries"),t=this.serialize();t.workplace=o.workplaces.getLabel(t.workplace,{path:!0,link:!0});const r=t.coordinators;return r.length?(t.coordinators=n(r[0]),r.length>1&&(t.coordinators+=` +${r.length-1}`)):t.coordinators="",t},serializeDetails:function(){const o=e("app/wmes-osh-common/dictionaries"),t=this.serialize();return t.workplace=o.workplaces.getLabel(t.workplace,{long:!0,link:!0}),t.coordinators=t.coordinators.map(e=>n({userInfo:e})),t},hasWorkplace:function(e){return this.get("workplace")===+e}})});