define(["jquery","app/core/pages/DetailsPage","app/wmes-trw-bases/templates/details"],function(e,t,s){"use strict";return t.extend({baseBreadcrumb:!0,pageClassName:"page-max-flex",detailsTemplate:s,actions:function(){return[{icon:"copy",label:this.t("PAGE_ACTION:copy"),href:"#trw/bases;add?copy="+this.model.id,privileges:"TRW:MANAGE"}].concat(t.prototype.actions.apply(this,arguments))},events:{"mouseenter .trw-base-cluster":function(e){this.showClusterPopover(e.currentTarget.dataset.id)},"mouseleave .trw-base-cluster":function(){this.hideClusterPopover()}},destroy:function(){this.hideClusterPopover()},showClusterPopover:function(t){this.hideClusterPopover();var s=this.model.getCluster(t);s&&s.image&&(this.$clusterPopover=this.$('.trw-base-cluster[data-id="'+t+'"]').popover({container:document.body,placement:"top",trigger:"manual",html:!0,content:function(){return'<img src="'+s.image+'">'},template:function(t){return e(t).addClass("trw-base-cluster-popover")}}),this.$clusterPopover.popover("show"))},hideClusterPopover:function(e){this.$clusterPopover&&(e&&this.$clusterPopover[0].dataset.id!==e||(this.$clusterPopover.popover("destroy"),this.$clusterPopover=null))}})});