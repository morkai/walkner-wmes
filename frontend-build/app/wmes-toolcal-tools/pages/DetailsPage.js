define(["app/core/pages/DetailsPage","app/core/util/pageActions","../dictionaries","../views/DetailsView","../views/HistoryView","app/wmes-toolcal-tools/templates/detailsPage"],function(e,t,i,s,o,l){"use strict";return e.extend({template:l,actions:function(){var e=[];return this.model.canEdit()&&e.push(t.edit(this.model,!1)),this.model.canDelete()&&e.push(t.delete(this.model,!1)),e},initialize:function(){e.prototype.initialize.apply(this,arguments),this.setView("#-properties",this.detailsView),this.setView("#-history",this.historyView)},destroy:function(){e.prototype.destroy.call(this),i.unload()},defineViews:function(){this.detailsView=new s({model:this.model}),this.historyView=new o({model:this.model})},load:function(e){return e(this.model.fetch(),i.load())},afterRender:function(){e.prototype.afterRender.call(this),i.load()}})});