define(["underscore","../router","../viewport","../user","../core/util/showDeleteFormPage"],function(o,e,l,a,t){"use strict";var n="i18n!app/nls/wmes-toolcal-tools",s="app/wmes-toolcal-tools/Tool",i=a.auth("TOOLCAL:VIEW"),c=a.auth("TOOLCAL:MANAGE");e.map("/toolcal/tools",i,function(o){l.loadPage(["app/wmes-toolcal-tools/ToolCollection","app/wmes-toolcal-tools/pages/ListPage",n],function(e,l){return new l({collection:new e(null,{rqlQuery:o.rql})})})}),e.map("/toolcal/tools/:id",i,function(o){l.loadPage([s,"app/wmes-toolcal-tools/pages/DetailsPage",n],function(e,l){return new l({model:new e({_id:o.params.id})})})}),e.map("/toolcal/tools;add",c,function(){l.loadPage([s,"app/wmes-toolcal-tools/pages/AddFormPage",n],function(o,e){return new e({model:new o})})}),e.map("/toolcal/tools/:id;edit",i,function(o){l.loadPage([s,"app/wmes-toolcal-tools/pages/EditFormPage",n],function(e,l){return new l({model:new e({_id:o.params.id})})})}),e.map("/toolcal/tools/:id;delete",i,o.partial(t,s,o,o,{baseBreadcrumb:!0})),e.map("/toolcal/settings",c,function(o){l.loadPage(["app/wmes-toolcal-tools/pages/SettingsPage",n],function(e){return new e({initialTab:o.query.tab})})})});