define(["underscore","../router","../viewport","../user","../core/util/showDeleteFormPage"],function(o,a,l,e,t){"use strict";var n="i18n!app/nls/wmes-toolcal-tools",s="app/wmes-toolcal-tools/Tool",i=e.auth("TOOLCAL:VIEW"),c=e.auth("TOOLCAL:MANAGE");a.map("/toolcal/tools",i,function(o){l.loadPage(["app/wmes-toolcal-tools/ToolCollection","app/wmes-toolcal-tools/pages/ListPage",n],function(a,l){return new l({collection:new a(null,{rqlQuery:o.rql})})})}),a.map("/toolcal/tools/:id",i,function(o){l.loadPage([s,"app/wmes-toolcal-tools/pages/DetailsPage","css!app/wmes-toolcal-tools/assets/main",n],function(a,l){return new l({model:new a({_id:o.params.id})})})}),a.map("/toolcal/tools;add",c,function(){l.loadPage([s,"app/wmes-toolcal-tools/pages/AddFormPage",n],function(o,a){return new a({model:new o})})}),a.map("/toolcal/tools/:id;edit",i,function(o){l.loadPage([s,"app/wmes-toolcal-tools/pages/EditFormPage",n],function(a,l){return new l({model:new a({_id:o.params.id})})})}),a.map("/toolcal/tools/:id;delete",i,o.partial(t,s,o,o,{baseBreadcrumb:!0})),a.map("/toolcal/settings",c,function(o){l.loadPage(["app/wmes-toolcal-tools/pages/SettingsPage",n],function(a){return new a({initialTab:o.query.tab})})})});