define(["app/settings/views/SettingsView","app/users/util/setUpUserSelect2","app/wmes-toolcal-tools/templates/settings"],function(t,e,i){"use strict";return t.extend({clientUrl:"#toolcal/settings",template:i,events:Object.assign({"change #-notifier-globalUsers":function(t){this.updateSetting(t.target.name,e.getUserInfo(this.$(t.target)))}},t.prototype.events),afterRender:function(){t.prototype.afterRender.apply(this,arguments),e(this.$id("notifier-globalUsers"),{width:"100%",multiple:!0,allowClear:!0,placeholder:" ",currentUserInfo:this.settings.getValue("notifier.globalUsers",[])})},shouldAutoUpdateSettingField:function(t){return!/globalUsers$/.test(t.id)},updateSettingField:function(t){if(t&&/globalUsers$/.test(t.id)){var e=t.getValue().map(function(t){return{id:t.id,text:t.label}});this.$('input[name="'+t.id+'"]').select2("data",e)}}})});