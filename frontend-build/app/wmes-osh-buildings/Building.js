define(["require","underscore","app/i18n","app/core/Model"],function(i,e,n,s){"use strict";return s.extend({urlRoot:"/osh/buildings",clientUrlRoot:"#osh/buildings",topicPrefix:"osh.buildings",privilegePrefix:"OSH:DICTIONARIES",nlsDomain:"wmes-osh-buildings",labelAttribute:"shortName",defaults:function(){return{active:!0,divisions:[]}},getLabel:function({long:i,link:n}={}){let s=this.get(i?"longName":"shortName");return n&&(s=`<a href="${this.genClientUrl()}">${e.escape(s)}</a>`),s},serialize:function(){var i=this.toJSON();return i.active=n("core",`BOOL:${i.active}`),i},serializeRow:function(){var e=i("app/wmes-osh-common/dictionaries"),n=this.serialize();return n.divisions=n.divisions.map(i=>e.getLabel("division",i,{path:!0,long:!1})),n},serializeDetails:function(){var e=i("app/wmes-osh-common/dictionaries"),n=this.serialize();return n.divisions=n.divisions.map(i=>e.getLabel("division",i,{path:!0,long:!0,link:!0})),n},hasDivision:function(i){if(!(i=parseInt(i,10)))return!1;const e=this.get("divisions");return 0===e.length||e.includes(i)}})});