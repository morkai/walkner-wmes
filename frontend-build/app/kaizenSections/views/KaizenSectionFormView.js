define(["app/core/views/FormView","app/core/util/idAndLabel","app/data/orgUnits","app/kaizenSections/templates/form"],function(i,e,s,t){"use strict";return i.extend({template:t,serializeToForm:function(){var i=this.model.toJSON();return i.subdivisions=Array.isArray(i.subdivisions)?i.subdivisions.join(","):"",i},serializeForm:function(i){return i.subdivisions=i.subdivisions?i.subdivisions.split(","):[],i},afterRender:function(){i.prototype.afterRender.call(this),this.options.editMode&&(this.$id("id").prop("readonly",!0),this.$id("name").focus()),this.$id("subdivisions").select2({allowClear:!0,multiple:!0,data:s.getAllByType("subdivision").map(function(i){return{id:i.id,text:i.get("division")+" \\ "+i.get("name")}})})}})});