define(["underscore","app/user","app/settings/SettingCollection","./Setting"],function(t,e,r,n){"use strict";return r.extend({model:n,idPrefix:"fap.",topicSuffix:"fap.**",prepareValue:function(t,e){return/Functions$/.test(t)?Array.isArray(e)?e:"string"==typeof e?e.split(","):[]:/quickUsers$/.test(t)?e:void 0},prepareFormValue:function(t,e){return/quickUsers$/.test(t)?Array.isArray(e)?e.map(function(t){return t.id}).join(","):"":e},canChangeCategory:function(){return t.includes(this.getValue("categoryFunctions"),e.data.prodFunction)}})});