define(["app/i18n","app/time","app/core/Model","app/core/templates/userInfo"],function(e,t,i,r){"use strict";var n={completing:"warning",completed:"",delivering:"info",delivered:"success"};return i.extend({urlRoot:"/old/wh/setCarts",clientUrlRoot:"#wh/setCarts",topicPrefix:"old.wh.setCarts",privilegePrefix:"WH",nlsDomain:"wh-setCarts",serialize:function(){var i=this.toJSON();return i.className=n[i.status],i.status=e(this.nlsDomain,"status:"+i.status),i.kind=e(this.nlsDomain,"kind:"+i.kind),i.date=t.format(i.date,"L"),i.orders=i.orders.map(function(e){return e.sapOrder}).join("; "),i.completedAt=t.format(i.completedAt,"L LT"),i.duration=i.deliveredAt&&i.deliveringAt?t.toStirng((Date.parse(i.deliveredAt)-Date.parse(i.deliveringAt))/1e3,!1,!1):"",i.deliveringAt=i.deliveringAt?t.format(i.deliveringAt,"L LT"):"",i.deliveredAt=i.deliveredAt?t.format(i.deliveredAt,"L LT"):"",i.completedBy=i.completedBy.map(function(e){return r({userInfo:e})}).join("; "),i.deliveringBy=r({userInfo:i.deliveringBy}),i.deliveredBy=r({userInfo:i.deliveredBy}),i}},{STATUSES:["completing","completed","delivering","delivered"],KINDS:["components","packaging"]})});