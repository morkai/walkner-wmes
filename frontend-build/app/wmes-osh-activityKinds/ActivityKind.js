define(["require","underscore","app/i18n","app/core/Model"],function(e,i,t,n){"use strict";return n.extend({urlRoot:"/osh/activityKinds",clientUrlRoot:"#osh/activityKinds",topicPrefix:"osh.activityKinds",privilegePrefix:"OSH:DICTIONARIES",nlsDomain:"wmes-osh-activityKinds",labelAttribute:"shortName",defaults:function(){return{active:!0,kinds:[]}},getLabel:function({long:e,link:t}={}){let n=this.get(e?"longName":"shortName");return t&&(n=`<a href="${this.genClientUrl()}">${i.escape(n)}</a>`),n},serialize:function(){const e=this.toJSON();return e.active=t("core",`BOOL:${e.active}`),e.nearMiss=t("core",`BOOL:${e.nearMiss}`),e.rootCauses=t("core",`BOOL:${e.rootCauses}`),e.participants=t("core",`BOOL:${e.participants}`),e.implementers=t("core",`BOOL:${e.implementers}`),e.resolutions=t("core",`BOOL:${e.resolutions}`),e},serializeRow:function(){const i=e("app/wmes-osh-common/dictionaries"),t=this.serialize();return t.kinds=i.kinds.getLabels(t.kinds).join("; "),t},serializeDetails:function(){const i=e("app/wmes-osh-common/dictionaries"),t=this.serialize();return t.kinds=i.kinds.getLabels(t.kinds,{long:!0,link:!0}),t},hasKind:function(e){if(!(e=parseInt(e,10)))return!1;const i=this.get("kinds");return 0===i.length||i.includes(e)}})});