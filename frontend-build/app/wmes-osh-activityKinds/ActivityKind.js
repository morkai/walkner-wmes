define(["require","underscore","app/i18n","app/core/Model"],function(i,e,n,t){"use strict";return t.extend({urlRoot:"/osh/activityKinds",clientUrlRoot:"#osh/activityKinds",topicPrefix:"osh.activityKinds",privilegePrefix:"OSH:DICTIONARIES",nlsDomain:"wmes-osh-activityKinds",labelAttribute:"shortName",defaults:function(){return{active:!0,kinds:[],resolution:"none"}},getLabel:function({long:i,link:n}={}){let t=this.get(i?"longName":"shortName");return n&&(t=`<a href="${this.genClientUrl()}">${e.escape(t)}</a>`),t},serialize:function(){const i=this.toJSON();return i.active=n("core",`BOOL:${i.active}`),i.allowedTypes=i.allowedTypes.map(i=>n("wmes-osh-common",`type:${i}`)).join(", "),i.resolution=n(this.nlsDomain,`resolution:${i.resolution}`),i.participants=n("core",`BOOL:${i.participants}`),i.rootCauses=n("core",`BOOL:${i.rootCauses}`),i},serializeRow:function(){const e=i("app/wmes-osh-common/dictionaries"),n=this.serialize();return n.kinds=e.kinds.getLabels(n.kinds).join("; "),n},serializeDetails:function(){const e=i("app/wmes-osh-common/dictionaries"),n=this.serialize();return n.kinds=e.kinds.getLabels(n.kinds,{long:!0,link:!0}),n},hasKind:function(i){if(!i)return!1;const e=this.get("kinds");return 0===e.length||(Array.isArray(i)?i.some(i=>e.includes(i)):e.includes(i))}})});