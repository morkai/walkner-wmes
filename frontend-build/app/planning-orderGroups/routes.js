define(["underscore","../i18n","../router","../viewport","../user","../time","../core/util/showDeleteFormPage"],function(e,r,a,n,p,o,i){"use strict";var s="i18n!app/nls/planning-orderGroups",t="app/planning-orderGroups/OrderGroup",l=p.auth("PLANNING:VIEW","FN:process-engineer"),u=p.auth("PLANNING:MANAGE","FN:process-engineer");function d(){return p.isAllowedTo("PLANNING:VIEW")?[{href:"#planning/plans",label:this.t("BREADCRUMB:base")}]:[]}a.map("/planning/orderGroups",l,function(e){n.loadPage(["app/core/pages/FilteredListPage","app/planning-orderGroups/OrderGroupCollection","app/planning-orderGroups/views/FilterView",s],function(r,a,n){return new r({FilterView:n,pageClassName:"page-max-flex",baseBreadcrumb:d,collection:new a(null,{rqlQuery:e.rql}),columns:[{id:"active",className:"is-min"},{id:"name"},{id:"mrp",className:"is-min"}],actions:function(){var e=r.prototype.actions.apply(this,arguments);return e.unshift({icon:"question",href:"#planning/orderGroups;tester",label:this.t("tester:pageAction")}),e}})})}),a.map("/planning/orderGroups;tester",l,function(e){n.loadPage(["app/core/Model","app/planning-orderGroups/pages/TesterPage","css!app/planning-orderGroups/assets/tester",s],function(r,a){return new a({model:new r({date:e.query.date||o.getMoment().format("YYYY-MM-DD"),mrp:e.query.mrp||"TEST",groups:[]})})})}),a.map("/planning/orderGroups/:id",l,function(e){n.loadPage(["app/core/pages/DetailsPage",t,"app/planning-orderGroups/views/DetailsView","css!app/planning-orderGroups/assets/details",s],function(r,a,n){return new r({pageClassName:"page-max-flex",baseBreadcrumb:d,model:new a({_id:e.params.id}),DetailsView:n})})}),a.map("/planning/orderGroups;add",u,function(){n.loadPage(["app/core/pages/AddFormPage",t,"app/planning-orderGroups/views/FormView",s],function(e,r,a){return new e({pageClassName:"page-max-flex",baseBreadcrumb:d,FormView:a,model:new r})})}),a.map("/planning/orderGroups/:id;edit",u,function(e){n.loadPage(["app/core/pages/EditFormPage",t,"app/planning-orderGroups/views/FormView",s],function(r,a,n){return new r({pageClassName:"page-max-flex",baseBreadcrumb:d,FormView:n,model:new a({_id:e.params.id})})})}),a.map("/planning/orderGroups/:id;delete",u,e.partial(i,t,e,e,{baseBreadcrumb:d}))});