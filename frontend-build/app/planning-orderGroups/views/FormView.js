define(["underscore","jquery","app/core/views/FormView","app/mrpControllers/util/setUpMrpSelect2","app/planning-orderGroups/templates/form"],function(e,r,t,n,o){"use strict";return t.extend({template:o,serializeToForm:function(){var e=this.model.toJSON();return e.mrp=(e.mrp||[]).join(","),["productInclude","productExclude","bomInclude","bomExclude"].forEach(function(r){e[r]=(e[r]||[]).map(function(e){return e.join("; ")}).join("\n")}),e},serializeForm:function(r){return r.description||(r.description=""),r.mrp=(r.mrp||"").split(",").filter(function(e){return!!e}),["productInclude","productExclude","bomInclude","bomExclude"].forEach(function(t){r[t]=(r[t]||"").split("\n").map(function(r){return e.uniq(r.split(/; */).map(function(e){return e.trim().replace(/\s+/g," ").toUpperCase()}).filter(function(e){return e.length>0}))}).filter(function(e){return e.length>0})}),r},afterRender:function(){t.prototype.afterRender.apply(this,arguments),n(this.$id("mrp"),{width:"100%"}),"000000000000000000000000"===this.model.id&&this.$("textarea.text-mono").prop("disabled",!0)}})});