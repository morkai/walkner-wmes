define(["jquery","app/core/View","app/planning-orderGroups/templates/tester/groups"],function(e,t,i){"use strict";const r="planning-orderGroups-tester";return t.extend({template:i,events:{[`mouseover .${r}-multi`]:function(e){this.$(`.${r}-highlighted`).removeClass(`${r}-highlighted`),this.$(`.${r}-multi[data-id="${e.currentTarget.dataset.id}"]`).addClass(`${r}-highlighted`)},[`mouseout .${r}-multi`]:function(){this.$(`.${r}-highlighted`).removeClass(`${r}-highlighted`)}},initialize:function(){this.once("afterRender",()=>{this.listenTo(this.model,"change:groups",this.render)}),e(window).on(`resize.${this.idPrefix}`,this.resize.bind(this))},destroy:function(){e(window).off(`.${this.idPrefix}`)},getTemplateData:function(){return{groups:this.serializeGroups()}},serializeGroups:function(){return this.model.get("groups").map(e=>({_id:e.orderGroup.id,label:e.orderGroup.getLabel(),noMatchGroup:e.orderGroup.isNoMatchGroup(),orders:e.sapOrders})).sort((e,t)=>e.noMatchGroup?-1:e.noMatchGroup?1:e.label.localeCompare(t.label))},afterRender:function(){this.resize()},resize:function(){const t=window.innerHeight-e(".hd").outerHeight()-e(".ft").outerHeight()-e(".filter-container").outerHeight()-60;this.el.style.height=`${t}px`,this.$(`.${r}-group`).each((e,t)=>{const i=t.querySelector("h3"),r=t.querySelector("table");i.style.width=t.getBoundingClientRect().width+"px",r.style.marginTop=i.getBoundingClientRect().height-1+"px"})}})});