define(["jquery","app/core/View","app/core/util/scrollbarSize","app/planning-orderGroups/templates/tester/groups"],function(e,t,i,r){"use strict";const s="planning-orderGroups-tester";return t.extend({template:r,classPrefix:s,events:{[`mouseover .${s}-multi`]:function(e){this.$(`.${s}-highlighted`).removeClass(`${s}-highlighted`),this.$(`.${s}-multi[data-id="${e.currentTarget.dataset.id}"]`).addClass(`${s}-highlighted`)},[`mouseout .${s}-multi`]:function(){this.$(`.${s}-highlighted`).removeClass(`${s}-highlighted`)}},initialize:function(){this.once("afterRender",()=>{this.listenTo(this.model,"change:groups",this.render)}),e(window).on(`resize.${this.idPrefix}`,this.resize.bind(this))},destroy:function(){e(window).off(`.${this.idPrefix}`)},getTemplateData:function(){return{groups:this.serializeGroups()}},serializeGroups:function(){return this.model.get("groups").map(e=>({_id:e.orderGroup.id,label:e.orderGroup.getLabel(),noMatchGroup:e.orderGroup.isNoMatchGroup(),orders:e.sapOrders})).sort((e,t)=>e.noMatchGroup?-1:e.noMatchGroup?1:e.label.localeCompare(t.label))},afterRender:function(){this.$id("groups").on("scroll",this.scrollHeaders.bind(this)),this.resize()},resize:function(){const t=window.innerHeight-e(".hd").outerHeight()-e(".ft").outerHeight()-e(".filter-container").outerHeight()-this.$id("headers").outerHeight()-60,i=this.$(`.${s}-header`);this.$(`.${s}-group`).each((e,t)=>{i[e].style.width=t.clientWidth+"px"}),this.$id("groups")[0].style.height=`${t}px`,this.scrollHeaders()},scrollHeaders:function(){const e=this.$id("headers"),t=this.$id("groups");e[0].style.marginLeft=`${-1*t[0].scrollLeft}px`}})});