define(["app/time","app/user","app/core/Model","app/core/templates/userInfo","app/wmes-osh-common/dictionaries"],function(e,r,t,a,i){"use strict";return t.extend({urlRoot:"/osh/rewards",clientUrlRoot:"#osh/rewards",topicPrefix:"osh.rewards",privilegePrefix:"OSH:REWARDS",nlsDomain:"wmes-osh-rewards",labelAttribute:"rid",serialize:function(){const r=this.toJSON();return r.paid&&(r.className="success"),r.rid=`<a href="#osh/kaizens/${r.rid}">${r.rid}</a>`,r.recipient=a(r.recipient),r.creator=a(r.creator),r.payer=a(r.payer),r.createdAt=e.format(r.createdAt,"L LT"),r.paidAt=r.paidAt?e.format(r.paidAt,"L LT"):"",r.amount=i.currencyFormatter.format(r.amount),r}},{can:{viewAll:function(){return r.isAllowedTo("OSH:REWARDS:VIEW")||i.isCoordinator()}}})});