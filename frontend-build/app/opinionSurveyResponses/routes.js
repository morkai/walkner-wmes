// Part of <http://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

define(["underscore","../router","../viewport","../user","../core/util/showDeleteFormPage"],function(e,n,o,i,p){"use strict";var s="i18n!app/nls/opinionSurveyResponses",r=i.auth(),u=i.auth("OPINION_SURVEYS:MANAGE");n.map("/opinionSurveyResponses",r,function(e){o.loadPage(["app/opinionSurveyResponses/OpinionSurveyResponseCollection","app/opinionSurveyResponses/pages/OpinionSurveyResponseListPage",s],function(n,o){return new o({collection:new n(null,{rqlQuery:e.rql})})})}),n.map("/opinionSurveyResponses/:id",r,function(e){o.loadPage(["app/opinionSurveyResponses/OpinionSurveyResponse","app/opinionSurveyResponses/pages/OpinionSurveyResponseDetailsPage","i18n!app/nls/opinionSurveys",s],function(n,o){return new o({model:new n({_id:e.params.id})})})}),n.map("/opinionSurveyResponses;add",u,function(e){o.loadPage(["app/opinionSurveyResponses/OpinionSurveyResponse","app/opinionSurveyResponses/pages/OpinionSurveyResponseAddFormPage",s],function(n,o){return new o({model:new n,fix:e.query.fix})})}),n.map("/opinionSurveyResponses/:id;edit",u,function(e){o.loadPage(["app/opinionSurveyResponses/OpinionSurveyResponse","app/opinionSurveyResponses/pages/OpinionSurveyResponseEditFormPage",s],function(n,o){return new o({model:new n({_id:e.params.id}),fixing:!!e.query.fix})})}),n.map("/opinionSurveyResponses/:id;delete",u,e.partial(p,"app/opinionSurveyResponses/OpinionSurveyResponse",e,e,{baseBreadcrumb:!0}))});