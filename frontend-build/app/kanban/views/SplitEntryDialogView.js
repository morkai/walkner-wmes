define(["app/viewport","app/core/View","app/kanban/templates/splitEntry"],function(t,i,e){"use strict";return i.extend({template:e,events:{submit:function(){return this.submit(),!1}},getTemplateData:function(){return{entry:this.model.toJSON()}},onDialogShown:function(t){this.closeDialog=t.closeDialog.bind(t)},closeDialog:function(){},submit:function(){var i=this,e=i.$("[type=submit]").attr("disabled",!0);t.msg.saving();var n=i.ajax({type:"POST",url:"/kanban/entries/"+i.model.id+";split",data:JSON.stringify({parts:parseInt(i.$id("parts").val(),10)})});n.done(function(){t.msg.saved(),i.closeDialog()}),n.fail(function(){t.msg.savingFailed(),e.attr("disabled",!1)})}})});