// Part of <https://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

define(["app/core/View","app/kanban/templates/search"],function(e,t){"use strict";return e.extend({events:{submit:function(){var e=this.$id("phrase").val(),t=this.model.entries.get(e);return t?this.trigger("found","entry",t):(t=this.model.components.get(e))&&this.trigger("found","component",t),this.closeDialog(),!1},"keydown #-phrase":function(e){return e.ctrlKey||e.shiftKey||e.altKey?70!==e.keyCode:!(1===e.key.length&&!/^[0-9]$/.test(e.key))},"input #-phrase":function(e){var t,i=this.$id("phrase"),n=this.$id("phrase").val();t=0===n.length?"":n.length<6?this.t("search:invalid"):n.length<8?this.model.entries.get(n)?"":this.t("search:invalid:ccn"):this.model.components.get(n)?"":this.t("search:invalid:nc12"),i[0].setCustomValidity(t)},"blur #-phrase":function(){this.closeDialog()}},dialogClassName:"kanban-search-dialog",template:t,closeDialog:function(){},onDialogShown:function(e){this.closeDialog=e.closeDialog.bind(e)}})});