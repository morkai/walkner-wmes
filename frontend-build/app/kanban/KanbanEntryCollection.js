// Part of <https://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

define(["../core/Collection","./KanbanEntry"],function(t,e){"use strict";return t.extend({model:e,paginate:!1,initialize:function(t,e){this.supplyAreas=e.supplyAreas,this.components=e.components,this.tableView=e.tableView,this.filtered=[],this.tableView&&(this.tableView.on("change:filter",this.onFilterChange,this),this.tableView.on("change:sort",this.onSortChange,this),this.onFilterChange(),this.on("reset",this.onFilterChange))},setUpPubsub:function(t){},onSortChange:function(){this.filtered.sort(this.tableView.createSort(this)),this.trigger("sort")},onFilterChange:function(){this.filtered=this.models.filter(this.tableView.createFilter(this)),this.trigger("filter"),this.onSortChange()}})});