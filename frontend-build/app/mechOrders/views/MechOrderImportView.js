define(["app/viewport","app/core/View","app/mechOrders/templates/import"],function(t,e,s){"use strict";return e.extend({template:s,nlsDomain:"mechOrders",events:{submit:"upload"},onDialogShown:function(t){this.closeDialog=t.closeDialog.bind(t)},closeDialog:function(){},upload:function(e){e.preventDefault();const s=this.$('[type="submit"]').attr("disabled",!0),i=this.ajax({type:"POST",url:"/mechOrders;import",data:new FormData(this.el),processData:!1,contentType:!1});i.then(()=>{t.msg.show({type:"info",time:2500,text:this.t("import:msg:success")}),this.closeDialog()}),i.fail(()=>{t.msg.show({type:"error",time:5e3,text:this.t("import:msg:failure")})}),i.always(()=>{s.attr("disabled",!1)})}})});