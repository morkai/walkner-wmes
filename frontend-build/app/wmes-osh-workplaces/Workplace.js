define(["require","underscore","app/i18n","app/core/Model","app/core/templates/userInfo"],function(i,e,o,t,s){"use strict";return t.extend({urlRoot:"/osh/workplaces",clientUrlRoot:"#osh/workplaces",topicPrefix:"osh.workplaces",privilegePrefix:"OSH:DICTIONARIES",nlsDomain:"wmes-osh-workplaces",labelAttribute:"shortName",defaults:{active:!0},getLabel:function({long:o,path:t,link:s}={}){let n=this.get(o?"longName":"shortName");if(s&&(n=`<a href="${this.genClientUrl()}">${e.escape(n)}</a>`),t){n=`${i("app/wmes-osh-common/dictionaries").getLabel("division",this.get("division"),{long:o,path:t,link:s})} \\ ${n}`}return n},serialize:function(){const i=this.toJSON();return i.active=o("core",`BOOL:${i.active}`),i},serializeRow:function(){const e=i("app/wmes-osh-common/dictionaries"),o=this.serialize();return o.division=e.divisions.getLabel(o.division,{link:!0}),o},serializeDetails:function(){const e=i("app/wmes-osh-common/dictionaries"),o=this.serialize();return o.division=e.divisions.getLabel(o.division,{long:!0,link:!0}),o},hasDivision:function(i){return this.get("division")===+i},getDepartments:function(){return i("app/wmes-osh-common/dictionaries").departments.where({workplace:this.id})}})});