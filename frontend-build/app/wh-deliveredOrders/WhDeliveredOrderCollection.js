define(["underscore","app/user","app/core/Collection","./WhDeliveredOrder"],function(e,r,t,n){"use strict";return t.extend({model:n,rqlQuery:"sort(date,set,startTime)&limit(-1337)",getLineFilter:function(){var e=this.findRqlTerm("line","eq");return e?e.args[1]:null},getSapOrderFilter:function(){var e=this.findRqlTerm("sapOrder","eq");return e?e.args[1]:null},getStatusFilter:function(){var e=this.findRqlTerm("status","in");return e&&e.args[1].length?e.args[1]:["todo","done","blocked"]}},{can:{view:function(){return r.isAllowedTo("WH:VIEW","PLANNING:VIEW")},manage:function(){return r.isAllowedTo("WH:MANAGE","PLANNING:MANAGE","PLANNING:PLANNER")}}})});