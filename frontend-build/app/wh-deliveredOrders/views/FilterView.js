define(["underscore","app/core/views/FilterView","app/core/util/idAndLabel","app/wh-deliveredOrders/templates/filter"],function(e,i,t,n){"use strict";return i.extend({template:n,events:e.assign({"change #-line":"checkValidity","change #-sapOrder":"checkValidity"},i.prototype.events),termToForm:{line:function(e,i,t){t[e]=i.args[1]},sapOrder:"line",qtyRemaining:function(e,i,t){t.onlyRemaining="gt"===i.name}},afterRender:function(){i.prototype.afterRender.apply(this,arguments),this.$id("line").select2({width:"200px",allowClear:!0,placeholder:" ",data:this.lines.map(t)}),this.toggleButtonGroup("onlyRemaining")},serializeFormToQuery:function(e){var i=this.$id("line").val(),t=this.$id("sapOrder").val();i&&e.push({name:"eq",args:["line",i]}),t&&e.push({name:"eq",args:["sapOrder",t]}),this.getButtonGroupValue("onlyRemaining")&&e.push({name:"gt",args:["qtyRemaining",0]})},checkValidity:function(){var e=this.$id("line").val(),i=this.$id("sapOrder").val();this.$id("sapOrder")[0].setCustomValidity(""===e&&""===i?this.t("FILTER:lineOrOrder"):"")}})});