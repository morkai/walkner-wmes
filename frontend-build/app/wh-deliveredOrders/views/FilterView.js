define(["underscore","app/core/views/FilterView","app/core/util/idAndLabel","app/wh-deliveredOrders/templates/filter","app/core/util/ExpandableSelect"],function(e,t,i,n){"use strict";return t.extend({template:n,termToForm:{line:function(e,t,i){i[e]=t.args[1]},sapOrder:"line",status:"line"},initialize:function(){t.prototype.initialize.apply(this,arguments),this.once("afterRender",function(){this.listenTo(this.lines,"add remove change",e.debounce(this.setUpLineSelect2.bind(this),30))})},destroy:function(){t.prototype.destroy.apply(this,arguments),this.$(".is-expandable").expandableSelect("destroy")},afterRender:function(){t.prototype.afterRender.apply(this,arguments),this.setUpLineSelect2(),this.$(".is-expandable").expandableSelect()},setUpLineSelect2:function(){this.$id("line").select2({width:"200px",allowClear:!0,placeholder:" ",data:this.lines.map(i)})},serializeFormToQuery:function(e){var t=this.$id("line").val(),i=this.$id("sapOrder").val(),n=this.$id("status").val();t&&e.push({name:"eq",args:["line",t]}),i&&e.push({name:"eq",args:["sapOrder",i]}),n&&n.length&&e.push({name:"in",args:["status",n]})}})});