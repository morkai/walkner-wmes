define(["underscore","app/core/View","app/sapLaborTimeFixer/templates/tabs"],function(e,t,r){"use strict";return t.extend({template:r,events:{"click #-workCenters a":function(e){return e.currentTarget.classList.contains("active")||this.model.selectWorkCenter(e.currentTarget.dataset.workCenter),!1},"click #-deps a":function(e){var t=e.currentTarget.dataset.deps;return e.ctrlKey?this.model.toggleDeps(t):this.model.selectDeps(t),!1}},initialize:function(){this.listenTo(this.model,"change:workCenter change:deps",this.render)},serialize:function(){return{idPrefix:this.idPrefix,workCenters:this.serializeWorkCenters(),deps:this.serializeDeps()}},serializeWorkCenters:function(){var e=this.model.getSelectedWorkCenter();return this.model.get("data").map(function(t){return{_id:t._id,label:t.name,active:t===e?"active":""}})},serializeDeps:function(){var e=this;return["__ALL__","__NULL__"].concat(e.model.getSelectedWorkCenter().deps).map(function(t){return{_id:t,label:e.t.has("dep:"+t)?e.t("dep:"+t):t,active:e.model.isDepSelected(t)?"active":""}})}})});