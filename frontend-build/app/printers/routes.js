// Part of <https://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

define(["../router","../viewport","../user","../core/util/showDeleteFormPage","./Printer","i18n!app/nls/printers"],function(e,r,n,i,a){"use strict";var t=n.auth("DICTIONARIES:VIEW"),p=n.auth("DICTIONARIES:MANAGE");e.map("/printers",t,function(e){r.loadPage(["app/core/pages/ListPage","app/printers/PrinterCollection"],function(r,n){return new r({collection:new n(null,{rqlQuery:e.rql}),columns:[{id:"name",className:"is-min"},"label"]})})}),e.map("/printers/:id",function(e){r.loadPage(["app/core/pages/DetailsPage","app/printers/templates/details"],function(r,n){return new r({model:new a({_id:e.params.id}),detailsTemplate:n})})}),e.map("/printers;add",p,function(){r.loadPage(["app/core/pages/AddFormPage","app/printers/views/PrinterFormView"],function(e,r){return new e({FormView:r,model:new a})})}),e.map("/printers/:id;edit",p,function(e){r.loadPage(["app/core/pages/EditFormPage","app/printers/views/PrinterFormView"],function(r,n){return new r({FormView:n,model:new a({_id:e.params.id})})})}),e.map("/printers/:id;delete",p,i.bind(null,a))});