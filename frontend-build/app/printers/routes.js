// Part of <https://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

define(["../router","../viewport","../user","../core/util/showDeleteFormPage","./Printer","i18n!app/nls/printers"],function(e,r,i,n,a){"use strict";var t=i.auth("DICTIONARIES:VIEW"),p=i.auth("DICTIONARIES:MANAGE");e.map("/printers",t,function(e){r.loadPage(["app/core/pages/ListPage","app/printers/PrinterCollection"],function(r,i){return new r({collection:new i(null,{rqlQuery:e.rql}),columns:[{id:"name",className:"is-min"},{id:"label",className:"is-min"},"tags"]})})}),e.map("/printers/:id",function(e){r.loadPage(["app/core/pages/DetailsPage","app/printers/templates/details"],function(r,i){return new r({model:new a({_id:e.params.id}),detailsTemplate:i})})}),e.map("/printers;add",p,function(){r.loadPage(["app/core/pages/AddFormPage","app/printers/views/PrinterFormView"],function(e,r){return new e({FormView:r,model:new a})})}),e.map("/printers/:id;edit",p,function(e){r.loadPage(["app/core/pages/EditFormPage","app/printers/views/PrinterFormView"],function(r,i){return new r({FormView:i,model:new a({_id:e.params.id})})})}),e.map("/printers/:id;delete",p,n.bind(null,a))});