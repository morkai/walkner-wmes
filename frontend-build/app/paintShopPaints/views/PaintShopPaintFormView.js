// Part of <https://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

define(["underscore","app/i18n","app/core/views/FormView","app/paintShopPaints/templates/form"],function(t,i,e,s){"use strict";return e.extend({template:s,events:t.assign({"input #-_id":function(t){var e=this,s=e.$id("_id").val();if(12!==s.length)return void t.target.setCustomValidity("");var n=this.ajax({method:"HEAD",url:"/paintShop/paints/"+s});n.fail(function(){t.target.setCustomValidity("")}),n.done(function(){t.target.setCustomValidity(200===n.status?i("paintShopPaints","FORM:ERROR:alreadyExists"):"")})}},e.prototype.events),afterRender:function(){e.prototype.afterRender.apply(this,arguments),this.options.editMode?(this.$id("_id").prop("readonly",!0),this.$id("shelf").focus()):this.$id("_id").focus()}})});