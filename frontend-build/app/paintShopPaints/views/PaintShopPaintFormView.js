define(["underscore","app/i18n","app/core/views/FormView","app/paintShopPaints/templates/form"],function(t,i,e,s){"use strict";return e.extend({template:s,events:t.assign({"input #-_id":function(t){var e=this.$id("_id").val();if(12===e.length){var s=this.ajax({method:"HEAD",url:"/paintShop/paints/"+e});s.fail(function(){t.target.setCustomValidity("")}),s.done(function(){t.target.setCustomValidity(200===s.status?i("paintShopPaints","FORM:ERROR:alreadyExists"):"")})}else t.target.setCustomValidity("")}},e.prototype.events),afterRender:function(){e.prototype.afterRender.apply(this,arguments),this.options.editMode?(this.$id("_id").prop("readonly",!0),this.$id("shelf").focus()):this.$id("_id").focus()}})});