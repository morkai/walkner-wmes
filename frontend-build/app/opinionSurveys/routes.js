// Copyright (c) 2014, ≈Åukasz Walukiewicz <lukasz@walukiewicz.eu>. Some Rights Reserved.
// Licensed under CC BY-NC-SA 4.0 <http://creativecommons.org/licenses/by-nc-sa/4.0/>.
// Part of the walkner-wmes project <http://lukasz.walukiewicz.eu/p/walkner-wmes>

define(["underscore","../router","../viewport","../user","../core/util/showDeleteFormPage","../core/pages/ListPage","./OpinionSurveyCollection","./OpinionSurvey","./pages/OpinionSurveyDetailsPage","./pages/OpinionSurveyAddFormPage","./pages/OpinionSurveyEditFormPage","./pages/EmployeeCountEditFormPage","./views/OpinionSurveyListView","i18n!app/nls/reports","i18n!app/nls/opinionSurveys"],function(e,n,i,o,a,r,p,u,s,t,d,y,g){"use strict";var l=o.auth(),m=o.auth("OPINION_SURVEYS:MANAGE");n.map("/opinionSurveyReport",l,function(e){i.loadPage("app/opinionSurveys/pages/OpinionSurveyReportPage",function(n){return new n({query:e.query})})}),n.map("/opinionSurveys",m,function(e){i.showPage(new r({baseBreadcrumb:!0,ListView:g,collection:new p(null,{rqlQuery:e.rql})}))}),n.map("/opinionSurveys/:id",m,function(e){i.showPage(new s({model:new u({_id:e.params.id})}))}),n.map("/opinionSurveys;add",m,function(){i.showPage(new t({model:new u}))}),n.map("/opinionSurveys/:id;edit",m,function(e){i.showPage(new d({model:new u({_id:e.params.id})}))}),n.map("/opinionSurveys/:id;editEmployeeCount",m,function(e){i.showPage(new y({model:new u({_id:e.params.id})}))}),n.map("/opinionSurveys/:id;delete",m,e.partial(a,u,e,e,{baseBreadcrumb:!0})),n.map("/opinionSurveys;settings",m,function(e){i.loadPage("app/opinionSurveys/pages/OpinionSurveySettingsPage",function(n){return new n({initialTab:e.query.tab})})})});