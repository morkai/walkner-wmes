// Part of <http://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

define(["underscore","../router","../viewport","../user","../core/util/showDeleteFormPage"],function(n,e,i,o,p){"use strict";var r="i18n!app/nls/opinionSurveys",a=o.auth(),u=o.auth("OPINION_SURVEYS:MANAGE");e.map("/opinionSurveyReport",a,function(n){i.loadPage(["app/opinionSurveys/pages/OpinionSurveyReportPage","i18n!app/nls/reports",r],function(e){return new e({query:n.query})})}),e.map("/opinionSurveys",u,function(n){i.loadPage(["app/core/pages/ListPage","app/opinionSurveys/OpinionSurveyCollection","app/opinionSurveys/views/OpinionSurveyListView",r],function(e,i,o){return new e({baseBreadcrumb:!0,ListView:o,collection:new i(null,{rqlQuery:n.rql})})})}),e.map("/opinionSurveys/:id",u,function(n){i.loadPage(["app/opinionSurveys/OpinionSurvey","app/opinionSurveys/pages/OpinionSurveyDetailsPage",r],function(e,i){return new i({model:new e({_id:n.params.id})})})}),e.map("/opinionSurveys;add",u,function(){i.loadPage(["app/opinionSurveys/OpinionSurvey","app/opinionSurveys/pages/OpinionSurveyAddFormPage",r],function(n,e){return new e({model:new n})})}),e.map("/opinionSurveys/:id;edit",u,function(n){i.loadPage(["app/opinionSurveys/OpinionSurvey","app/opinionSurveys/pages/OpinionSurveyEditFormPage",r],function(e,i){return new i({model:new e({_id:n.params.id})})})}),e.map("/opinionSurveys/:id;editEmployeeCount",u,function(n){i.loadPage(["app/opinionSurveys/OpinionSurvey","app/opinionSurveys/pages/EmployeeCountEditFormPage",r],function(e,i){return new i({model:new e({_id:n.params.id})})})}),e.map("/opinionSurveys/:id;delete",u,n.partial(p,"app/opinionSurveys/OpinionSurvey",n,n,{baseBreadcrumb:!0})),e.map("/opinionSurveys;settings",u,function(n){i.loadPage(["app/opinionSurveys/pages/OpinionSurveySettingsPage",r],function(e){return new e({initialTab:n.query.tab})})})});