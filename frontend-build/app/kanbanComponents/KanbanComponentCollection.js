// Part of <https://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

define(["../core/Collection","./KanbanComponent"],function(e,n){"use strict";var t=["red","yellow","orange","green","violet","pink","lightblue","darkblue","brown","grey"];return e.extend({model:n,rqlQuery:"sort(_id)&limit(20)",setUpPubsub:function(e){e.subscribe("kanban.components.*",this.handleMessage.bind(this))},handleMessage:function(e,n){var t=this.get(e.model._id);switch(n){case"kanban.components.deleted":this.remove(t);break;case"kanban.components.added":case"kanban.components.edited":t?t.set(e.model):this.add(e.model)}}},{COLORS:t,getColor:function(e){return n.getColor(e)},getColors:function(){return t.map(this.getColor)}})});