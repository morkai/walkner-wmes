// Part of <https://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

define(["../i18n","../time","../core/Model","app/core/templates/userInfo"],function(e,r,t,o){"use strict";var n={darkblue:"#0000BB",violet:"#663399",lavender:"#C7A2C6",lightblue:"#00AAFF",grey:"#A0A0A0",red:"#EE0000",orange:"#FF8800",yellow:"#FFEE00",sand:"#C09D79",green:"#009900",cyan:"#00CDCD",black:"#000000"};return t.extend({urlRoot:"/kanban/components",clientUrlRoot:"#kanban/components",topicPrefix:"kanban.components",privilegePrefix:"KANBAN",nlsDomain:"kanbanComponents",serialize:function(){var e=this.toJSON();if(e.markerColor){var t=this.getColor();e.markerColor='<span class="label" style="background: '+t.color+'">'+t.text+"</span>"}return e.createdAt=r.format(e.createdAt,"LLLL"),e.updatedAt=r.format(e.updatedAt,"LLLL"),e.updater=o({userInfo:e.updater}),e},serializeRow:function(){var e=this.serialize();return e.newStorageBin&&e.storageBin!==e.newStorageBin?e.storageBins="<del>"+e.storageBin+"</del> "+e.newStorageBin:e.storageBins=e.storageBin,e},getColor:function(){return this.attributes.markerColor?this.constructor.getColor(this.attributes.markerColor):null}},{getColor:function(r){return{id:r,text:e("kanbanComponents","color:"+r),color:n[r]||r}}})});