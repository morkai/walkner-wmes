// Part of <https://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

define(["../i18n","../time","../core/Model","app/core/templates/userInfo"],function(e,t,r,o){"use strict";var n={red:"#DB342D",yellow:"#F4C605",orange:"#E46D29",grey:"#A7C6C4",violet:"#612B7D",lavender:"#B183B2",lightblue:"#29AADD",darkblue:"#194F90",sand:"#E1AE57",cyan:"#66BCA3",black:"#000000"};return r.extend({urlRoot:"/kanban/components",clientUrlRoot:"#kanban/components",topicPrefix:"kanban.components",privilegePrefix:"KANBAN",nlsDomain:"kanbanComponents",serialize:function(){var e=this.toJSON();if(e.markerColor){var r=this.getColor();e.markerColor='<span class="label" style="background: '+r.color+'">'+r.text+"</span>"}return e.createdAt=t.format(e.createdAt,"LLLL"),e.updatedAt=t.format(e.updatedAt,"LLLL"),e.updater=o({userInfo:e.updater}),e},serializeRow:function(){var e=this.serialize();return e.newStorageBin&&e.storageBin!==e.newStorageBin?e.storageBins="<del>"+e.storageBin+"</del> "+e.newStorageBin:e.storageBins=e.storageBin,e},getColor:function(){return this.attributes.markerColor?this.constructor.getColor(this.attributes.markerColor):null}},{getColor:function(t){return{id:t,text:e("kanbanComponents","color:"+t),color:n[t]||t}}})});