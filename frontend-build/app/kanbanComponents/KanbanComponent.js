define(["underscore","../time","../core/Model","app/core/templates/userInfo"],function(e,t,a,n){"use strict";return a.extend({urlRoot:"/kanban/components",clientUrlRoot:"#kanban/components",topicPrefix:"kanban.components",privilegePrefix:"KANBAN",nlsDomain:"kanbanComponents",serialize:function(){var a=this.toJSON();return a.createdAt=t.format(a.createdAt,"LLLL"),a.updatedAt=t.format(a.updatedAt,"LLLL"),a.updater=n({userInfo:a.updater}),a.lastUsageAt=0,e.forEach(a.usage,function(e){a.lastUsageAt=Math.max(e,a.lastUsageAt)}),a.lastUsageAt=t.format(a.lastUsageAt,"LL"),a},serializeRow:function(){var e=this.serialize();return e.newStorageBin&&e.storageBin!==e.newStorageBin?e.storageBins="<del>"+e.storageBin+"</del> "+e.newStorageBin:e.storageBins=e.storageBin,e}})});