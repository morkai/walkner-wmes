define(["underscore","app/core/util/padString","app/settings/SettingCollection","./PaintShopSetting"],function(t,e,n,r){"use strict";return n.extend({nlsDomain:"paintShop",model:r,topicSuffix:"paintShop.**",getValue:function(t){var e=this.get("paintShop."+t);return e?e.getValue():null},prepareValue:function(t,e){return/workCenters$/i.test(t)?e.split(",").filter(function(t){return t.length>0}):/load.statuses$/.test(t)?e:/documents$/.test(t)?this.prepareDocumentsValue(e):void 0},prepareDocumentsValue:function(t){var n=[];return(t||"").split("\n").forEach(function(t){var r=t.trim().match(/^([0-9]+)(.*?)$/);if(r){var o=e.start(r[1],15,"0"),a=(r[2]||"").trim();n.push({nc15:o,name:a})}}),n},prepareDocumentsFormValue:function(t){if(!Array.isArray(t))return"";var e=[];return t.forEach(function(t){if(t.nc15){var n=t.nc15;t.name.length&&(n+=" "+t.name),e.push(n)}}),e.join("\n")},getLoadStatus:function(e){return t.find(this.getValue("load.statuses"),function(t){return e>=t.from&&(!t.to||e<t.to)})||{from:0,to:0,icon:"question",color:"#0AF"}},prepareFormValue:function(t,e){return"paintShop.documents"===t?this.prepareDocumentsFormValue(e):n.prototype.prepareFormValue.apply(this,arguments)}})});