// Part of <https://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

define(["jquery","app/i18n","app/viewport","app/core/View","app/paintShop/templates/list"],function(t,e,i,n,s){"use strict";return n.extend({template:s,events:{"mousedown .paintShop-list-item":function(t){this.lastClickEvent=t},"mouseup .paintShop-list-item":function(t){var e=this.lastClickEvent;e&&(0===t.button&&e.offsetY===t.offsetY&&e.offsetX===t.offsetX&&e.screenX===t.screenX&&e.screenY===t.screenY&&this.handleItemClick(t.currentTarget.dataset.orderId),this.lastClickEvent=null)}},initialize:function(){this.lastClickEvent=null,this.listenTo(this.model,"reset",this.render),this.listenTo(this.model,"change",this.onChange)},serialize:function(){return{idPrefix:this.idPrefix,groups:this.model.serializeGroups()}},afterRender:function(){},$item:function(t){return this.$('.paintShop-list-item[data-order-id="'+t+'"]')},handleItemClick:function(t){this.model.trigger("focus",t)},onChange:function(t){this.$item(t.id).attr("data-status",t.get("status"))}})});