define(["../core/Collection","./PlanLine"],function(t,i){"use strict";return t.extend({model:i,initialize:function(t,i){this.plan=i&&i.plan},getGroupedByMrp:function(){var t=this.plan,i={};return this.forEach(function(e){var n=t.settings.lines.get(e.id);n&&n.get("mrpPriority").forEach(function(t){i[t]||(i[t]=[]),i[t].push(e)})}),i},getSortedByPriority:function(t){return Array.prototype.slice.call(this.models).sort((i,e)=>{var n=t.indexOf(i.id),r=t.indexOf(e.id);return-1===n&&(n=Number.MAX_SAFE_INTEGER),-1===r&&(r=Number.MAX_SAFE_INTEGER),n-r})}})});