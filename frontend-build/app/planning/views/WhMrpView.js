define(["app/core/View","./PlanMrpToolbarView","./PlanMrpLineOrdersListView","app/planning/templates/whMrp"],function(i,e,n,t){"use strict";return i.extend({template:t,events:{contextmenu:function(){return!1}},initialize:function(){this.listenTo(this.plan,"change:loading",this.onLoadingChanged),this.setView("#-toolbar",new e({delayReasons:this.delayReasons,plan:this.plan,mrp:this.mrp,stats:!1})),this.setView("#-orders",new n({plan:this.plan,mrp:this.mrp,mode:"wh"}))},serialize:function(){return{idPrefix:this.idPrefix,mrp:{_id:this.mrp.id,name:this.mrp.id,description:this.mrp.get("description")}}},beforeRender:function(){clearTimeout(this.timers.render)},onLoadingChanged:function(){this.plan.isAnythingLoading()||(this.timers.render=setTimeout(this.render.bind(this),1))}})});