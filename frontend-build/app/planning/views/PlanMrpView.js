// Part of <https://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

define(["underscore","app/time","app/i18n","app/user","app/core/View","app/data/orgUnits","./PlanMrpToolbarView","./PlanMrpLinesView","./PlanMrpOrdersView","./PlanMrpLineOrdersView","app/planning/templates/mrp"],function(e,i,n,t,r,s,l,o,d,p,a){"use strict";return r.extend({template:a,events:{},initialize:function(){this.setView("#-toolbar",new l({model:this.model})),this.setView("#-lines",new o({model:this.model})),this.setView("#-orders",new d({model:this.model})),this.model.lines.forEach(function(e){this.insertView("#-lineOrders",new p({model:{planMrp:this.model,mrpLine:e}}))},this)},serialize:function(){return{idPrefix:this.idPrefix,mrp:this.model.mrp}},afterRender:function(){this.$id("timeline").toggleClass("hidden",0===this.model.lines.length)}})});