define(["app/time"],function(t){"use strict";return{SHIFT_DURATION:288e5,EMPTY_HOURLY_PLAN:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],HOUR_TO_INDEX_DAY:[18,19,20,21,22,23,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],HOUR_TO_INDEX_SHIFT:[2,3,4,5,6,7,0,1,2,3,4,5,6,7,0,1,2,3,4,5,6,7,0,1],isActive:function(e){var r=t.getMoment(e,"YYYY-MM-DD"),n=r.hours(6).valueOf(),u=r.add(24,"hours").valueOf(),i=Date.now();return i>=n&&i<u},getShiftNo:function(t){var e=new Date(t).getUTCHours();return e>=6&&e<14?1:e>=14&&e<22?2:3},getShiftNoFromStartTime:function(t){return"06:00:00"===t?1:"14:00:00"===t?2:"22:00:00"===t?3:0},getStartHourFromShiftNo:function(t){if(1===t)return 6;if(2===t)return 14;if(3===t)return 22;throw new Error("Invalid shift!")},getShiftStartTime:function(t){var e=new Date(t),r=e.getUTCHours();return r>=6&&r<14?e.setUTCHours(6,0,0,0):r>=14&&r<22?e.setUTCHours(14,0,0,0):r>=22?e.setUTCHours(22,0,0,0):(e.setUTCHours(0,0,0,0),e.setUTCHours(-2)),e.getTime()},getShiftEndTime:function(t){return this.getShiftStartTime(t)+this.SHIFT_DURATION},getDateWithTime:function(e,r,n){var u=t.utc.getMoment(+e);return r<6&&u.add(24,"hours"),u.hours(r).minutes(n).valueOf()},getPlanDate:function(e,r){var n=r?t.getMoment(e).utc(!0):t.utc.getMoment(e);return n.hours()<6&&n.subtract(1,"days"),n.startOf("day"),n}}});