define(["app/i18n"],function(t){return function anonymous(locals,escapeFn,include,rethrow){function encode_char(n){return _ENCODE_HTML_RULES[n]||n}escapeFn=escapeFn||function(n){return void 0==n?"":String(n).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g,__output=[],__append=__output.push.bind(__output);with(locals||{})__append('<!DOCTYPE html>\n<html>\n<head>\n  <meta charset="utf-8">\n  <title>Plan dla linii '),__append(escapeFn(lines)),__append(" na dzień "),__append(time.utc.format(date,"LL")),__append("</title>\n  <style>\n    @page {\n      size: A4 portrait;\n      margin: 10mm;\n    }\n    * {\n      margin: 0;\n      padding: 0;\n      line-height: 1;\n      box-sizing: border-box;\n    }\n    body {\n      margin: 15px;\n      font-family: Verdana, sans-serif;\n      font-size: 12px;\n      text-rendering: optimizeLegibility;\n      color: #000;\n      background: #FFF;\n      text-align: center;\n    }\n    .page {\n      margin: auto;\n      text-align: left;\n      width: 21cm;\n      padding: 10mm;\n    }\n    header {\n      padding-bottom: 5mm;\n      margin-bottom: 5mm;\n      font-size: 32px;\n      font-weight: bold;\n      text-align: left;\n      border-bottom: 1px solid #000;\n    }\n    footer {\n      display: flex;\n      padding-top: 5mm;\n      margin-top: 5mm;\n      border-top: 1px solid #000;\n      font-size: 10px;\n    }\n    footer p:first-child {\n      margin-bottom: 3px;\n    }\n    footer > div:first-child {\n      flex: 1 1 auto;\n    }\n    footer > div:last-child {\n      flex: 1 1 auto;\n      text-align: right;\n    }\n    .props {\n      float: right;\n      display: flex;\n    }\n    .prop {\n      margin-left: 5mm;\n    }\n    .prop > span:first-child {\n      display: block;\n      margin-bottom: 3px;\n      font-size: 16px;\n      font-weight: bold;\n    }\n    .prop > span:last-child {\n      display: block;\n      font-size: 16px;\n      font-weight: normal;\n    }\n    table {\n      width: 100%;\n      font-size: 12px;\n      border-collapse: collapse;\n    }\n    th {\n      text-align: left;\n      padding-right: 10px;\n      white-space: nowrap;\n    }\n    td {\n      padding-top: 8px;\n      padding-right: 10px;\n      white-space: nowrap;\n      width: 1%;\n    }\n    th:last-child,\n    td:last-child {\n      padding-right: 0;\n    }\n    .name {\n      width: auto;\n    }\n    .name > span {\n      display: block;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      max-width: "),__append(showTimes?340:400),__append('px;\n    }\n    .comment {\n      width: auto;\n    }\n    .comment > span {\n      display: block;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      max-width: 535px;\n      line-height: 12px;\n    }\n    .is-done td {\n      vertical-align: top;\n      font-size: 10px;\n      line-height: 10px;\n      padding-bottom: 2px;\n    }\n    .is-done .comment {\n      padding-bottom: 0;\n    }\n    .qty,\n    .time {\n      text-align: right;\n    }\n    .is-incomplete {\n      color: darkorange;\n    }\n    .is-completed {\n      color: green;\n    }\n    .is-surplus {\n      color: #E00;\n    }\n    .nextShift {\n      padding-bottom: 10px;\n      border-bottom: 1px solid #000;\n    }\n    .nextShift + tr > td {\n      padding-top: 10px;\n    }\n    h2 {\n      margin-top: 5mm;\n      margin-bottom: 5mm;\n      padding-bottom: 5mm;\n      border-bottom: 1px solid #000;\n    }\n    .hourlyPlan th {\n      padding-left: 10px;\n      padding-right: 10px;\n      text-align: center;\n    }\n    .hourlyPlan td {\n      padding-left: 10px;\n      padding-right: 10px;\n      width: 1%;\n      text-align: center;\n    }\n    .hourlyPlan th:first-child,\n    .hourlyPlan td:first-child {\n      padding-left: 0;\n      text-align: left;\n    }\n    .hourlyPlan th:last-child,\n    .hourlyPlan td:last-child {\n      width: auto;\n      text-align: right;\n      font-weight: normal;\n    }\n    .with-quantityDone th,\n    .with-quantityDone td {\n      padding-right: 0;\n    }\n    #info {\n      position: fixed;\n      top: 0;\n      left: 0;\n      padding: 7px;\n      width: 100%;\n      background: #FFD1D1;\n      border-bottom: 1px solid #F8ACAC;\n      font-size: 28px;\n      text-align: center;\n    }\n    @media print {\n      body {\n        margin: 0;\n      }\n      .page {\n        width: 100%;\n        padding: 0;\n      }\n      .page + .page {\n        page-break-before: always;\n      }\n      .bd {\n        height: 900px;\n      }\n      #info {\n        display: none;\n      }\n    }\n    @font-face {\n      font-family: \'wmes-planning\';\n      src: url(\'data:application/octet-stream;base64,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\') format(\'woff\');\n    }\n    i[class^="icon-"]:before, [class*=" icon-"]:before {\n      font-family: "wmes-planning";\n      font-style: normal;\n      font-weight: normal;\n      speak: none;\n      display: inline-block;\n      text-decoration: inherit;\n      width: 1em;\n      margin-right: .2em;\n      text-align: center;\n      font-variant: normal;\n      text-transform: none;\n      line-height: 1em;\n      margin-left: .2em;\n    }\n    .icon-hard:before { content: \'\\e800\'; }\n    .icon-small:before { content: \'\\e801\'; }\n    .icon-easy:before { content: \'\\f123\'; }\n    .icon-ps:before { content: \'\\f1fc\'; }\n    .icon-ps[data-status="unknown"] {\n      display: none;\n    }\n    .icon-ps[data-status="started"] {\n      color: #5bc0de;\n    }\n    .icon-ps[data-status="partial"] {\n      color: #f0ad4e;\n    }\n    .icon-ps[data-status="finished"] {\n      color: #449d44;\n    }\n    .icon-ps[data-status="cancelled"] {\n      color: #d9534f;\n    }\n  </style>\n</head>\n<body>\n<div id="info">\n  Wciśnij <kbd>Ctrl+P</kbd>, aby rozpocząć drukowanie.\n</div>\n'),pages.forEach(function(n){if(__append('\n<section class="page">\n  <header>\n    <div class="props">\n      <div class="prop">\n        <span>Data:</span>\n        <span>'),__append(escapeFn(time.format(date,"dd, LL"))),__append('</span>\n      </div>\n      <div class="prop">\n        <span>MRP:</span>\n        <span>'),__append(escapeFn(n.mrp)),__append(" "),__append('</span>\n      </div>\n      <div class="prop">\n        <span>Linia:</span>\n        <span>'),__append(escapeFn(n.line)),__append('</span>\n      </div>\n      <div class="prop">\n        <span>Obsada:</span>\n        <span>'),__append(n.workerCount),__append('</span>\n      </div>\n    </div>\n    Plan dnia\n  </header>\n  <section class="bd">\n    '),n.orders.length&&(__append('\n    <table>\n      <thead>\n        <th>Lp.</th>\n        <th>Nr zlecenia</th>\n        <th>12NC</th>\n        <th>Wyrób</th>\n        <th class="qty">Ilość</th>\n        '),showTimes&&__append("\n        <th>Czas</th>\n        "),__append("\n      </thead>\n      <tbody>\n      "),n.orders.forEach(function(n){__append("\n      "),n.nextShift&&__append('\n      <tr class="nextShift">\n        <td colspan="6"></td>\n      </tr>\n      '),__append('\n      <tr class="'),__append(n.no?"":"is-done"),__append('">\n        '),n.no?(__append('\n        <td class="no">'),__append(n.no),__append('.</td>\n        <td class="orderNo">'),__append(n.orderNo),__append('</td>\n        <td class="nc12">'),__append(n.nc12),__append('</td>\n        <td class="name">\n          <span>\n            <i class="icon-'),__append(n.kind),__append('"></i>\n            <i class="icon-ps" data-status="'),__append(n.psStatus),__append('"></i>\n            '),__append(escapeFn(n.name)),__append("\n          </span>\n        </td>\n        ")):(__append('\n        <td class="no">&nbsp;</td>\n        <td class="comment" colspan="3">\n          <span>\n            '),__append(escapeFn(n.delayReason)),__append("\n            <i>"),__append(escapeFn(n.comment)),__append("</i>\n          </span>\n        </td>\n        ")),__append('\n        <td class="qty '),__append(n.qtyClass||""),__append('">'),__append(n.qtyPlan),__append("/"),__append(n.qtyTodo),__append("</td>\n        "),showTimes&&(__append('\n        <td class="time">\n          '),n.startAt?(__append("\n          "),__append(time.utc.format(n.startAt,"HH:mm")),__append("-"),__append(time.utc.format(n.finishAt,"HH:mm")),__append("\n          ")):__append("\n          --:--:--\n          "),__append("\n        </td>\n        ")),__append("\n      </tr>\n      ")}),__append("\n      </tbody>\n    </table>\n    ")),__append("\n    "),n.hourlyPlan){__append('\n    <h2>Plan godzinowy</h2>\n    <table class="hourlyPlan '),__append(done?"with-quantityDone":""),__append('">\n      <thead>\n      <tr>\n        <th>Zmiana</th>\n        <th>1</th>\n        <th>2</th>\n        <th>3</th>\n        <th>4</th>\n        <th>5</th>\n        <th>6</th>\n        <th>7</th>\n        <th>8</th>\n        <th>\n          <i class="icon-small"></i> małe&nbsp;&nbsp;\n          <i class="icon-easy"></i> łatwe&nbsp;&nbsp;\n          <i class="icon-hard"></i> trudne\n        </th>\n      </tr>\n      </thead>\n      <tbody>\n      <tr>\n        <td>I</td>\n        ');for(var a=0;a<8;++a)__append("\n        <td>\n          "),n.quantityDone?(__append("\n          "),__append(pad(n.quantityDone[a])),__append("/"),__append(n.hourlyPlan[a]),__append("\n          ")):(__append("\n          "),__append(n.hourlyPlan[a]),__append("\n          ")),__append("\n        </td>\n        ");__append("\n        <td>\n          "),done&&__append("\n          zlecenie nie robione na danej linii i zmianie,\n          "),__append("\n        </td>\n      </tr>\n      <tr>\n        <td>II</td>\n        ");for(var a=8;a<16;++a)__append("\n        <td>\n          "),n.quantityDone?(__append("\n          "),__append(pad(n.quantityDone[a])),__append("/"),__append(n.hourlyPlan[a]),__append("\n          ")):(__append("\n          "),__append(n.hourlyPlan[a]),__append("\n          ")),__append("\n        </td>\n        ");__append("\n        <td>\n          "),done&&__append('\n          <span class="is-incomplete">zlecenie rozpoczęte</span>,\n          <span class="is-completed">zlecenie zrobione</span>,\n          '),__append("\n        </td>\n      </tr>\n      <tr>\n        <td>III</td>\n        ");for(var a=16;a<24;++a)__append("\n        <td>\n          "),n.quantityDone?(__append("\n          "),__append(pad(n.quantityDone[a])),__append("/"),__append(n.hourlyPlan[a]),__append("\n          ")):(__append("\n          "),__append(n.hourlyPlan[a]),__append("\n          ")),__append("\n        </td>\n        ");__append("\n        <td>\n          "),done&&__append('\n          <span class="is-surplus">zlecenie z nadwyżką</span>\n          '),__append("\n        </td>\n      </tr>\n      </tbody>\n    </table>\n    ")}__append("\n  </section>\n  <footer>\n    <div>\n      <p>Plan dla linii "),__append(escapeFn(n.line)),__append(" na dzień "),__append(time.utc.format(date,"LL")),__append(".</p>\n      <p>Wydrukowano w "),__append(time.format(Date.now(),"LLLL")),__append(" przez "),__append(escapeFn(user.getLabel())),__append(" za pomocą systemu WMES.</p>\n    </div>\n    <div>\n      Strona "),__append(n.pageNo),__append(" z "),__append(n.pageCount),__append("\n    </div>\n  </footer>\n</section>\n")}),__append("\n</body>\n</html>\n");return __output.join("")}});