define(["underscore","app/i18n","app/orderStatuses/util/renderOrderStatusLabel"],function(t,r,s){"use strict";var n=["CNF","DLV","TECO"];function e(s,n){return'<span class="planning-mrp-list-property" title="'+t.escape(r("planning",n))+'"><i class="fa '+s+'"></i></span>'}return function(t,p,i){var a=[],o=t.orders.get(p);if(!o)return"";var u=t.getActualOrderData(p),g=o.getKindIcon(),l=o.getSourceIcon(),d=t.sapOrders.getPsStatus(p),c=t.sapOrders.getWhStatus(p);return o.get("ignored")&&a.push(e(o.getIcon("ignored"),"orders:ignored")),g&&a.push(e(g,"orderPriority:"+o.get("kind"))),l&&a.push(e(l,"orders:source:"+o.get("source"))),o.get("urgent")&&"incomplete"!==o.get("source")&&a.push(e(o.getIcon("urgent"),"orders:urgent")),o.isPinned()&&a.push(e(o.getIcon("pinned"),"orders:pinned")),t.sapOrders.isEto(p)&&a.push(e(o.getIcon("eto"),"orders:eto")),"E"===u.priority&&a.push('<span class="planning-mrp-list-property planning-mrp-list-property-priority" title="'+r("planning","orders:priority",{priority:u.priority})+'" >'+u.priority+"</span>"),a.push('<span class="planning-mrp-list-property planning-mrp-list-property-psStatus" title="'+r("planning","orders:psStatus:"+d)+'" data-ps-status="'+d+'"><i class="fa '+o.getIcon("psStatus")+'"></i></span>'),a.push('<span class="planning-mrp-list-property planning-mrp-list-property-whStatus" title="'+r("planning","orders:whStatus:"+c)+'" data-wh-status="'+c+'"><i class="fa '+o.getIcon("whStatus")+'"></i></span>'),i&&!1===i.sapStatuses||n.forEach(function(t){-1!==u.statuses.indexOf(t)&&a.push(s(t))}),a.join("")}});