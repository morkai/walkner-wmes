define(["../core/Collection","./PlanOrder"],function(e,t){"use strict";var r={unclassified:0,small:1,medium:2,big:3,easy:2,hard:3};function n(e,t){if(e.deleted!==t.deleted)return e.deleted?1:-1;var n=e.mrp.localeCompare(t.mrp);return 0!==n?n:e.urgent&&!t.urgent?-1:!e.urgent&&t.urgent?1:e.incomplete&&!t.incomplete?-1:!e.incomplete&&t.incomplete?1:0===(n=r[e.kind]-r[t.kind])?e._id.localeCompare(t._id):n}return e.extend({model:t,initialize:function(e,t){this.plan=t&&t.plan},comparator:function(e,t){return n(e.attributes,t.attributes)},getGroupedByMrp:function(){var e={};return this.forEach(function(t){var r=t.get("mrp");e[r]||(e[r]=[]),e[r].push(t)}),e}},{compare:n})});