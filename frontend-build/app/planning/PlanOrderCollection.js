// Part of <https://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

define(["../core/Collection","./PlanOrder"],function(e,t){"use strict";var n={unclassified:0,small:1,easy:2,hard:3};return e.extend({model:t,initialize:function(e,t){this.plan=t&&t.plan},comparator:function(e,t){e=e.attributes,t=t.attributes;var r=e.mrp.localeCompare(t.mrp);return 0!==r?r:e.urgent&&!t.urgent?-1:!e.urgent&&t.urgent?1:e.incomplete&&!t.incomplete?-1:!e.incomplete&&t.incomplete?1:(r=n[e.kind]-n[t.kind],0===r?e._id.localeCompare(t._id):r)},getGroupedByMrp:function(){var e={};return this.forEach(function(t){var n=t.get("mrp");e[n]||(e[n]=[]),e[n].push(t)}),e}})});