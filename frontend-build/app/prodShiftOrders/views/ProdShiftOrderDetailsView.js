define(["app/time","app/core/views/DetailsView","app/prodShiftOrders/templates/details"],function(e,t,i){"use strict";return t.extend({template:i,remoteTopics:{},serializeDetails:function(){return this.model.serializeDetails({prodDowntimes:this.prodDowntimes})},afterRender:function(){t.prototype.afterRender.apply(this,arguments),this.model.get("finishedAt")||(clearInterval(this.timers.updateEfficiency),this.timers.updateEfficiency=setInterval(this.updateEfficiency.bind(this),5e3))},updateEfficiency:function(){var t=this.model.getEfficiency({prodDowntimes:this.prodDowntimes});t&&this.$('.prop[data-prop="efficiency"] > .prop-value').text(Math.round(100*t)+"%");var i=Date.parse(this.model.get("startedAt")),r=Date.now(),a=e.toString((r-i)/1e3,!1);this.$('.prop[data-prop="duration"] > .prop-value').text(a)}})});