define(["app/user","app/core/Collection","app/core/util/getShiftStartInfo","./WhLine"],function(t,e,i,n){"use strict";return e.extend({model:n,rqlQuery:"sort(_id)&limit(0)",defaults:function(){return{pickup:{sets:0,qty:0,time:0},components:{qty:0,time:0},packaging:{qty:0,time:0}}},comparator:function(t,e){return t.id.localeCompare(e.id,void 0,{numeric:!0,ignorePunctuation:!0})},handleUpdate:function(t){t.added&&this.add(t.added),t.deleted&&t.deleted.forEach(function(t){this.remove(t._id)},this),t.updated&&t.updated.forEach(function(t){var e=this.get(t._id);e&&e.set(t)},this)}},{can:{redir:function(){return t.isAllowedTo("WH:MANAGE","PLANNING:MANAGE","PLANNING:PLANNER")}}})});