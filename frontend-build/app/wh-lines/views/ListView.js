define(["app/core/views/ListView","app/wh-lines/templates/list","app/wh-lines/templates/row"],function(e,t,i){"use strict";return e.extend({template:t,localTopics:{"socket.connected":function(){this.refreshCollectionNow()}},remoteTopics:function(){var e={};return e[this.collection.getTopicPrefix()+".updated"]="onUpdated",e},onUpdated:function(e){var t=this,n=!1;(e.updated||[]).forEach(function(e){var r=t.collection.get(e._id);!n&&r?(r.set(e),t.$('.list-item[data-id="'+r.id+'"]').replaceWith(t.renderPartialHtml(i,{row:r.serialize()}))):n=!0}),n&&t.refreshCollection()},getTemplateData:function(){return{renderRow:this.renderPartialHtml.bind(this,i)}}})});