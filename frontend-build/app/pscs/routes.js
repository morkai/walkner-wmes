// Part of <http://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

define(["underscore","../router","../viewport","../user","../i18n","../core/View","../core/util/showDeleteFormPage"],function(e,s,a,p,t,n,c){"use strict";var l="i18n!app/nls/pscs",r=p.auth("PSCS:VIEW"),o=p.auth("PSCS:MANAGE");s.map("/pscs",function(){a.loadPage(["app/pscs/templates/intro",l],function(e){return new n({layoutName:"page",template:e,title:t.bound("pscs","BREADCRUMBS:base")})})}),s.map("/pscs/learn",function(){a.loadPage(["app/pscs/templates/learn",l],function(e){return new n({layoutName:"page",template:e,breadcrumbs:[{href:"#pscs",label:t.bound("pscs","BREADCRUMBS:base")},t.bound("pscs","BREADCRUMBS:learn")]})})}),s.map("/pscs/exam",function(){a.loadPage(["app/pscs/PscsResult","app/pscs/views/ExamView",l],function(e,s){return new n({layoutName:"page",breadcrumbs:[{href:"#pscs",label:t.bound("pscs","BREADCRUMBS:base")},t.bound("pscs","BREADCRUMBS:exam")],view:new s({editMode:!1,formMethod:"POST",formAction:"/pscs/results",model:new e({personnelId:p.data.personellId||""})})})})}),s.map("/pscs/results",r,function(e){a.loadPage(["app/pscs/PscsResultCollection","app/pscs/pages/PscsResultListPage",l],function(s,a){return new a({collection:new s(null,{rqlQuery:e.rql})})})}),s.map("/pscs/results/:id;delete",o,e.partial(c,"app/pscs/PscsResult",e,e,{baseBreadcrumb:!0}))});