define(["underscore","app/core/util/bindLoadingMessage","app/core/pages/EditFormPage","../storage","../views/FormView"],function(e,t,i,r,o){"use strict";return i.extend({FormView:o,baseBreadcrumb:"#fap/entries",destroy:function(){i.prototype.destroy.apply(this,arguments),r.release()},defineModels:function(){i.prototype.defineModels.apply(this,arguments),this.categories=t(r.acquire(),this)},load:function(e){return e(this.model.fetch(),this.categories.isEmpty()?this.categories.fetch({reset:!0}):null)},afterRender:function(){i.prototype.afterRender.apply(this,arguments),r.acquire()},getFormViewOptions:function(){return e.assign(i.prototype.getFormViewOptions.apply(this,arguments),{categories:this.categories})}})});