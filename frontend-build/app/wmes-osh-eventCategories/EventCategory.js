define(["require","underscore","app/i18n","app/core/Model"],function(e,i,t,n){"use strict";return n.extend({urlRoot:"/osh/eventCategories",clientUrlRoot:"#osh/eventCategories",topicPrefix:"osh.eventCategories",privilegePrefix:"OSH:DICTIONARIES",nlsDomain:"wmes-osh-eventCategories",labelAttribute:"shortName",defaults:function(){return{active:!0,materialLoss:!1,kinds:[]}},getLabel:function({long:e,link:t}={}){let n=this.get(e?"longName":"shortName");return t&&(n=`<a href="${this.genClientUrl()}">${i.escape(n)}</a>`),n},serialize:function(){const e=this.toJSON();return e.active=t("core",`BOOL:${e.active}`),e.materialLoss=t("core",`BOOL:${e.materialLoss}`),e},serializeRow:function(){const i=e("app/wmes-osh-common/dictionaries"),t=this.serialize();return t.kinds=i.kinds.getLabels(t.kinds).join("; "),t.activityKind=i.activityKinds.getLabel(t.activityKind),t},serializeDetails:function(){const i=e("app/wmes-osh-common/dictionaries"),t=this.serialize();return t.kinds=i.kinds.getLabels(t.kinds,{long:!0,link:!0}),t.activityKind=i.activityKinds.getLabel(t.activityKind,{long:!0,link:!0}),t},hasKind:function(e){if(!e)return!1;const i=this.get("kinds");return 0===i.length||(Array.isArray(e)?e.some(e=>i.includes(e)):i.includes(e))}})});