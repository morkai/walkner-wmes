define(["underscore","app/i18n"],function(e,n){"use strict";function t(e){var n=e._id;return e.name&&(n+=": "+e.name),{id:e._id,text:n}}return function(n,r){return n.prepareData=t,n.length?(n.select2(e.assign({width:"100%",allowClear:!0,minimumInputLength:3,placeholder:" ",ajax:{cache:!0,quietMillis:300,url:function(e){e=e.trim();var n=/^[0-9]+$/.test(e)?"_id":"name";return"/vendors?sort("+n+")&limit(50)&regex("+n+",string:"+(e=encodeURIComponent(e))+",i)"},results:function(e){return{results:(e.collection||[]).map(t)}}}},r)),n):n}});