define(["underscore"],function(e){"use strict";function n(e){var n=e._id;return e.name&&(n+=": "+e.name),{id:e._id,text:n}}return function(t,r){return t.prepareData=n,t.length?(t.select2(e.assign({width:"100%",allowClear:!0,minimumInputLength:3,placeholder:" ",ajax:{cache:!0,quietMillis:300,url:function(e){e=e.trim();var n=/^[0-9]+$/.test(e)?"_id":"name";return"/vendors?sort("+n+")&limit(50)&regex("+n+",string:"+(e=encodeURIComponent(e))+",i)"},results:function(e){return{results:(e.collection||[]).map(n)}}}},r)),t):t}});