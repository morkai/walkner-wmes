define(["underscore","app/core/views/FilterView","app/core/util/idAndLabel","app/core/util/forms/dateTimeRange","app/data/orgUnits","../dictionaries","app/wmes-snf-tests/templates/filter"],function(e,t,r,a,o,i,n){"use strict";return t.extend({template:n,events:e.assign({"click a[data-date-time-range]":a.handleRangeEvent},t.prototype.events),defaultFormData:function(){return{result:["true","false"]}},termToForm:{startedAt:a.rqlToForm,prodLine:function(e,t,r){r[e]=t.args[1]},orderNo:"prodLine","program._id":function(e,t,r){r.program=t.args[1]},result:function(e,t,r){"boolean"==typeof t.args[1]&&(r.result=[t.args[1].toString()])}},serializeFormToQuery:function(e){var t=this.getButtonGroupValue("result");1===t.length&&e.push({name:"eq",args:["result","true"===t[0]]});var r={program:"program._id"};a.formToRql(this,e),["prodLine","orderNo","program"].forEach(function(t){var a=this.$id(t).val();a&&e.push({name:"eq",args:[r[t]||t,/^[0-9]+$/.test(a)?+a:a]})},this)},afterRender:function(){t.prototype.afterRender.apply(this,arguments),this.$id("prodLine").select2({width:"170px",allowClear:!0,placeholder:" ",data:o.getActiveByType("prodLine").map(r)}),this.$id("program").select2({width:"230px",allowClear:!0,placeholder:" ",data:i.programs.map(r)}),this.toggleButtonGroup("result")}})});