define(["app/core/views/FormView","app/core/util/idAndLabel","app/wmes-osh-common/dictionaries","app/wmes-osh-locations/templates/form"],function(i,e,t,n){"use strict";return i.extend({template:n,serializeToForm:function(){const i=this.model.toJSON();return i.buildings=(i.buildings||[]).join(","),i},serializeForm:function(i){return i.buildings=(i.buildings||"").split(",").map(i=>+i).filter(i=>i>0),i},afterRender:function(){i.prototype.afterRender.apply(this,arguments),this.setUpBuildingsSelect2()},setUpBuildingsSelect2:function(){this.$id("buildings").select2({multiple:!0,data:t.buildings.map(i=>({id:i.id,text:i.getLabel({long:!0})}))})}})});