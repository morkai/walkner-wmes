define(["underscore","js2form","app/time","app/core/View","app/core/util/idAndLabel","app/core/util/forms/dateTimeRange","app/wmes-ct-pces/templates/resultsReport/filter"],function(i,n,a,t,r,e,o){"use strict";return t.extend({template:o,events:{"click a[data-date-time-range]":e.handleRangeEvent,submit:function(){return this.changeFilter(),!1}},afterRender:function(){n(this.el,this.serializeFormData())},serializeFormData:function(){var i=this.model.attributes;return{"from-date":i.from?a.format(i.from,"YYYY-MM-DD"):"","to-date":i.to?a.format(i.to,"YYYY-MM-DD"):"",minLineWorkDuration:null==i.minLineWorkDuration?"":i.minLineWorkDuration,minUpphWorkDuration:null==i.minUpphWorkDuration?"":i.minUpphWorkDuration,shiftCount:null==i.shiftCount?"":i.shiftCount,availableWorkDuration:null==i.availableWorkDuration?"":i.availableWorkDuration,minMrpUnbalance:null==i.minMrpUnbalance?"":i.minMrpUnbalance,minMrpEfficiency:null==i.minMrpEfficiency?"":i.minMrpEfficiency}},changeFilter:function(){var n=e.serialize(this),a={from:n.from?n.from.valueOf():0,to:n.to?n.to.valueOf():0,minLineWorkDuration:parseFloat(this.$id("minLineWorkDuration").val()),minUpphWorkDuration:parseFloat(this.$id("minUpphWorkDuration").val()),shiftCount:parseInt(this.$id("minLineWorkDuration").val(),10),availableWorkDuration:parseFloat(this.$id("availableWorkDuration").val()),minMrpUnbalance:parseInt(this.$id("minMrpUnbalance").val(),10),minMrpEfficiency:parseInt(this.$id("minMrpEfficiency").val(),10)};i.forEach(a,function(i,n){(isNaN(i)||null==i)&&(a[n]=null)}),this.model.set(a),this.model.trigger("filtered")}})});