define(["underscore","app/i18n","app/core/View","app/core/util/bindLoadingMessage","app/wmes-ct-state/settings","../ResultsReport","../views/resultsReport/FilterView","../views/resultsReport/VsChartView","../views/resultsReport/AvgOutputChartView","../views/resultsReport/TableView","app/wmes-ct-pces/templates/resultsReport/page"],function(e,t,s,i,r,l,o,n,h,a,u){"use strict";return s.extend({layoutName:"page",template:u,breadcrumbs:function(){return[{href:"#ct",label:this.t("BREADCRUMB:base")},this.t("BREADCRUMB:reports:results")]},actions:function(){return[{label:this.t("PAGE_ACTION:settings"),icon:"cogs",privileges:"PROD_DATA:MANAGE",href:"#ct/settings?tab=resultsReport"}]},initialize:function(){r.bind(this),this.model=i(this.model,this),this.setView("#-filter",new o({model:this.model,settings:this.settings})),this.setView("#-vs",new n({model:this.model})),this.setView("#-avgOutput",new h({model:this.model})),this.setView("#-table",new a({model:this.model})),this.listenTo(this.model,"filtered",this.onFiltered),this.listenTo(this.model,"change:tab",this.updateUrl)},load:function(e){return e(this.model.fetch())},onFiltered:function(){this.promised(this.model.fetch()),this.updateUrl()},updateUrl:function(){this.broker.publish("router.navigate",{url:this.model.genClientUrl(),trigger:!1,replace:!0})}})});