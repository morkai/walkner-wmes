define(["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(n){return void 0==n?"":String(n).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(n){return _ENCODE_HTML_RULES[n]||n}var __output="";function __append(n){void 0!==n&&null!==n&&(__output+=n)}with(locals||{})__append('<div class="ct-report-results-table">\n  <ul class="nav nav-tabs">\n    '),["mrps","lines"].forEach(function(n){__append('\n    <li class="'),__append(n===selectedTab?"active":""),__append('"><a href="#'),__append(n),__append('" data-toggle="tab" data-tab="'),__append(n),__append('">'),__append(t("resultsReport:table:"+n)),__append("</a></li>\n    ")}),__append('\n  </ul>\n  <div class="tab-content">\n    <div class="tab-pane" data-tab="mrps">\n      <table class="table table-bordered table-condensed table-hover">\n        <thead>\n        <tr>\n          <th class="is-min">'),__append(t("resultsReport:table:mrp")),__append('</th>\n          <th class="is-min">'),__append(t("resultsReport:table:efficiency")),__append('</th>\n          <th class="is-min">'),__append(t("resultsReport:table:unbalance")),__append('</th>\n          <th class="is-min">'),__append(t("resultsReport:table:bottleneck")),__append("</th>\n          <th>"),__append(t("resultsReport:table:mrpLines")),__append("</th>\n        </tr>\n        </thead>\n        <tbody>\n        "),report.mrps.forEach(function(n,e){__append('\n        <tr data-i="'),__append(e),__append('">\n          <td class="is-min text-fixed">'),__append(n._id),__append('</td>\n          <td class="is-min is-number '),__append(n.efficiency>report.options.minMrpEfficiency?"ct-report-results-ok":"ct-report-results-nok"),__append('">'),__append(n.efficiency),__append('%</td>\n          <td class="is-min is-number" data-id="unbalance">'),n.unbalance.value&&(__append(n.unbalance.value),__append("%")),__append('</td>\n          <td class="is-min" data-id="bottleneck">'),__append(n.bottleneck.map(function(n){return n.station}).join(" &gt; ")),__append('</td>\n          <td class="text-fixed">'),__append(n.lines.join("; ")),__append("</td>\n        </tr>\n        ")}),__append('\n        </tbody>\n      </table>\n    </div>\n    <div class="tab-pane active" data-tab="lines">\n      <table class="table table-bordered table-condensed table-hover">\n        <thead>\n        <tr>\n          <th class="is-min">'),__append(t("resultsReport:table:mrp")),__append('</th>\n          <th class="is-min">'),__append(t("resultsReport:table:efficiency")),__append('</th>\n          <th class="is-min">'),__append(t("resultsReport:table:unbalance")),__append('</th>\n          <th class="is-min">'),__append(t("resultsReport:table:bottleneck")),__append('</th>\n          <th class="is-min">'),__append(t("resultsReport:table:workDuration")),__append('</th>\n          <th class="is-min">'),__append(t("resultsReport:table:breakDuration")),__append('</th>\n          <th class="is-min">'),__append(t("resultsReport:table:usage")),__append('</th>\n          <th class="is-min">'),__append(t("resultsReport:table:quantityDone")),__append("</th>\n          <th>"),__append(t("resultsReport:table:lineMrps")),__append("</th>\n        </tr>\n        </thead>\n        <tbody>\n        "),report.lines.forEach(function(n,e){__append('\n        <tr data-i="'),__append(e),__append('">\n          <td class="is-min text-fixed">'),__append(n._id),__append('</td>\n          <td class="is-min is-number '),__append(n.efficiency>report.options.minMrpEfficiency?"ct-report-results-ok":"ct-report-results-nok"),__append('">'),__append(n.efficiency),__append('%</td>\n          <td class="is-min is-number '),__append(n.unbalance.value>report.options.minMrpUnbalance?"ct-report-results-nok":"ct-report-results-ok"),__append('" data-id="unbalance">'),n.unbalance.value&&(__append(n.unbalance.value),__append("%")),__append('</td>\n          <td class="is-min" data-id="bottleneck">'),__append(n.bottleneck.map(function(n){return n.station}).join(" &gt; ")),__append('</td>\n          <td class="is-min">'),__append(time.toString(3600*n.workDuration)),__append('</td>\n          <td class="is-min">'),__append(n.breakDuration?time.toString(3600*n.breakDuration):""),__append('</td>\n          <td class="is-min is-number">'),__append((n.usage<1?n.usage:Math.round(n.usage)).toLocaleString()),__append('%</td>\n          <td class="is-min is-number">'),__append(n.quantityDone.toLocaleString()),__append('</td>\n          <td class="text-fixed">'),__append(n.mrps.join("; ")),__append("</td>\n        </tr>\n        ")}),__append("\n        </tbody>\n      </table>\n    </div>\n  </div>\n</div>\n\n");return __output}});