define(["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(n){return void 0==n?"":String(n).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(n){return _ENCODE_HTML_RULES[n]||n}var __output="";function __append(n){void 0!==n&&null!==n&&(__output+=n)}with(locals||{}){__append('<table class="table table-bordered table-condensed table-hover">\n  <thead>\n  <tr>\n    <th class="is-min" rowspan="2">'),__append(t("pceReport:column:order")),__append('</th>\n    <th class="is-min" rowspan="2">'),__append(t("pceReport:column:line")),__append('</th>\n    <th class="is-min" rowspan="2">'),__append(t("pceReport:column:shift")),__append('</th>\n    <th class="is-min" rowspan="2">'),__append(t("pceReport:column:startedAt")),__append('</th>\n    <th class="is-min text-center" colspan="2">'),__append(t("pceReport:column:pce")),__append('</th>\n    <th class="is-min" rowspan="2"></th>\n    ');for(var stationNo=1;stationNo<=stationCount;++stationNo)__append('\n    <th class="is-min text-center" rowspan="2">'),__append(t("pceReport:column:station",{no:stationNo})),__append("</th>\n    ");__append('\n    <th class="is-min" rowspan="2"></th>\n    <th class="is-min text-center" rowspan="2">'),__append(t("pceReport:column:min")),__append('</th>\n    <th class="is-min text-center" rowspan="2">'),__append(t("pceReport:column:max")),__append('</th>\n    <th rowspan="2"></th>\n  </tr>\n  <tr>\n    <th class="text-center" title="'),__append(t("pceReport:column:pce:order:title")),__append('" style="min-width: 35px">'),__append(t("pceReport:column:pce:order")),__append('</th>\n    <th class="text-center" title="'),__append(t("pceReport:column:pce:shift:title")),__append('" style="min-width: 35px">'),__append(t("pceReport:column:pce:shift")),__append("</th>\n  </tr>\n  </thead>\n  <tbody>\n  "),pces.forEach(function(n,p){__append('\n  <tr class="'),__append(n.metric?"ct-report-pce-metric-row":""),__append('">\n    '),"product"!==n.scope&&(__append('\n    <td class="is-min is-number">\n      <a href="#orders/'),__append(n.orderNo),__append('">'),__append(n.orderNo),__append("</a>\n    </td>\n    ")),__append("\n    "),n.metric&&"pso"!==n.scope||(__append('\n    <td class="is-min">'),__append(escapeFn(n.line)),__append('</td>\n    <td class="is-min">\n      '),n.shift&&(__append('\n      <a href="#prodShifts/'),__append(n.shift._id),__append('">'),__append(n.shift.date),__append(", "),__append(n.shift.no),__append("</a>\n      ")),__append("\n    </td>\n    ")),__append("\n    "),n.metric||(__append('\n    <td class="is-min">\n      '),n.startedAt&&(__append('\n      <a href="#prodShiftOrders/'),__append(n.pso),__append('">'),__append(time.format(n.startedAt,"HH:mm:ss")),__append("</a>\n      ")),__append("\n    </td>\n    ")),__append("\n    "),n.metric?(__append('\n    <td class="ct-report-pce-metric-label" colspan="'),__append("pso"===n.scope?3:"order"===n.scope?5:6),__append('">\n      '),__append(t("pceReport:metric:"+n.metric)),__append(":\n    </td>\n    ")):(__append('\n    <td class="is-min is-number">'),__append(escapeFn(n.orderPce)),__append('</td>\n    <td class="is-min is-number">'),__append(escapeFn(n.shiftPce)),__append("</td>\n    ")),__append('\n    <td class="is-min"></td>\n    '),n.stations.forEach(function(p,e){__append('\n    <td class="is-min '),__append(e===n.minStationI?"ct-report-pce-minStation":""),__append(" "),__append(e===n.maxStationI?"ct-report-pce-maxStation":""),__append('">'),__append(p),__append("</td>\n    ")}),__append('\n    <td class="is-min"></td>\n    <td class="is-min ct-report-pce-minDuration">'),__append(n.minDuration),__append('</td>\n    <td class="is-min ct-report-pce-maxDuration">'),__append(n.maxDuration),__append("</td>\n    <th></th>\n  </tr>\n  "),!n.metric||!pces[p+1]||pces[p+1].metric&&pces[p+1].scope===n.scope||(__append('\n  <tr class="ct-report-pce-metric-separator">\n    <td colspan="'),__append(7+stationCount+4),__append('"></td>\n  </tr>\n  ')),__append("\n  ")}),__append("\n  </tbody>\n</table>\n")}return __output}});