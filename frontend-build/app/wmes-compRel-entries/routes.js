define(["underscore","../broker","../router","../viewport","../user","../core/util/showDeleteFormPage","./Entry","i18n!app/nls/wmes-compRel-entries"],function(e,n,a,i,s,r,p){"use strict";var t="app/wmes-compRel-entries/Entry",o=["css!app/wmes-compRel-entries/assets/main"],m=["i18n!app/nls/wmes-compRel-entries"],c=s.auth(p.can.view.bind(p)),l=s.auth(p.can.add.bind(p)),d=s.auth(p.can.manage.bind(p));a.map("/compRel/entries",c,function(e){i.loadPage(["app/wmes-compRel-entries/dictionaries","app/wmes-compRel-entries/EntryCollection","app/wmes-compRel-entries/pages/ListPage",o,m],function(n,a,i){return e.rql.selector.args.forEach(function(e){"eq"===e.name&&"observers.user.id"===e.args[0]&&"mine"===e.args[1]&&(e.args[1]=s.data._id)}),n.bind(new i({collection:new a(null,{rqlQuery:e.rql})}))})}),a.map("/compRel/entries/:id",c,function(e){i.loadPage(["app/wmes-compRel-entries/dictionaries",t,"app/wmes-compRel-entries/pages/DetailsPage",o,m],function(n,a,i){return n.bind(new i({model:new a({_id:e.params.id})}))})}),a.map("/compRel/entries;add",l,function(){i.loadPage(["app/core/pages/AddFormPage","app/wmes-compRel-entries/dictionaries",t,"app/wmes-compRel-entries/views/FormView",m,o],function(e,n,a,i){return n.bind(new e({pageClassName:"page-max-flex",FormView:i,model:new a}))})}),a.map("/compRel/entries/:id;edit",l,function(e){i.loadPage(["app/core/pages/EditFormPage","app/wmes-compRel-entries/dictionaries",t,"app/wmes-compRel-entries/views/FormView",m,o],function(n,a,i,s){return a.bind(new n({pageClassName:"page-max-flex",FormView:s,model:new i({_id:e.params.id})}))})}),a.map("/compRel/entries/:id;history",c,function(e){i.loadPage(["app/wmes-compRel-entries/dictionaries",t,"app/wmes-compRel-entries/pages/HistoryPage",o,m],function(n,a,i){return n.bind(new i({model:new a({_id:e.params.id})}))})}),a.map("/compRel/entries/:id;delete",c,e.partial(r,t,e,e,{baseBreadcrumb:!1})),a.map("/compRel/settings",d,function(e){i.loadPage(["app/wmes-compRel-entries/pages/SettingsPage",o,m],function(n){return new n({initialTab:e.query.tab})})})});