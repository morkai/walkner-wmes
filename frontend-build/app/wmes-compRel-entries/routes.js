define(["underscore","../broker","../router","../viewport","../user","../core/util/showDeleteFormPage","i18n!app/nls/wmes-compRel-entries"],function(e,i,a,n,s,r){"use strict";var p="app/wmes-compRel-entries/Entry",t=["css!app/wmes-compRel-entries/assets/main"],o=["i18n!app/nls/wmes-compRel-entries"],m=s.auth("PROD_DATA:VIEW","COMP_REL:VIEW"),l=s.auth("PROD_DATA:MANAGE","COMP_REL:MANAGE","COMP_REL:ADD"),c=s.auth("PROD_DATA:MANAGE","COMP_REL:MANAGE");a.map("/compRel/entries",m,function(e){n.loadPage(["app/wmes-compRel-entries/dictionaries","app/wmes-compRel-entries/EntryCollection","app/wmes-compRel-entries/pages/ListPage",t,o],function(i,a,n){return e.rql.selector.args.forEach(function(e){"eq"===e.name&&"observers.user.id"===e.args[0]&&"mine"===e.args[1]&&(e.args[1]=s.data._id)}),i.bind(new n({collection:new a(null,{rqlQuery:e.rql})}))})}),a.map("/compRel/entries/:id",m,function(e){n.loadPage(["app/wmes-compRel-entries/dictionaries",p,"app/wmes-compRel-entries/pages/DetailsPage",t,o],function(i,a,n){return i.bind(new n({model:new a({_id:e.params.id})}))})}),a.map("/compRel/entries;add",l,function(){n.loadPage(["app/core/pages/AddFormPage","app/wmes-compRel-entries/dictionaries",p,"app/wmes-compRel-entries/views/FormView",o,t],function(e,i,a,n){return i.bind(new e({pageClassName:"page-max-flex",FormView:n,model:new a}))})}),a.map("/compRel/entries/:id;edit",l,function(e){n.loadPage(["app/core/pages/EditFormPage","app/wmes-compRel-entries/dictionaries",p,"app/wmes-compRel-entries/views/FormView",o,t],function(i,a,n,s){return a.bind(new i({pageClassName:"page-max-flex",FormView:s,model:new n({_id:e.params.id})}))})}),a.map("/compRel/entries/:id;history",m,function(e){n.loadPage(["app/wmes-compRel-entries/dictionaries",p,"app/wmes-compRel-entries/pages/HistoryPage",t,o],function(i,a,n){return i.bind(new n({model:new a({_id:e.params.id})}))})}),a.map("/compRel/entries/:id;delete",m,e.partial(r,p,e,e,{baseBreadcrumb:!1})),a.map("/compRel/settings",c,function(e){n.loadPage(["app/wmes-compRel-entries/pages/SettingsPage",t,o],function(i){return new i({initialTab:e.query.tab})})})});