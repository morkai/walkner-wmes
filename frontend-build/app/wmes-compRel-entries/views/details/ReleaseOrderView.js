define(["app/viewport","app/core/View","app/wmes-compRel-entries/templates/details/releaseOrder"],function(e,i,t){"use strict";return i.extend({template:t,events:{submit:function(){return this.submit(),!1}},onDialogShown:function(){this.$id("orders").focus()},submit:function(){var i=this;e.msg.saving(),i.$id("submit").prop("disabled",!0);var t=i.ajax({method:"POST",url:"/compRel/entries/"+i.model.id+";release-order",data:JSON.stringify({orders:i.$id("orders").val().split(/[^0-9]+/).filter(function(e){return 9===e.length}),comment:i.$id("comment").val().trim()})});t.fail(function(){e.msg.savingFailed(),i.$id("submit").prop("disabled",!1)}),t.done(function(){e.msg.saved(),e.closeDialog()})}})});