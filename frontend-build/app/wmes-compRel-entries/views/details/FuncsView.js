define(["jquery","app/viewport","app/core/View","./AcceptView","app/wmes-compRel-entries/templates/details/funcs"],function(e,t,i,n,o){"use strict";return i.extend({template:o,events:{"click .compRel-details-accept":function(e){this.showAcceptDialog(this.$(e.target).closest(".compRel-details-func")[0].dataset.id)}},initialize:function(){this.once("afterRender",function(){this.listenTo(this.model,"change:funcs",this.render)}),e(window).on("resize."+this.idPrefix,this.onWindowResize.bind(this))},destroy:function(){e(window).off("."+this.idPrefix)},getTemplateData:function(){return{funcs:this.model.serializeFuncs()}},afterRender:function(){this.toggleOverflowX()},showAcceptDialog:function(e){var i=new n({model:{entry:this.model,func:this.model.getFunc(e)}});t.showDialog(i,this.t("accept:title"))},toggleOverflowX:function(){this.$(".compRel-details-funcs").css("overflow-x",this.$el.outerWidth()+50<window.innerWidth?"visible":"")},onWindowResize:function(){this.toggleOverflowX()}})});