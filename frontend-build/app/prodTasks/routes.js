// Copyright (c) 2014, ≈Åukasz Walukiewicz <lukasz@walukiewicz.eu>. Some Rights Reserved.
// Licensed under CC BY-NC-SA 4.0 <http://creativecommons.org/licenses/by-nc-sa/4.0/>.
// Part of the walkner-wmes project <http://lukasz.walukiewicz.eu/p/walkner-wmes>

define(["../router","../viewport","../user","../core/util/showDeleteFormPage","./ProdTaskCollection","./ProdTask","i18n!app/nls/prodTasks"],function(a,e,o,s,d,r){var p=o.auth("DICTIONARIES:VIEW"),n=o.auth("DICTIONARIES:MANAGE");a.map("/prodTasks",p,function(a){e.loadPage(["app/core/pages/ListPage","app/prodTasks/views/ProdTaskListView"],function(e,o){return new e({ListView:o,collection:new d({rqlQuery:a.rql})})})}),a.map("/prodTasks/:id",function(a){e.loadPage(["app/core/pages/DetailsPage","app/prodTasks/templates/details"],function(e,o){return new e({model:new r({_id:a.params.id}),detailsTemplate:o})})}),a.map("/prodTasks;add",n,function(){e.loadPage("app/prodTasks/pages/AddProdTaskFormPage",function(a){return new a({model:new r})})}),a.map("/prodTasks/:id;edit",n,function(a){e.loadPage("app/prodTasks/pages/EditProdTaskFormPage",function(e){return new e({model:new r({_id:a.params.id})})})}),a.map("/prodTasks/:id;delete",n,s.bind(null,r))});