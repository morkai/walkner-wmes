// Copyright (c) 2014, ≈Åukasz Walukiewicz <lukasz@walukiewicz.eu>. Some Rights Reserved.
// Licensed under CC BY-NC-SA 4.0 <http://creativecommons.org/licenses/by-nc-sa/4.0/>.
// Part of the walkner-wmes project <http://lukasz.walukiewicz.eu/p/walkner-wmes>

define(["../router","../viewport","../user","../data/mrpControllers","./MrpController","../core/pages/DetailsPage","../core/pages/AddFormPage","../core/pages/EditFormPage","../core/pages/ActionFormPage","./views/MrpControllerDetailsView","./views/MrpControllerFormView","i18n!app/nls/mrpControllers"],function(e,r,o,n,a,i,l,t,s,p,m){var d=o.auth("DICTIONARIES:VIEW"),w=o.auth("DICTIONARIES:MANAGE");e.map("/mrpControllers",d,function(){r.loadPage(["app/core/pages/ListPage","app/mrpControllers/views/MrpControllerListView"],function(e,r){return new e({ListView:r,collection:n})})}),e.map("/mrpControllers/:id",function(e){r.showPage(new i({DetailsView:p,model:new a({_id:e.params.id})}))}),e.map("/mrpControllers;add",w,function(){r.showPage(new l({FormView:m,model:new a}))}),e.map("/mrpControllers/:id;edit",w,function(e){r.showPage(new t({FormView:m,model:new a({_id:e.params.id})}))}),e.map("/mrpControllers/:id;delete",w,function(e,o){var n=new a({_id:e.params.id});r.showPage(new s({model:n,actionKey:"delete",successUrl:n.genClientUrl("base"),cancelUrl:o||n.genClientUrl("base"),formMethod:"DELETE",formAction:n.url(),formActionSeverity:"danger"}))})});