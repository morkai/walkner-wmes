// Part of <http://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

define(["app/time","app/core/views/ListView"],function(e,t){"use strict";return t.extend({className:"is-clickable",remoteTopics:{"icpo.results.synced":"refreshCollection"},columns:["srcId","serviceTag","driver","gprs","led","startedAt","duration"],serializeActions:function(){return null},serializeRow:function(t){var r=e.getMoment(t.get("startedAt")),s=e.getMoment(t.get("finishedAt"));return{_id:t.id,className:"icpo-entry "+("success"===t.get("result")?"success":"danger"),srcId:t.get("srcId"),serviceTag:t.get("serviceTag"),driver:t.get("driver"),gprs:t.get("gprs"),led:t.get("led"),startedAt:r.format("L, LTS"),duration:e.toString((s.valueOf()-r.valueOf())/1e3,!1,!0)}}})});