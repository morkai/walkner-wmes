// Part of <http://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

define(["app/i18n","app/core/pages/DetailsPage","app/core/util/pageActions","app/qiResults/dictionaries","../views/QiResultDetailsView"],function(e,t,i,n,o){"use strict";return t.extend({baseBreadcrumb:!0,DetailsView:o,actions:function(){var t=this.model,n=[];if(!t.get("ok")){var o=t.url()+".pdf";n.push({id:"print",icon:"print",label:e(t.getNlsDomain(),"PAGE_ACTION:print"),href:o,callback:function(e){if(0===e.button){var t=window.open(o);return t?(t.onload=t.print.bind(t),!1):void(window.location.href=o)}}})}return t.canEdit()&&n.push(i.edit(t,!1)),t.canDelete()&&n.push(i["delete"](t,!1)),n},destroy:function(){t.prototype.destroy.call(this),n.unload()},load:function(e){return e(this.model.fetch(),n.load())},afterRender:function(){t.prototype.afterRender.call(this),n.load()}})});