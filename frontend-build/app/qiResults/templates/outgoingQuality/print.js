define(["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(n){return void 0==n?"":String(n).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(n){return _ENCODE_HTML_RULES[n]||n}var __output="";function __append(n){void 0!==n&&null!==n&&(__output+=n)}with(locals||{})__append('<!DOCTYPE html>\n<html>\n<head>\n  <meta charset="utf-8">\n  <title>Outgoing quality</title>\n  <style>\n    @page {\n      size: A4 landscape;\n      margin: 10mm;\n    }\n    * {\n      margin: 0;\n      padding: 0;\n      box-sizing: border-box;\n    }\n    body {\n      color: #000;\n      text-align: center;\n      font-size: 14px;\n      font-family: Arial, sans-serif;\n      line-height: 1;\n      text-rendering: geometricPrecision;\n    }\n    .page {\n      position: relative;\n      width: 100%;\n    }\n    .page + .page {\n      page-break-before: always;\n    }\n    .title {\n      font-size: 24px;\n      font-weight: bold;\n      text-align: left;\n    }\n    .date {\n      position: absolute;\n      top: 0;\n      right: 0;\n      font-size: 24px;\n      text-align: right;\n    }\n    h3 {\n      font-size: 16px;\n      font-weight: bold;\n      line-height: 1.2;\n    }\n    #where-what {\n      display: flex;\n      justify-content: space-between;\n      margin-top: 25px;\n    }\n    table {\n      margin: auto;\n      border-collapse: collapse;\n      border-spacing: 0;\n      border: 1px solid #ccc;\n    }\n    th, td {\n      padding: 5px 5px;\n      border: 1px solid #ccc;\n    }\n    .text-center {\n      text-align: center;\n    }\n    .text-left {\n      text-align: left;\n    }\n    .text-right {\n      text-align: right;\n    }\n    .is-number {\n      font-family: Consolas, monospace;\n      text-align: right;\n    }\n    .overflow {\n      display: block;\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      max-width: 310px;\n    }\n    .small {\n      font-weight: normal;\n      font-size: 12px;\n    }\n    #results {\n      margin-top: 10px;\n      display: flex;\n      text-align: left;\n    }\n    .result {\n      flex: 1 1 auto;\n      padding-right: 10px;\n      border-right: 1px solid #ccc;\n    }\n    .result:last-child {\n      padding-right: 0;\n      border-right: none;\n    }\n    .result + .result {\n      margin-left: 10px;\n    }\n    .props {\n      display: flex;\n      line-height: 1.2;\n    }\n    .props + .props {\n      margin-top: 8px;\n    }\n    .prop + .prop {\n      margin-left: 15px;\n    }\n    .prop-name {\n      margin-bottom: 4px;\n      font-weight: bold;\n    }\n    .prop-value {\n      font-size: 12px;\n      line-height: 1.4;\n    }\n    .prop-value.small {\n      font-size: 10px;\n    }\n    ol {\n      list-style-position: inside;\n    }\n  </style>\n</head>\n<body>\n<div class="page">\n  <div class="title">'),__append(t("BREADCRUMBS:reports:outgoingQuality")),__append('</div>\n  <div class="date">'),__append(week),__append("</div>\n  <div>\n    <h3>"),__append(helpers.t("report:oql:title:ppm")),__append('</h3>\n    <img src="data:image/png;base64,'),__append(charts.ppm),__append('" width="1031" height="250">\n    <table>\n      <thead>\n      <tr>\n        <th class="text-right"></th>\n        '),tables.ppm.forEach(function(n){__append('\n        <th class="text-center">'),__append(n.week),__append("</th>\n        ")}),__append('\n      </tr>\n      </thead>\n      <tbody>\n      <tr>\n        <th class="text-right">'),__append(helpers.t("report:oql:series:oqlTarget")),__append("</th>\n        "),tables.ppm.forEach(function(n){__append('\n        <td class="is-number">'),__append(n.target),__append("</td>\n        ")}),__append('\n      </tr>\n      <tr>\n        <th class="text-right">'),__append(helpers.t("report:oql:series:oql")),__append("</th>\n        "),tables.ppm.forEach(function(n){__append('\n        <td class="is-number">'),__append(n.oql),__append("</td>\n        ")}),__append('\n      </tr>\n      </tbody>\n    </table>\n  </div>\n  <div id="where-what">\n    <div>\n      <h3>'),__append(helpers.t("report:oql:title:where")),__append('</h3>\n      <img src="data:image/png;base64,'),__append(charts.where),__append('">\n      <table>\n        <thead>\n        <tr>\n          <th class="text-right">'),__append(helpers.t("report:oql:"+tables.where.property)),__append("</th>\n          "),tables.where.weeks.forEach(function(n){__append('\n          <th class="text-center">'),__append(n),__append("</th>\n          ")}),__append('\n          <th class="text-center"></th>\n        </tr>\n        </thead>\n        <tbody>\n        '),tables.where.rows.forEach(function(n){__append('\n        <tr>\n          <th class="text-right">\n            <span class="overflow">'),__append(escapeFn(n.label)),__append(': <span class="small">'),__append(escapeFn(n.title)),__append("</span></span>\n          </th>\n          "),n.data.forEach(function(n){__append('\n          <td class="is-number" style="width: 46px">\n            '),n.relative&&(__append("\n            "),__append(n.relative),__append("%\n            ")),__append("\n          </td>\n          ")}),__append('\n          <th class="is-number">'),__append(n.total.relative),__append("%</th>\n        </tr>\n        ")}),__append("\n        </tbody>\n      </table>\n    </div>\n    <div>\n      <h3>"),__append(helpers.t("report:oql:title:what")),__append('</h3>\n      <img src="data:image/png;base64,'),__append(charts.what),__append('">\n      <table>\n        <thead>\n        <tr>\n          <th class="text-right">'),__append(helpers.t("report:oql:"+tables.what.property)),__append("</th>\n          "),tables.what.weeks.forEach(function(n){__append('\n          <th class="text-center">'),__append(n),__append("</th>\n          ")}),__append('\n          <th class="text-center"></th>\n        </tr>\n        </thead>\n        <tbody>\n        '),tables.what.rows.forEach(function(n){__append('\n        <tr>\n          <th class="text-right">\n            <span class="overflow">'),__append(escapeFn(n.label)),__append(': <span class="small">'),__append(escapeFn(n.title)),__append("</span></span>\n          </th>\n          "),n.data.forEach(function(n){__append('\n          <td class="is-number" style="width: 46px">\n            '),n.relative&&(__append("\n            "),__append(n.relative),__append("%\n            ")),__append("\n          </td>\n          ")}),__append('\n          <th class="is-number">'),__append(n.total.relative),__append("%</th>\n        </tr>\n        ")}),__append("\n        </tbody>\n      </table>\n    </div>\n  </div>\n</div>\n"),results.length&&(__append('\n<div class="page">\n  <div class="title">'),__append(t("BREADCRUMBS:reports:outgoingQuality")),__append('</div>\n  <div class="date">'),__append(week),__append("</div>\n  <h3>"),__append(helpers.t("report:oql:title:results")),__append('</h3>\n  <div id="results">\n    '),results.forEach(function(n){__append('\n    <div class="result">\n      <div class="props">\n        <div class="prop">\n          <div class="prop-name">'),__append(t("PROPERTY:rid")),__append('</div>\n          <div class="prop-value">'),__append(n.rid),__append('</div>\n        </div>\n        <div class="prop">\n          <div class="prop-name">'),__append(t("PROPERTY:kpi")),__append('</div>\n          <div class="prop-value">'),__append(escapeFn(n.kpi)),__append('</div>\n        </div>\n        <div class="prop">\n          <div class="prop-name">'),__append(t("PROPERTY:site")),__append('</div>\n          <div class="prop-value">'),__append(escapeFn(n.site)),__append('</div>\n        </div>\n        <div class="prop">\n          <div class="prop-name">'),__append(t("PROPERTY:date")),__append('</div>\n          <div class="prop-value">'),__append(n.date),__append('</div>\n        </div>\n      </div>\n      <div class="props">\n        <div class="prop">\n          <div class="prop-name">'),__append(t("PROPERTY:pareto")),__append('</div>\n          <div class="prop-value">'),__append(escapeFn(n.pareto)),__append('</div>\n        </div>\n      </div>\n      <div class="props">\n        <div class="prop">\n          <div class="prop-name">'),__append(t("PROPERTY:concern")),__append('</div>\n          <div class="prop-value">'),__append(escapeFn(n.concern)),__append('</div>\n        </div>\n      </div>\n      <div class="props">\n        <div class="prop">\n          <div class="prop-name">'),__append(t("PROPERTY:rootCause")),__append('</div>\n          <div class="prop-value small">\n            '),__append(n.rootCause),__append('\n          </div>\n        </div>\n      </div>\n      <div class="props">\n        <div class="prop">\n          <div class="prop-name">'),__append(t("PROPERTY:problem")),__append('</div>\n          <div class="prop-value small">\n            '),__append(escapeFn(n.problem)),__append('\n          </div>\n        </div>\n      </div>\n      <div class="props">\n        <div class="prop">\n          <div class="prop-name">'),__append(t("PROPERTY:countermeasure")),__append('</div>\n          <div class="prop-value small">\n            '),__append(escapeFn(n.countermeasure)),__append('\n          </div>\n        </div>\n      </div>\n      <div class="props">\n        <div class="prop">\n          <div class="prop-name">'),__append(t("PROPERTY:check")),__append('</div>\n          <div class="prop-value">'),__append(escapeFn(n.check||"-")),__append('</div>\n        </div>\n        <div class="prop">\n          <div class="prop-name">'),__append(t("PROPERTY:standard")),__append('</div>\n          <div class="prop-value">'),__append(escapeFn(n.standard||"-")),__append('</div>\n        </div>\n      </div>\n      <div class="props">\n        <div class="prop">\n          <div class="prop-name">'),__append(t("PROPERTY:who")),__append('</div>\n          <div class="prop-value">'),__append(n.who||"-"),__append('</div>\n        </div>\n        <div class="prop">\n          <div class="prop-name">'),__append(t("PROPERTY:when")),__append('</div>\n          <div class="prop-value">'),__append(n.when||"-"),__append("</div>\n        </div>\n      </div>\n    </div>\n    ")}),__append("\n  </div>\n</div>\n")),__append("\n</body>\n</html>\n");return __output}});