define(["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(p){return void 0==p?"":String(p).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(p){return _ENCODE_HTML_RULES[p]||p}var __output="";function __append(p){void 0!==p&&null!==p&&(__output+=p)}with(locals||{})__append('<div class="qi-oql-results">\n  '),results.forEach(function(p){__append('\n  <div class="qi-oql-result" data-id="'),__append(p._id),__append('">\n    <div class="qi-oql-props">\n      <div class="qi-oql-prop" data-id="rid">\n        <div class="qi-oql-prop-name">\n          '),__append(t("PROPERTY:rid")),__append("\n          "),canManage&&__append('\n          <a href="javascript:void(0)" data-action="editResults"><i class="fa fa-edit"></i></a>\n          '),__append('\n        </div>\n        <div class="qi-oql-prop-value">'),__append(p.rid),__append('</div>\n      </div>\n      <div class="qi-oql-prop">\n        <div class="qi-oql-prop-name">'),__append(t("PROPERTY:kpi")),__append('</div>\n        <div class="qi-oql-prop-value">'),__append(escapeFn(p.kpi)),__append('</div>\n      </div>\n      <div class="qi-oql-prop">\n        <div class="qi-oql-prop-name">'),__append(t("PROPERTY:site")),__append('</div>\n        <div class="qi-oql-prop-value">'),__append(escapeFn(p.site)),__append('</div>\n      </div>\n      <div class="qi-oql-prop">\n        <div class="qi-oql-prop-name">'),__append(t("PROPERTY:date")),__append('</div>\n        <div class="qi-oql-prop-value">'),__append(p.date),__append('</div>\n      </div>\n    </div>\n    <div class="qi-oql-props">\n      <div class="qi-oql-prop">\n        <div class="qi-oql-prop-name">'),__append(t("PROPERTY:family")),__append('</div>\n        <div class="qi-oql-prop-value">'),__append(escapeFn(p.family)),__append('</div>\n      </div>\n    </div>\n    <div class="qi-oql-props">\n      <div class="qi-oql-prop">\n        <div class="qi-oql-prop-name">'),__append(t("PROPERTY:concern")),__append('</div>\n        <div class="qi-oql-prop-value">'),__append(escapeFn(p.concern)),__append('</div>\n      </div>\n    </div>\n    <div class="qi-oql-props">\n      <div class="qi-oql-prop">\n        <div class="qi-oql-prop-name">'),__append(t("PROPERTY:problem")),__append('</div>\n        <div class="qi-oql-prop-value text-lines">'),__append(escapeFn(p.problem)),__append("</div>\n      </div>\n    </div>\n    "),p.rootCause.forEach(function(p,n){__append('\n    <div class="qi-oql-props">\n      <div class="qi-oql-prop">\n        <div class="qi-oql-prop-name">'),__append(t("PROPERTY:rootCauseN",{n:n+1})),__append('</div>\n        <div class="qi-oql-prop-value">\n          <ol>\n            '),p.forEach(function(p){__append('\n            <li class="text-lines">'),__append(escapeFn(p)),__append("</li>\n            ")}),__append("\n          </ol>\n        </div>\n      </div>\n    </div>\n    ")}),__append('\n    <div class="qi-oql-props">\n      <div class="qi-oql-prop" data-id="standard">\n        <div class="qi-oql-prop-name">\n          '),__append(t("PROPERTY:standard")),__append("\n          "),canManage&&__append('\n          <a href="javascript:void(0)" data-action="editStandard"><i class="fa fa-edit"></i></a>\n          '),__append('\n        </div>\n        <div class="qi-oql-prop-value">'),__append(escapeFn(p.standard||"-")),__append("</div>\n      </div>\n    </div>\n    "),p.correctiveActions.forEach(function(p,n){__append('\n    <div class="qi-oql-props">\n      <div class="qi-oql-prop">\n        <div class="qi-oql-prop-name">'),__append(t("PROPERTY:correctiveActionN",{n:n+1})),__append('</div>\n        <div class="qi-oql-prop-value text-small">'),__append(p.when||"-"),__append(" | "),__append(p.who.join(", ")||""),__append('</div>\n        <div class="qi-oql-prop-value text-lines">'),__append(escapeFn(p.what)),__append("</div>\n      </div>\n    </div>\n    ")}),__append("\n  </div>\n  ")}),__append("\n</div>\n");return __output}});