// Part of <http://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

define(["../time","../settings/SettingCollection","./QiSetting"],function(t,e,n){"use strict";return e.extend({model:n,topicSuffix:"qi.**",getValue:function(t){var e=this.get("qi."+t);return e?e.getValue():null},prepareValue:function(t,e){return/okRatioRef$/.test(t)?Math.round(100*parseFloat(e,10))/100||0:parseInt(e,10)||0},getMaxNokPerDay:function(){return this.getValue("maxNokPerDay")||0},getOkRatioRef:function(){return this.getValue("okRatioRef")||0},getWhQty:function(e){return this.getValue("whQty."+t.format(e,"YYYYMM"))||0},setWhQty:function(e,n){return this.update("qi.whQty."+t.format(e,"YYYYMM"),n)}})});