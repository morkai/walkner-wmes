// Copyright (c) 2014, ≈Åukasz Walukiewicz <lukasz@walukiewicz.eu>. Some Rights Reserved.
// Licensed under CC BY-NC-SA 4.0 <http://creativecommons.org/licenses/by-nc-sa/4.0/>.
// Part of the walkner-wmes project <http://lukasz.walukiewicz.eu/p/walkner-wmes>

define(["../router","../viewport","../user","../data/orgUnits","../prodChangeRequests/util/createShowDeleteFormPage","./ProdShift","./ProdShiftCollection","./pages/ProdShiftListPage","i18n!app/nls/prodShifts"],function(e,t,i,o,d,a,r,n){"use strict";var p=i.auth("LOCAL","PROD_DATA:VIEW"),s=i.auth("PROD_DATA:MANAGE","PROD_DATA:CHANGES:REQUEST");e.map("/prodShifts",p,function(e){t.showPage(new n({collection:new r(null,{rqlQuery:e.rql})}))}),e.map("/prodShifts;add",s,function(){t.loadPage(["app/prodShifts/pages/AddProdShiftFormPage"],function(e){return new e({model:new a})})}),e.map("/prodShifts/:id",p,function(e){t.loadPage(["app/prodShifts/pages/ProdShiftDetailsPage"],function(t){return new t({latest:null!==o.getByTypeAndId("prodLine",e.params.id),modelId:e.params.id})})}),e.map("/prodShifts/:id;edit",s,function(e){t.loadPage(["app/prodShifts/pages/EditProdShiftFormPage"],function(t){return new t({model:new a({_id:e.params.id})})})}),e.map("/prodShifts/:id;delete",s,d(a))});