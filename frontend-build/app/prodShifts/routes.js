// Copyright (c) 2014, ≈Åukasz Walukiewicz <lukasz@walukiewicz.eu>. Some Rights Reserved.
// Licensed under CC BY-NC-SA 4.0 <http://creativecommons.org/licenses/by-nc-sa/4.0/>.
// Part of the walkner-wmes project <http://lukasz.walukiewicz.eu/p/walkner-wmes>

define(["../router","../viewport","../user","../data/orgUnits","./ProdShift","./pages/ProdShiftListPage","i18n!app/nls/prodShifts"],function(t,a,d,i,e,o){"use strict";var r=d.auth("LOCAL","PROD_DATA:VIEW"),n=d.auth("PROD_DATA:MANAGE");t.map("/prodShifts",r,function(t){a.showPage(new o({rql:t.rql}))}),t.map("/prodShifts;add",n,function(){a.loadPage(["app/prodShifts/pages/AddProdShiftFormPage"],function(t){return new t({model:new e})})}),t.map("/prodShifts/:id",r,function(t){a.loadPage("app/prodShifts/pages/ProdShiftDetailsPage",function(a){return new a({latest:null!==i.getByTypeAndId("prodLine",t.params.id),modelId:t.params.id})})}),t.map("/prodShifts/:id;edit",n,function(t){a.loadPage(["app/prodShifts/pages/EditProdShiftFormPage"],function(a){return new a({model:new e({_id:t.params.id})})})})});