// Copyright (c) 2014, ≈Åukasz Walukiewicz <lukasz@walukiewicz.eu>. Some Rights Reserved.
// Licensed under CC BY-NC-SA 4.0 <http://creativecommons.org/licenses/by-nc-sa/4.0/>.
// Part of the walkner-wmes project <http://lukasz.walukiewicz.eu/p/walkner-wmes>

define(["../router","../viewport","../user","../data/orgUnits","./ProdShift","./pages/ProdShiftListPage","i18n!app/nls/prodShifts"],function(a,d,t,i,e,o){var r=t.auth("LOCAL","PROD_DATA:VIEW"),n=t.auth("PROD_DATA:MANAGE");a.map("/prodShifts",r,function(a){d.showPage(new o({rql:a.rql}))}),a.map("/prodShifts;add",n,function(){d.loadPage(["app/prodShifts/pages/AddProdShiftFormPage"],function(a){return new a({model:new e})})}),a.map("/prodShifts/:id",r,function(a){d.loadPage("app/prodShifts/pages/ProdShiftDetailsPage",function(d){return new d({latest:null!==i.getByTypeAndId("prodLine",a.params.id),modelId:a.params.id})})}),a.map("/prodShifts/:id;edit",n,function(a){d.loadPage(["app/prodShifts/pages/EditProdShiftFormPage"],function(d){return new d({model:new e({_id:a.params.id})})})})});