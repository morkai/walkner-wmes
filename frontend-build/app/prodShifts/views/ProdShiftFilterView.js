// Part of <https://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

define(["app/user","app/core/views/FilterView","app/core/util/fixTimeRange","app/orgUnits/views/OrgUnitPickerView","app/prodShifts/templates/filter"],function(e,t,i,a,r){"use strict";return t.extend({template:r,defaultFormData:{date:"",shift:0},termToForm:{date:function(e,t,a){i.toFormData(a,t,"date")},shift:function(e,t,i){i[e]=t.args[1]}},initialize:function(){t.prototype.initialize.apply(this,arguments),this.setView("#"+this.idPrefix+"-orgUnit",new a({filterView:this}))},serializeFormToQuery:function(e){var t=i.fromView(this),a=parseInt(this.$('input[name="shift"]:checked').val(),10);a&&e.push({name:"eq",args:["shift",a]}),t.from&&e.push({name:"ge",args:["date",t.from]}),t.to&&e.push({name:"le",args:["date",t.to]})}})});