define(["underscore","jquery","select2","app/user","app/data/mrpControllers","app/core/views/FilterView","app/core/util/forms/dateTimeRange","app/orgUnits/views/OrgUnitPickerView","app/mrpControllers/util/setUpMrpSelect2","app/prodShifts/templates/filter"],function(e,t,r,i,a,s,n,o,p,l){"use strict";return s.extend({template:l,events:e.assign({"click a[data-date-time-range]":n.handleRangeEvent},s.prototype.events),defaultFormData:{date:"",shift:0,orderMrp:""},termToForm:{date:n.rqlToForm,shift:function(e,t,r){r[e]=t.args[1]},orderMrp:function(e,t,r){r[e]=Array.isArray(t.args[1])?t.args[1].join(","):""}},initialize:function(){s.prototype.initialize.apply(this,arguments),this.setView("#-orgUnit",new o({filterView:this}))},afterRender:function(){s.prototype.afterRender.apply(this,arguments),this.toggleButtonGroup("shift"),p(this.$id("orderMrp"),{own:!0,view:this})},serializeFormToQuery:function(e){var t=parseInt(this.$('input[name="shift"]:checked').val(),10),r=this.$id("orderMrp").val();n.formToRql(this,e),t&&e.push({name:"eq",args:["shift",t]}),r&&r.length&&e.push({name:"in",args:["orderMrp",r.split(",")]})}})});