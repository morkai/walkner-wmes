define(["app/i18n","app/user","app/wmes-osh-common/Entry"],function(e,t,n){"use strict";const o={0:"",1:"fa-star",2:"fa-trophy"},i=n.extend({urlRoot:"/osh/kaizens",clientUrlRoot:"#osh/kaizens",topicPrefix:"osh.kaizens",privilegePrefix:"OSH:KAIZENS",nlsDomain:"wmes-osh-kaizens",getModelType:function(){return"kaizen"},getAttachmentKinds:function(){return["before","after","other"]},serialize:function(){const e=n.prototype.serialize.apply(this,arguments);return e.komIcon=o[e.kom],e.reward=(Math.round(100*e.reward)/100).toLocaleString("pl",{style:"currency",currency:"PLN"}),e},serializeRow:function(){const t=n.prototype.serializeRow.apply(this,arguments);return t.komIcon&&(t.status+=` <i class="fa ${t.komIcon}" title="${e(this.nlsDomain,`kom:${t.kom}`)}"></i>`),t}},{RID_PREFIX:"K",TIME_PROPS:["createdAt","startedAt","implementedAt","finishedAt"],USER_PROPS:["creator","implementers","coordinators"],DICT_PROPS:["division","workplace","department","building","location","station","kind","kaizenCategory"],DESC_PROPS:["kind","kaizenCategory"],KOM_ICONS:o});return i.can=Object.assign({},i.can,{manage:function(){return t.isAllowedTo("OSH:KAIZENS:MANAGE")}}),i});