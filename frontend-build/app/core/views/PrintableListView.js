define(["jquery","app/i18n","app/user","../View","./ActionFormView","./PaginationView","app/core/templates/printableList"],function(e,t,i,n,r,o,s){return n.extend({template:s,serialize:function(){return{className:this.className||"",columns:this.serializeColumns(),rows:this.serializeRows()}},serializeColumns:function(){var e,i=this.collection.getNlsDomain();return e=Array.isArray(this.options.columns)?this.options.columns:Array.isArray(this.columns)?this.columns:[],e.map(function(e){return{id:e,label:t(i,"PROPERTY:"+e)}})},serializeRows:function(){return this.collection.toJSON()},afterRender:function(){this.listenToOnce(this.collection,"reset",this.render)},fitToPrintablePage:function(t){var i=this.$("table"),n=i.find("thead").outerHeight(),r=[[]],o=n;this.$("tbody > tr").each(function(){var i=e(this),s=i.height();o+s>t&&(o=n,r[r.length-1].forEach(function(e){e.detach()}),r.push([])),o+=s,r[r.length-1].push(i)}),i.find("tbody").empty();var s=r.map(function(e){var t=i.clone(),n=t.find("tbody");return e.forEach(function(e){n.append(e.detach())}),t});return i.remove(),s}})});