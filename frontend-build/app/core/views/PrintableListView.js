define(["app/i18n","app/user","../View","./ActionFormView","./PaginationView","app/core/templates/printableList"],function(t,e,i,n,r,s){"use strict";return i.extend({template:s,serialize:function(){return{className:this.className||"",columns:this.serializeColumns(),rows:this.serializeRows()}},serializeColumns:function(){var e=this.collection.getNlsDomain();return(Array.isArray(this.options.columns)?this.options.columns:Array.isArray(this.columns)?this.columns:[]).map(function(i){return{id:i,label:t(e,"PROPERTY:"+i)}})},serializeRows:function(){return this.collection.toJSON()},afterRender:function(){this.listenToOnce(this.collection,"reset",this.render)},fitToPrintablePage:function(t){var e=this.$("table"),i=e.find("thead").outerHeight(),n=[[]],r=i,s=this;this.$("tbody > tr").each(function(){var e=s.$(this),o=e.height();r+o>t&&(r=i,n[n.length-1].forEach(function(t){t.detach()}),n.push([])),r+=o,n[n.length-1].push(e)}),e.find("tbody").empty();var o=n.map(function(t){var i=e.clone(),n=i.find("tbody");return t.forEach(function(t){n.append(t.detach())}),i});return e.remove(),o}})});