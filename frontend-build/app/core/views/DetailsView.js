define(["underscore","app/i18n","../View","../util/onModelDeleted"],function(e,i,t,o){"use strict";return t.extend({remoteTopics:function(){var e={},i=this.model.getTopicPrefix();return e[i+".edited"]="onModelEdited",e[i+".deleted"]="onModelDeleted",e},initialize:function(){t.prototype.initialize.apply(this,arguments),this.once("afterRender",function(){this.listenTo(this.model,"change",this.onModelChanged)})},serialize:function(){var o=this.model.getNlsDomain();return e.assign(t.prototype.serialize.apply(this,arguments),{panelTitle:i(i.has(o,"PANEL:TITLE:details")?o:"core","PANEL:TITLE:details"),model:this.serializeDetails(this.model)})},serializeDetails:function(e){return"function"==typeof e.serializeDetails?e.serializeDetails():"function"==typeof e.serialize?e.serialize():e.toJSON()},onModelEdited:function(e){var i=this.model.parse?this.model.parse(e.model):e.model;i&&i._id===this.model.id&&this.model.set(i)},onModelDeleted:function(e){o(this.broker,this.model,e)},onModelChanged:function(){this.render()}})});