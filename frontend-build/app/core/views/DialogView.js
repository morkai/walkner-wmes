// Part of <http://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

define(["underscore","../View"],function(i,e){"use strict";return e.extend({events:{"click .dialog-answer":function(e){var s=this.$(e.target).closest(".dialog-answer"),n=s.attr("data-answer");i.isString(n)&&n.length>0&&(this.disableAnswers(),this.trigger("answered",n),this.options.autoHide!==!1&&i.isFunction(this.closeDialog)&&this.closeDialog())}},serialize:function(){return this.model},onDialogShown:function(i){this.closeDialog=i.closeDialog.bind(i)},disableAnswers:function(){this.$(".btn[data-answer]").prop("disabled",!0)},enableAnswers:function(){this.$(".btn[data-answer]").prop("disabled",!1)}})});