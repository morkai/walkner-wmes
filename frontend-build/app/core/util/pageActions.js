define(["underscore","app/i18n","../views/ActionFormView"],function(e,t,n){function i(e){return e.paginationData?e.paginationData.get("totalCount"):e.length}return{add:function(e,n){return{label:t.bound(e.getNlsDomain(),"PAGE_ACTION:add"),icon:"plus",href:e.genClientUrl("add"),privileges:n||e.getPrivilegePrefix()+":MANAGE"}},edit:function(e,n){return{label:t.bound(e.getNlsDomain(),"PAGE_ACTION:edit"),icon:"edit",href:e.genClientUrl("edit"),privileges:n||e.getPrivilegePrefix()+":MANAGE"}},"delete":function(e,i){return{label:t.bound(e.getNlsDomain(),"PAGE_ACTION:delete"),icon:"times",href:e.genClientUrl("delete"),privileges:i||e.getPrivilegePrefix()+":MANAGE",callback:function(t){0===t.button&&(t.preventDefault(),n.showDeleteDialog({model:e}))}}},"export":function(n,l,r,a){return l.listenTo(r,"sync",function(){var t=i(r),l=n.$(".page-actions .export").attr("href",e.result(r,"url")+";export?"+r.rqlQuery).toggleClass("disabled",!t).removeClass("btn-default btn-warning");t>=1e4?l.removeClass("btn-default").addClass("btn-warning"):l.removeClass("btn-warning").addClass("btn-default")}),{label:t.bound(r.getNlsDomain(),"PAGE_ACTION:export"),icon:"download",type:i(r)>=1e4?"warning":"default",href:e.result(r,"url")+";export?"+r.rqlQuery,privileges:a||r.getPrivilegePrefix()+":VIEW",className:"export"+(r.length?"":" disabled")}}}});