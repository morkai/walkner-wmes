define(["underscore","app/i18n","../views/ActionFormView"],function(e,t,n){function i(e){return e.paginationData?e.paginationData.get("totalCount"):e.length}return{add:function(e,n){return{label:t.bound(e.getNlsDomain(),"PAGE_ACTION:add"),icon:"plus",href:e.genClientUrl("add"),privileges:n||e.getPrivilegePrefix()+":MANAGE"}},edit:function(e,n){return{label:t.bound(e.getNlsDomain(),"PAGE_ACTION:edit"),icon:"edit",href:e.genClientUrl("edit"),privileges:n||e.getPrivilegePrefix()+":MANAGE"}},"delete":function(e,i){return{label:t.bound(e.getNlsDomain(),"PAGE_ACTION:delete"),icon:"times",href:e.genClientUrl("delete"),privileges:i||e.getPrivilegePrefix()+":MANAGE",callback:function(t){0===t.button&&(t.preventDefault(),n.showDeleteDialog({model:e}))}}},"export":function(n,r,a,o){return r.listenTo(a,"sync",function(){var t=i(a),r=n.$(".page-actions .export").attr("href",e.result(a,"url")+";export?"+a.rqlQuery).toggleClass("disabled",!t).removeClass("btn-default btn-warning");t>=1e4?r.removeClass("btn-default").addClass("btn-warning"):r.removeClass("btn-warning").addClass("btn-default")}),{label:t.bound(a.getNlsDomain(),"PAGE_ACTION:export"),icon:"download",type:i(a)>=1e4?"warning":"default",href:e.result(a,"url")+";export?"+a.rqlQuery,privileges:o||a.getPrivilegePrefix()+":VIEW",className:"export"+(a.length?"":" disabled")}}}});