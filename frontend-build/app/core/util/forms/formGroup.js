define(["app/core/util/html"],function(e){"use strict";var a={select2:!0,static:!0};return function(t,l){if("string"==typeof l&&(l={name:l}),!1===l.visible||l.hidden)return"";!l.name&&l.id&&(l.name=l.id),l.type||(l.type="text");var s=t.idPrefix+"-"+(l.id||l.name.replace(/[\[\].]/g,"-")),r=Object.assign({className:e.className("form-group",l.groupClassName,l.required&&"select2"===l.type?"has-required-select2":null),style:l.groupStyle||!1},l.groupAttrs),n="",i="",p="input",c={id:s,name:l.name,type:"text",required:!0===l.required,disabled:!0===l.disabled,readonly:!0===l.readOnly,placeholder:l.placeholder||!1,style:l.inputStyle||!1},o="",m=[l.noFormControl||a[l.type]?"":"form-control"],u=l.label;if(!1!==u){/:$/.test(u)&&(u+=l.name);var d=u||l.name;t.t.has(d)&&(d=t.t(d));var b=[l.noControlLabel?"":"control-label"];l.required&&b.push("is-required");var h=Object.assign({for:s,className:e.className(b,l.labelClassName),style:l.labelStyle||!1},l.labelAttrs);n=e.tag("label",h,d)}if(l.helpBlock){var y=!0===l.helpBlock?u||l.name:l.helpBlock;t.t.has(y+":help")?y=t.t(y+":help"):t.t.has(y)&&(y=t.t(y));var g=Object.assign({className:e.className("help-block",l.helpBlockClassName),style:l.helpBlockStyle||!1},l.helpBlockAttrs);i=e.tag("span",g,y)}switch(l.type){case"number":case"date":case"month":c.type=l.type,c.min=null!=l.min&&l.min,c.max=null!=l.max&&l.max,c.step=null!=l.step&&l.step,c.value=l.value;break;case"textarea":p="textarea",c.type=!1,c.rows=null!=l.rows&&l.rows,c.cols=null!=l.cols&&l.cols,o=null==l.value?"":String(l.value);break;case"static":p="p",c.type=!1,c.name=!1,c.required=!1,c.disabled=!1,c.readonly=!1,o=null==l.value?"":String(l.value),m.push("form-control-static");break;case"text":c.pattern=l.pattern||!1,c.maxlength=l.maxLength>0&&l.maxLength;break;case"file":c.type=l.type,c.multiple=!0===l.multiple,c.accept=l.accept||!1;break;case"select":p="select",c.type=!1,c.multiple=!0===l.multiple,c.size=l.size||1,l.expandable&&(c.multiple=!0,/]$/.test(c.name)||(c.name+="[]"),m.push("is-expandable")),l.emptyOption&&(o=e.tag("option")),l.options.forEach(function(a){o+=e.tag("option",Object.assign({},a,{label:!1}),a.label)})}return c.className=e.className(m,l.inputClassName),Object.assign(c,l.inputAttrs),e.tag("div",r,n+i+e.tag(p,c,o))}});