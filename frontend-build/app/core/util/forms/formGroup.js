define(["app/core/util/html"],function(e){"use strict";var a={select2:!0,static:!0};return function(t,l){"string"==typeof l&&(l={name:l}),!l.name&&l.id&&(l.name=l.id),l.type||(l.type="text");var s=t.idPrefix+"-"+(l.id||l.name.replace(/[\[\].]/g,"-")),r=Object.assign({className:e.className("form-group",l.groupClassName,l.required&&"select2"===l.type?"has-required-select2":null),style:l.groupStyle||!1},l.groupAttrs),n="",i="",p="input",o={id:s,name:l.name,type:"text",required:!0===l.required,disabled:!0===l.disabled,readonly:!0===l.readOnly,placeholder:l.placeholder||!1,style:l.inputStyle||!1},c="",m=[l.noFormControl||a[l.type]?"":"form-control"],u=l.label;if(!1!==u){/:$/.test(u)&&(u+=l.name);var d=u||l.name;t.t.has(d)&&(d=t.t(d));var b=[l.noControlLabel?"":"control-label"];l.required&&b.push("is-required");var h=Object.assign({for:s,className:e.className(b,l.labelClassName),style:l.labelStyle||!1},l.labelAttrs);n=e.tag("label",h,d)}if(l.helpBlock){var y=!0===l.helpBlock?u||l.name:l.helpBlock;t.t.has(y+":help")?y=t.t(y+":help"):t.t.has(y)&&(y=t.t(y));var g=Object.assign({className:e.className("help-block",l.helpBlockClassName),style:l.helpBlockStyle||!1},l.helpBlockAttrs);i=e.tag("span",g,y)}switch(l.type){case"number":case"date":o.type=l.type,o.min=null!=l.min&&l.min,o.max=null!=l.max&&l.max,o.step=null!=l.step&&l.step,o.value=l.value;break;case"textarea":p="textarea",o.type=!1,o.rows=null!=l.rows&&l.rows,o.cols=null!=l.cols&&l.cols,c=null==l.value?"":String(l.value);break;case"static":p="p",o.type=!1,o.name=!1,o.required=!1,o.disabled=!1,o.readonly=!1,c=null==l.value?"":String(l.value),m.push("form-control-static");break;case"text":o.pattern=l.pattern||!1,o.maxlength=l.maxLength>0&&l.maxLength;break;case"select":p="select",o.type=!1,o.multiple=!0===l.multiple,o.size=l.size||1,l.expandable&&(o.multiple=!0,/]$/.test(o.name)||(o.name+="[]"),m.push("is-expandable")),l.emptyOption&&(c=e.tag("option")),l.options.forEach(function(a){c+=e.tag("option",Object.assign({},a,{label:!1}),a.label)})}return o.className=e.className(m,l.inputClassName),Object.assign(o,l.inputAttrs),e.tag("div",r,n+i+e.tag(p,o,c))}});