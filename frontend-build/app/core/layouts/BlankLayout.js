define(["underscore","jquery","app/user","../View","app/core/templates/blankLayout"],function(t,e,i,r,n){"use strict";var s=r.extend({pageContainerSelector:".blank-page-bd",template:n});return s.prototype.initialize=function(){this.model={title:null,breadcrumbs:[]}},s.prototype.afterRender=function(){this.changeTitle()},s.prototype.reset=function(){this.removeView(this.pageContainerSelector)},s.prototype.setUpPage=function(t){t.title&&this.setTitle(t.title,t),t.breadcrumbs&&this.setBreadcrumbs(t.breadcrumbs,t),t.breadcrumbs||t.title||this.changeTitle()},s.prototype.setTitle=function(t,e){return null==t?this:("function"==typeof t&&(t=t.call(e,this)),Array.isArray(t)||(t=[t]),this.model.title=t,this.changeTitle(),this)},s.prototype.setBreadcrumbs=function(t,e){return null==t?this:("function"==typeof t&&(t=t.call(e)),Array.isArray(t)||(t=[t]),this.model.breadcrumbs=t.map(function(t){var e=typeof t;return"string"!==e&&"function"!==e||(t={label:t}),t}),this.model.title||this.changeTitle(),this)},s.prototype.changeTitle=function(){if(this.isRendered()){var e=Array.isArray(this.model.title)?[].concat(this.model.title):t.pluck(this.model.breadcrumbs,"label");this.broker.publish("page.titleChanged",e)}},s});