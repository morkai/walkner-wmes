// Copyright (c) 2014, ≈Åukasz Walukiewicz <lukasz@walukiewicz.eu>. Some Rights Reserved.
// Licensed under CC BY-NC-SA 4.0 <http://creativecommons.org/licenses/by-nc-sa/4.0/>.
// Part of the walkner-wmes project <http://lukasz.walukiewicz.eu/p/walkner-wmes>

define(["app/i18n","../util/bindLoadingMessage","../util/pageActions","../View","../views/ListView"],function(i,t,e,o,n){return o.extend({layoutName:"page",pageId:"list",breadcrumbs:function(){return[i.bound(this.collection.getNlsDomain(),"BREADCRUMBS:browse")]},actions:function(){return[e.add(this.collection,this.collection.getPrivilegePrefix()+":MANAGE")]},initialize:function(){this.collection=t(this.options.collection,this);var i=this.options.ListView||n;this.view=new i({collection:this.collection,columns:this.options.columns||i.prototype.columns,serializeRow:this.options.serializeRow||i.prototype.serializeRow})},load:function(i){return i(this.collection.fetch({reset:!0}))}})});