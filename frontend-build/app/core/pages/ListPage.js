// Part of <https://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

define(["app/i18n","../util/bindLoadingMessage","../util/pageActions","../View","../views/ListView","./createPageBreadcrumbs"],function(i,t,e,s,o,n){"use strict";return s.extend({layoutName:"page",pageId:"list",baseBreadcrumb:!1,breadcrumbs:function(){return n(this)},actions:function(){return[e.add(this.collection,this.collection.getPrivilegePrefix()+":MANAGE")]},initialize:function(){this.collection=t(this.options.collection,this),this.view=this.createListView()},createListView:function(){var i=this.ListView||this.options.ListView||o;return new i({collection:this.collection,model:this.model,columns:this.options.columns||this.columns||i.prototype.columns,serializeRow:this.options.serializeRow||this.serializeRow||i.prototype.serializeRow,className:this.options.listClassName||this.listClassName||i.prototype.className||"is-clickable"})},load:function(i){return i(this.collection.fetch({reset:!0}))}})});