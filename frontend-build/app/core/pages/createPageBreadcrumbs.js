// Part of <https://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

define(["underscore","app/i18n"],function(e,r){"use strict";return function(n,b){var l=n.modelProperty?n[n.modelProperty]:n.model||n.collection,a=l.getNlsDomain();return b=Array.isArray(b)?b.map(function(e){return"string"==typeof e?{label:":"===e[0]?r.bound(a,"BREADCRUMBS"+e):e}:("string"==typeof e.label&&":"===e.label[0]&&(e.label=r.bound(a,"BREADCRUMBS"+e.label)),e)}):[],n.browseBreadcrumb!==!1&&b.unshift({label:r.bound(a,e.result(n,"browseBreadcrumb")||"BREADCRUMBS:browse"),href:b.length?l.genClientUrl("base"):null}),n.baseBreadcrumb===!0?b.unshift(r.bound(a,"BREADCRUMBS:base")):n.baseBreadcrumb&&b.unshift({label:r.bound(a,"BREADCRUMBS:base"),href:n.baseBreadcrumb.toString()}),b}});