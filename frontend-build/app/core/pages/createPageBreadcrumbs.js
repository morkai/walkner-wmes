// Part of <https://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

define(["underscore","app/i18n"],function(e,r){"use strict";return function(n,l){var b=n.modelProperty?n[n.modelProperty]:n.model||n.collection,a=b.getNlsDomain();return l=Array.isArray(l)?l.map(function(e){return"string"==typeof e?{label:":"===e[0]?r.bound(a,"BREADCRUMBS"+e):e}:("string"==typeof e.label&&":"===e.label[0]&&(e.label=r.bound(a,"BREADCRUMBS"+e.label)),e)}):[],n.browseBreadcrumb!==!1&&l.unshift({label:r.bound(a,e.result(n,"browseBreadcrumb")||"BREADCRUMBS:browse"),href:l.length?b.genClientUrl("base"):null}),n.baseBreadcrumb===!0?l.unshift(r.bound(a,"BREADCRUMBS:base")):n.baseBreadcrumb&&l.unshift({label:r.bound(a,"BREADCRUMBS:base"),href:String(e.result(n,"baseBreadcrumb"))}),l}});