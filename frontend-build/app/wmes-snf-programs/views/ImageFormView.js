define(["app/i18n","app/viewport","app/core/View","app/wmes-snf-programs/templates/imageForm"],function(e,t,a,i){"use strict";return a.extend({template:i,events:{submit:function(){var e=this,a=e.$id("label"),i=e.$(".btn-primary").attr("disabled",!0),n=e.ajax({type:"PUT",url:e.el.action,data:JSON.stringify({label:a.val()})});return n.done(e.onFormSuccess.bind(e)),n.fail(function(){i.attr("disabled",!1),t.msg.show({type:"error",time:3e3,text:e.t("gallery:edit:failure")}),a.focus()}),!1}},getTemplateData:function(){return{programId:this.model.programId,image:this.model.image}},onFormSuccess:function(){},onDialogShown:function(e){this.onFormSuccess=e.closeDialog.bind(e)}})});