define(["app/i18n","app/viewport","app/core/View","app/wmes-snf-programs/templates/imageForm"],function(e,t,i,a){"use strict";return i.extend({template:a,events:{submit:function(){var i=this.$id("label"),a=this.$(".btn-primary").attr("disabled",!0),r=this.ajax({type:"PUT",url:this.el.action,data:JSON.stringify({label:i.val()})});return r.done(this.onFormSuccess.bind(this)),r.fail(function(){a.attr("disabled",!1),t.msg.show({type:"error",time:3e3,text:e("snf-programs","gallery:edit:failure")}),i.focus()}),!1}},getTemplateData:function(){return{programId:this.model.programId,image:this.model.image}},onFormSuccess:function(){},onDialogShown:function(e){this.onFormSuccess=e.closeDialog.bind(e)}})});