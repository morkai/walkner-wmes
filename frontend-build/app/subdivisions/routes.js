define(["../router","../viewport","../i18n","../user","../data/divisions","../data/subdivisions","../data/views/renderOrgUnitPath","./Subdivision","../core/pages/ListPage","../core/pages/DetailsPage","../core/pages/ActionFormPage","./pages/AddSubdivisionFormPage","./pages/EditSubdivisionFormPage","./views/SubdivisionDetailsView","i18n!app/nls/subdivisions"],function(i,e,s,n,a,o,d,t,r,u,g,l,p,v){var c=n.auth("DICTIONARIES:VIEW"),m=n.auth("DICTIONARIES:MANAGE");i.map("/subdivisions",c,function(){e.showPage(new r({collection:o,columns:["division","type","name","prodTaskTags"],serializeRow:function(i){var e=i.toJSON();return e.division=d(a.get(e.division),!0,!1),e.type=s("subdivisions","TYPE:"+e.type),e.prodTaskTags=e.prodTaskTags&&e.prodTaskTags.length?e.prodTaskTags.join(", "):null,e}}))}),i.map("/subdivisions/:id",function(i){e.showPage(new u({DetailsView:v,model:new t({_id:i.params.id})}))}),i.map("/subdivisions;add",m,function(){e.showPage(new l({model:new t}))}),i.map("/subdivisions/:id;edit",m,function(i){e.showPage(new p({model:new t({_id:i.params.id})}))}),i.map("/subdivisions/:id;delete",m,function(i,s){var n=new t({_id:i.params.id});e.showPage(new g({model:n,actionKey:"delete",successUrl:n.genClientUrl("base"),cancelUrl:s||n.genClientUrl("base"),formMethod:"DELETE",formAction:n.url(),formActionSeverity:"danger"}))})});