define(["../router","../viewport","../i18n","../user","../data/divisions","../data/subdivisions","../data/views/renderOrgUnitPath","./Subdivision","../core/pages/ListPage","../core/pages/DetailsPage","../core/pages/ActionFormPage","./pages/AddSubdivisionFormPage","./pages/EditSubdivisionFormPage","./views/SubdivisionDetailsView","i18n!app/nls/subdivisions"],function(e,t,n,r,i,o,a,s,l,d,u,c,p,f){var h=r.auth("DICTIONARIES:VIEW"),m=r.auth("DICTIONARIES:MANAGE");e.map("/subdivisions",h,function(){t.showPage(new l({collection:o,columns:["division","type","name","prodTaskTags"],serializeRow:function(e){var t=e.toJSON();return t.division=a(i.get(t.division),!0,!1),t.type=n("subdivisions","TYPE:"+t.type),t.prodTaskTags=t.prodTaskTags&&t.prodTaskTags.length?t.prodTaskTags.join(", "):null,t}}))}),e.map("/subdivisions/:id",function(e){t.showPage(new d({DetailsView:f,model:new s({_id:e.params.id})}))}),e.map("/subdivisions;add",m,function(){t.showPage(new c({model:new s}))}),e.map("/subdivisions/:id;edit",m,function(e){t.showPage(new p({model:new s({_id:e.params.id})}))}),e.map("/subdivisions/:id;delete",m,function(e,n){var r=new s({_id:e.params.id});t.showPage(new u({model:r,actionKey:"delete",successUrl:r.genClientUrl("base"),cancelUrl:n||r.genClientUrl("base"),formMethod:"DELETE",formAction:r.url(),formActionSeverity:"danger"}))})});