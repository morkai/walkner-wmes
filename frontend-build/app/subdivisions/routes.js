define(["../router","../viewport","../i18n","../user","../core/util/showDeleteFormPage","../data/divisions","../data/subdivisions","../data/views/renderOrgUnitPath","./Subdivision","i18n!app/nls/subdivisions"],function(i,s,n,e,a,o,d,t,u){var r=e.auth("DICTIONARIES:VIEW"),p=e.auth("DICTIONARIES:MANAGE");i.map("/subdivisions",r,function(){s.loadPage(["app/core/pages/ListPage"],function(i){return new i({collection:d,columns:["division","type","name","prodTaskTags"],serializeRow:function(i){var s=i.toJSON();return s.division=t(o.get(s.division),!0,!1),s.type=n("subdivisions","TYPE:"+s.type),s.prodTaskTags=s.prodTaskTags&&s.prodTaskTags.length?s.prodTaskTags.join(", "):null,s}})})}),i.map("/subdivisions/:id",function(i){s.loadPage(["app/core/pages/DetailsPage","app/subdivisions/views/SubdivisionDetailsView"],function(s,n){return new s({DetailsView:n,model:new u({_id:i.params.id})})})}),i.map("/subdivisions;add",p,function(){s.loadPage("app/subdivisions/pages/AddSubdivisionFormPage",function(i){return new i({model:new u})})}),i.map("/subdivisions/:id;edit",p,function(i){s.loadPage("app/subdivisions/pages/EditSubdivisionFormPage",function(s){return new s({model:new u({_id:i.params.id})})})}),i.map("/subdivisions/:id;delete",p,a.bind(null,u))});