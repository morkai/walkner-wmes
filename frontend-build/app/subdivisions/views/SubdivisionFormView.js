define(["app/data/aors","app/data/views/OrgUnitDropdownsView","app/core/views/FormView","app/subdivisions/templates/form"],function(i,t,e,o){return e.extend({template:o,idPrefix:"subdivisionForm",initialize:function(){e.prototype.initialize.call(this),this.orgUnitDropdownsView=new t({orgUnit:t.ORG_UNIT.DIVISION}),this.setView(".orgUnitDropdowns-container",this.orgUnitDropdownsView)},afterRender:function(){e.prototype.afterRender.call(this),this.listenToOnce(this.orgUnitDropdownsView,"afterRender",function(){this.orgUnitDropdownsView.selectValue(this.model).focus()}),this.$id("prodTaskTags").select2({tags:this.model.allTags||[],tokenSeparators:[","]}),this.$id("aor").select2({allowClear:!0,data:i.map(function(i){return{id:i.id,text:i.getLabel()}})})},serializeToForm:function(){var i=this.model.toJSON();return i.prodTaskTags=i.prodTaskTags?i.prodTaskTags.join(","):"",i},serializeForm:function(t){return t.prodTaskTags="string"==typeof t.prodTaskTags?t.prodTaskTags.split(","):[],t.aor=i.get(t.aor)?t.aor:null,t}})});