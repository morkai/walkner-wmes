// Part of <https://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

define(["app/time","app/core/views/ListView","app/xiconfPrograms/util/buildStepLabels"],function(e,s,t){"use strict";return s.extend({className:"is-colored is-clickable",remoteTopics:{"xiconf.results.**":"refreshCollection"},columns:[{id:"srcId",className:"is-min",tdClassName:"text-mono"},{id:"order",className:"is-min",tdClassName:"text-mono"},{id:"serviceTag",className:"is-min",tdClassName:"text-mono"},{id:"nc12",className:"is-min",tdClassName:"text-mono"},{id:"counter",className:"is-min is-number"},{id:"quantity",className:"is-min is-number"},{id:"startedAt",className:"is-min"},{id:"duration",className:"is-min"},{id:"prodLine",className:"is-min",tdClassName:"text-mono"},{id:"programName",className:"is-min"},"programSteps"],serializeActions:function(){return null},serializeRow:function(s){var i=s.get("order"),a=s.get("program"),r=s.get("serviceTag"),n=["xiconf-entry","success"===s.get("result")?"success":"danger"];return s.get("cancelled")&&n.push("is-cancelled"),{_id:s.id,className:n.join(" "),srcId:s.get("srcId"),serviceTag:r?"..."+r.substr(-4):"",order:s.get("orderNo"),programName:a?a.name:s.get("programName")||"",programSteps:a?t(a.steps,s.get("steps")):"",prodLine:s.get("prodLine"),nc12:s.get("nc12"),counter:s.get("counter"),quantity:i?i.quantity:"",startedAt:e.format(s.get("startedAt"),"L, LTS"),duration:e.toString(s.get("duration")/1e3,!1,!0)}}})});