define(["underscore","jquery","app/i18n","app/user","app/core/View","app/xiconf/templates/hidLamps","app/xiconf/templates/hidLamp"],function(e,s,t,a,i,n,r){"use strict";return i.extend({template:n,serialize:function(){var e=this.model.get("hidLamps")||[];return{idPrefix:this.idPrefix,renderHidLamp:r,hidLamps:e.map(this.serializeHidLamp,this)}},serializeHidLamp:function(e){var s,a,i="";"checking"===e.status?(s="warning",a="fa-spinner fa-spin"):"checked"===e.status?(s="success",a="fa-thumbs-up"):"waiting"===e.status?(s="default",a="fa-question-circle"):(s="danger",a="fa-thumbs-down",i=t.has("xiconf","hidLamps:error:"+e.status.message)?t("xiconf","hidLamps:error:"+e.status.message,e.status):e.status.message);for(var n=e.scanResult||"?????????????",r=n;r.length<13;)r+=" ";return this.options.shortenScanResult&&r.length>13&&(r=r.substr(0,3)+"~"+r.substr(-4)),{className:s,statusIcon:a,fullScanResult:n,shortScanResult:r,name:e.name,nc12:e.nc12,error:i}},renderHidLamp:function(e,t){this.$id("list").children().eq(e).replaceWith(s(r(this.serializeLed(t))))}})});