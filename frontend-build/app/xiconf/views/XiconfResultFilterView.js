define(["underscore","app/time","app/core/views/FilterView","app/core/util/forms/dateTimeRange","app/core/util/idAndLabel","app/data/orgUnits","app/xiconf/templates/filter"],function(e,t,r,a,s,i,n){"use strict";return r.extend({template:n,events:e.assign({"click a[data-date-time-range]":a.handleRangeEvent},r.prototype.events),defaultFormData:function(){return{result:["success","failure"]}},termToForm:{startedAt:a.rqlToForm,result:function(e,t,r){"success"!==t.args[1]&&"failure"!==t.args[1]||(r.result=[t.args[1]])},prodLine:function(e,t,r){r[e]=t.args[1]},search:function(e,t,r){r[e]="__FT__"===t.args[1]?"FT":t.args[1]}},afterRender:function(){r.prototype.afterRender.call(this),this.toggleButtonGroup("result"),this.$id("prodLine").select2({width:"200px",placeholder:" ",allowClear:!0,data:i.getActiveByType("prodLine").map(s)})},serializeFormToQuery:function(e){var t=this.$id("prodLine").val(),r=this.$id("search").val().trim().toUpperCase(),s=this.getButtonGroupValue("result");a.formToRql(this,e),t&&e.push({name:"eq",args:["prodLine",t]}),r&&e.push({name:"eq",args:["search","FT"===r?"__FT__":r]}),1===s.length&&e.push({name:"eq",args:["result",s[0]]})}})});