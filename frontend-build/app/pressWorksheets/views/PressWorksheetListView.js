// Copyright (c) 2014, ≈Åukasz Walukiewicz <lukasz@walukiewicz.eu>. Some Rights Reserved.
// Licensed under CC BY-NC-SA 4.0 <http://creativecommons.org/licenses/by-nc-sa/4.0/>.
// Part of the walkner-wmes project <http://lukasz.walukiewicz.eu/p/walkner-wmes>

define(["app/user","app/core/views/ListView"],function(e,t){return t.extend({localTopics:{"companies.synced":"render"},columns:["rid","type","date","shift","master","operator"],serializeActions:function(){function i(t){return o?!0:e.isAllowedTo("PRESS_WORKSHEETS:MANAGE")&&e.data._id===t.get("creator").id&&Date.parse(t.get("createdAt"))+r>a}var n=this.collection,o=e.isAllowedTo("PROD_DATA:MANAGE"),r=288e5,a=Date.now();return function(e){var o=n.get(e._id),r=[t.actions.viewDetails(o)];return i(o)&&(r.push(t.actions.edit(o)),r.push(t.actions.delete(o))),r}}})});