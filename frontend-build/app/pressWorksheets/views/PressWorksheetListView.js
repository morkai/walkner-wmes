// Copyright (c) 2014, ≈Åukasz Walukiewicz <lukasz@walukiewicz.eu>. Some Rights Reserved.
// Licensed under CC BY-NC-SA 4.0 <http://creativecommons.org/licenses/by-nc-sa/4.0/>.
// Part of the walkner-wmes project <http://lukasz.walukiewicz.eu/p/walkner-wmes>

define(["app/i18n","app/user","app/core/views/ListView"],function(e,t,i){return i.extend({localTopics:{"companies.synced":"render"},columns:["rid","type","date","shift","master","operator"],serializeActions:function(){function e(e){return o?!0:t.isAllowedTo("PRESS_WORKSHEETS:MANAGE")&&t.data._id===e.get("creator").id&&Date.parse(e.get("createdAt"))+r>a}var n=this.collection,o=t.isAllowedTo("PROD_DATA:MANAGE"),r=288e5,a=Date.now();return function(t){var o=n.get(t._id),r=[i.actions.viewDetails(o)];return e(o)&&(r.push(i.actions.edit(o)),r.push(i.actions.delete(o))),r}}})});