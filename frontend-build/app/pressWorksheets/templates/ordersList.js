define(["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(n){return void 0==n?"":String(n).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(n){return _ENCODE_HTML_RULES[n]||n}var __output=[],__append=__output.push.bind(__output);with(locals||{})t=t.forDomain?t.forDomain("pressWorksheets"):t,__append('\n<table class="table table-bordered table-condensed table-hover pressWorksheets-orders-table">\n  <thead>\n    <tr>\n      <th class="is-min">'),__append(t("core","#")),__append("</th>\n      "),extended&&(__append('\n      <th class="is-min">'),__append(t("PROPERTY:pressWorksheet")),__append('</th>\n      <th class="is-min">'),__append(t("PROPERTY:user")),__append('</th>\n      <th class="is-min">'),__append(t("PROPERTY:shift")),__append("</th>\n      ")),__append('\n      <th class="is-min">'),__append(t("PROPERTY:order.nc12")),__append("</th>\n      <th>"),__append(t("PROPERTY:order.name")),__append("</th>\n      <th>"),__append(t("PROPERTY:order.operationName")),__append('</th>\n      <th class="is-min">'),__append(t("PROPERTY:order.operationNo")),__append('</th>\n      <th class="is-min">'),__append(t("PROPERTY:order.division")),__append('</th>\n      <th class="is-min">'),__append(t("PROPERTY:order.prodLine")),__append('</th>\n      <th class="is-min">'),__append(t("PROPERTY:order.quantityDone")),__append('</th>\n      <th class="is-min">'),__append(t("PROPERTY:order.startedAt")),__append('</th>\n      <th class="is-min">'),__append(t("PROPERTY:order.finishedAt")),__append('</th>\n      <th class="is-min">'),__append(t("PROPERTY:order.opWorkDuration")),__append("</th>\n      "),"undefined"!=typeof worksheet&&(__append('\n      <th class="is-min">'),__append(t("PROPERTY:order.machineManHours")),__append("</th>\n      ")),__append("\n      "),"undefined"!=typeof losses&&losses&&(__append("\n      <th>"),__append(t("PROPERTY:order.losses")),__append("</th>\n      ")),__append("\n      <th>"),__append(t("PROPERTY:order.downtimes")),__append("</th>\n    </tr>\n  </thead>\n  "),"undefined"!=typeof worksheet&&(__append('\n  <tfoot>\n  <tr>\n    <td colspan="'),__append(extended?14:11),__append('"></td>\n    <td class="is-min is-number">'),__append(worksheet.machineManHours.toLocaleString()),__append('</td>\n    <td colspan="'),__append(losses?2:1),__append('"></td>\n  </tr>\n  </tfoot>\n  ')),__append("\n  <tbody>\n    "),orders.forEach(function(n,e){__append('\n    <tr class="'),__append(e%2!=0?"":"is-odd"),__append('">\n      <td class="is-min is-number" rowspan="'),__append(n.notes?2:1),__append('">'),__append(e+1),__append(".</td>\n      "),extended&&(__append('\n      <td class="is-min is-number"><a href="#pressWorksheets/'),__append(n.pressWorksheet._id),__append('">'),__append(escapeFn(n.pressWorksheet.rid)),__append('</a></td>\n      <td class="is-min">'),__append(escapeFn(n.pressWorksheet.user)),__append('</td>\n      <td class="is-min">'),__append(t("core","SHIFT",{date:time.format(n.pressWorksheet.date,"L"),shift:t("core","SHIFT:"+n.pressWorksheet.shift)})),__append("</td>\n      ")),__append('\n      <td class="is-min">\n        '),n.prodShiftOrder&&user.isAllowedTo("PROD_DATA:VIEW")?(__append('\n        <a href="#prodShiftOrders/'),__append(n.prodShiftOrder),__append('">'),__append(escapeFn(n.nc12)),__append("</a>\n        ")):(__append("\n        "),__append(escapeFn(n.nc12)),__append("\n        ")),__append("\n      </td>\n      <td>"),__append(escapeFn(n.name)),__append("</td>\n      <td>"),__append(escapeFn(n.operationName||"-")),__append('</td>\n      <td class="is-min is-number">'),__append(escapeFn(n.operationNo)),__append('</td>\n      <td class="is-min">'),__append(escapeFn(n.division)),__append('</td>\n      <td class="is-min">'),__append(escapeFn(n.prodLine)),__append('</td>\n      <td class="is-min is-number">'),__append(escapeFn(n.quantityDone.toLocaleString())),__append('</td>\n      <td class="is-min">'),__append(escapeFn(n.startedAt)),__append('</td>\n      <td class="is-min">'),__append(escapeFn(n.finishedAt)),__append('</td>\n      <td class="is-min">'),__append(escapeFn(n.opWorkDuration)),__append("</td>\n      "),"undefined"!=typeof worksheet&&(__append('\n      <td class="is-min is-number">'),__append((n.machineManHours||0).toLocaleString()),__append("</td>\n      ")),__append("\n      "),"undefined"!=typeof losses&&losses&&(__append('\n      <td class="prodWorksheets-orders-lossesTable">\n        '),n.losses.length&&(__append('\n        <table class="table table-bordered table-condensed">\n          <thead>\n            <tr>\n              '),n.losses.forEach(function(n){__append("\n              <th>"),__append(escapeFn(n.label)),__append("</th>\n              ")}),__append("\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              "),n.losses.forEach(function(n){__append("\n              <td>"),__append(escapeFn(n.count)),__append("</td>\n              ")}),__append("\n            </tr>\n          </tbody>\n        </table>\n        ")),__append("\n      </td>\n      ")),__append('\n      <td class="prodWorksheets-orders-lossesTable">\n        '),n.downtimes.length&&(__append('\n        <table class="table table-bordered table-condensed">\n          <thead>\n            <tr>\n              '),n.downtimes.forEach(function(n){__append("\n              <th>\n                "),n.prodDowntime&&user.isAllowedTo("PROD_DOWNTIMES:VIEW")?(__append('\n                <a href="#prodDowntimes/'),__append(n.prodDowntime),__append('">'),__append(escapeFn(n.label)),__append("</a>\n                ")):(__append("\n                "),__append(escapeFn(n.label)),__append("\n                ")),__append("\n              </th>\n              ")}),__append("\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              "),n.downtimes.forEach(function(n){__append("\n              <td>"),__append(escapeFn(n.duration)),__append("</td>\n              ")}),__append("\n            </tr>\n          </tbody>\n        </table>\n        ")),__append("\n      </td>\n    </tr>\n    "),n.notes&&(__append('\n    <tr class="pressWorksheets-orders-notes '),__append(e%2!=0?"":"is-odd"),__append('">\n      <td colspan="'),__append(extended?14:11),__append('">'),__append(escapeFn(n.notes)),__append("</td>\n    </tr>\n    ")),__append("\n    ")}),__append("\n  </tbody>\n</table>\n");return __output.join("")}});