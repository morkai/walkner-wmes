define(["underscore","app/user","app/core/views/FilterView","app/core/util/forms/dateTimeRange","app/orgUnits/views/OrgUnitPickerView","app/prodLogEntries/templates/filter"],function(t,e,i,r,o,p){"use strict";return i.extend({template:p,events:t.assign({"click a[data-date-time-range]":r.handleRangeEvent},i.prototype.events),defaultFormData:{},termToForm:{createdAt:r.rqlToForm,type:function(t,e,i){i[t]=e.args[1]}},initialize:function(){i.prototype.initialize.apply(this,arguments),this.options.prodShift||this.options.prodShiftOrder||this.setView("#-orgUnit",new o({filterView:this}))},getTemplateData:function(){return{extended:!this.options.prodShift&&!this.options.prodShiftOrder}},afterRender:function(){i.prototype.afterRender.call(this),this.$id("type").select2({width:"275px",allowClear:!0})},serializeFormToQuery:function(t){var e=this.$id("type").val();this.options.prodShift?t.push({name:"eq",args:["prodShift",this.options.prodShift]}):this.options.prodShiftOrder?t.push({name:"eq",args:["prodShiftOrder",this.options.prodShiftOrder]}):r.formToRql(this,t),e&&e.length&&t.push({name:"eq",args:["type",e]})}})});