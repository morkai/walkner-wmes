// Part of <http://miracle.systems/p/walkner-wmes> licensed under <CC BY-NC-SA 4.0>

define(["../time","../core/Collection","../core/util/matchesOperType","../core/util/matchesProdLine","./ProdLogEntry"],function(e,t,r,n,o){"use strict";return t.extend({model:o,rqlQuery:function(t){return t.Query.fromObject({sort:{createdAt:-1},limit:20,selector:{name:"and",args:[{name:"ge",args:["createdAt",e.getMoment().startOf("day").subtract(1,"week")]}]}})},matches:function(e){return r(this.rqlQuery,e.types)&&n(this.rqlQuery,e.prodLine)}})});