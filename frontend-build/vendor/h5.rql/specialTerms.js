define(function(r,s,t){"use strict";function i(r,s,t){r.fields={};for(var i="select"===s,e=0,n=t.length;e<n;++e){var o=t[e];Array.isArray(o)&&(o=o.join(".")),r.fields[o]=i}}t.exports={select:i,exclude:i,sort:function(r,s,t){r.sort={};for(var i=0,e=t.length;i<e;++i){var n=t[i];Array.isArray(n)&&(n=n.join(".")),"-"===n[0]?r.sort[n.substr(1)]=-1:"+"===n[0]?r.sort[n.substr(1)]=1:r.sort[n]=1}},limit:function(r,s,t){var i=parseInt(t[0],10),e=0;t.length>1&&(e=parseInt(t[1],10));r.limit=isNaN(i)||i<1?-1:i,r.skip=isNaN(e)||e<0?0:e}}});