!function(){var e=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],t="undefined"!=typeof window,o=t&&null!=window.mozInnerScreenX;function r(r,i,n){if(!t)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var d=n&&n.debug||!1;if(d){var a=document.querySelector("#input-textarea-caret-position-mirror-div");a&&a.parentNode.removeChild(a)}var l=document.createElement("div");l.id="input-textarea-caret-position-mirror-div",document.body.appendChild(l);var p=l.style,h=window.getComputedStyle?window.getComputedStyle(r):r.currentStyle,s="INPUT"===r.nodeName;p.whiteSpace="pre-wrap",s||(p.wordWrap="break-word"),p.position="absolute",d||(p.visibility="hidden"),e.forEach(function(e){if(s&&"lineHeight"===e)if("border-box"===h.boxSizing){var t=parseInt(h.height),o=parseInt(h.paddingTop)+parseInt(h.paddingBottom)+parseInt(h.borderTopWidth)+parseInt(h.borderBottomWidth),r=o+parseInt(h.lineHeight);p.lineHeight=t>r?t-o+"px":t===r?h.lineHeight:0}else p.lineHeight=h.height;else p[e]=h[e]}),o?r.scrollHeight>parseInt(h.height)&&(p.overflowY="scroll"):p.overflow="hidden",l.textContent=r.value.substring(0,i),s&&(l.textContent=l.textContent.replace(/\s/g,"Â "));var f=document.createElement("span");f.textContent=r.value.substring(i)||".",l.appendChild(f);var g={top:f.offsetTop+parseInt(h.borderTopWidth),left:f.offsetLeft+parseInt(h.borderLeftWidth),height:parseInt(h.lineHeight)};return r.scrollLeft&&(g.left=g.left-r.scrollLeft),r.scrollHeight&&(g.top=g.top-r.scrollTop),d?f.style.backgroundColor="#aaa":document.body.removeChild(l),g}"undefined"!=typeof module&&void 0!==module.exports?module.exports=r:t&&(window.getCaretCoordinates=r)}();