if(define("app/data/localStorage",[],function(){"use strict";var e=null,t=null,n=null;function r(r){var a=r.data;window.parent!==window&&window.IS_EMBEDDED&&"localStorage"===a.type&&(a.action?function(e){var t=e.data,r=e.source;switch(t.action){case"read":if(r)return r.postMessage({type:"localStorage",data:n},"*");break;case"setItem":return i(t.key,t.value);case"remoteItem":return i(t.key);case"clear":o()}}(r):a.data&&(n=a.data,0===Object.keys(n).length&&(Object.keys(localStorage).forEach(function(e){n[e]=localStorage[e]}),window.parent.postMessage({type:"localStorage",action:"write",data:n},"*")),t&&(clearTimeout(t),t=null),e&&(e(),e=null)))}function i(e,t){n[e]=t,window.parent.postMessage({type:"localStorage",action:"setItem",key:e,value:t},"*")}function o(){n={},window.parent.postMessage({type:"localStorage",action:"clear"},"*")}return window.addEventListener("message",r),{start:function(i){if(n)return i();if(e){var o=e;e=function(){o(),i()}}else e=i,t=setTimeout(function(){e(),window.removeEventListener("message",r),e=null,t=null},3333),window.parent.postMessage({type:"localStorage",action:"read"},"*")},getItem:function(e){var t=(n||localStorage)[e];return void 0===t?null:t},setItem:function(e,t){localStorage.setItem(e,t),n&&i(e,t)},removeItem:function(e){localStorage.removeItem(e),n&&function(e){delete n[e],window.parent.postMessage({type:"localStorage",action:"removeItem",key:e},"*")}(e)},clear:function(){localStorage.clear(),n&&o()}}}),define("domReady",[],function(){"use strict";var e,t,n,r="undefined"!=typeof window&&window.document,i=!r,o=r?document:null,a=[];function s(){var e=a;i&&e.length&&(a=[],function(e){var t;for(t=0;t<e.length;t+=1)e[t](o)}(e))}function u(){i||(i=!0,n&&clearInterval(n),s())}if(r){if(document.addEventListener)document.addEventListener("DOMContentLoaded",u,!1),window.addEventListener("load",u,!1);else if(window.attachEvent){window.attachEvent("onload",u),t=document.createElement("div");try{e=null===window.frameElement}catch(e){}t.doScroll&&e&&window.external&&(n=setInterval(function(){try{t.doScroll(),u()}catch(e){}},30))}"complete"===document.readyState&&u()}function c(e){return i?e(o):a.push(e),c}return c.version="2.0.1",c.load=function(e,t,n,r){r.isBuild?n(null):c(n)},c}),function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){var n=[],r=n.slice,i=n.concat,o=n.push,a=n.indexOf,s={},u=s.toString,c=s.hasOwnProperty,l={},d=e.document,p=function(e,t){return new p.fn.init(e,t)},f=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,h=/^-ms-/,m=/-([\da-z])/gi,g=function(e,t){return t.toUpperCase()};function y(e){var t=e.length,n=p.type(e);return"function"!==n&&!p.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}p.fn=p.prototype={jquery:"2.1.3",constructor:p,selector:"",length:0,toArray:function(){return r.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:r.call(this)},pushStack:function(e){var t=p.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return p.each(this,e,t)},map:function(e){return this.pushStack(p.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:o,sort:n.sort,splice:n.splice},p.extend=p.fn.extend=function(){var e,t,n,r,i,o,a=arguments[0]||{},s=1,u=arguments.length,c=!1;for("boolean"==typeof a&&(c=a,a=arguments[s]||{},s++),"object"==typeof a||p.isFunction(a)||(a={}),s===u&&(a=this,s--);s<u;s++)if(null!=(e=arguments[s]))for(t in e)n=a[t],a!==(r=e[t])&&(c&&r&&(p.isPlainObject(r)||(i=p.isArray(r)))?(i?(i=!1,o=n&&p.isArray(n)?n:[]):o=n&&p.isPlainObject(n)?n:{},a[t]=p.extend(c,o,r)):void 0!==r&&(a[t]=r));return a},p.extend({expando:"jQuery"+("2.1.3"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===p.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!p.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"===p.type(e)&&!e.nodeType&&!p.isWindow(e)&&!(e.constructor&&!c.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?s[u.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=p.trim(e))&&(1===e.indexOf("use strict")?((t=d.createElement("script")).text=e,d.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(h,"ms-").replace(m,g)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r=0,i=e.length,o=y(e);if(n){if(o)for(;r<i&&!1!==t.apply(e[r],n);r++);else for(r in e)if(!1===t.apply(e[r],n))break}else if(o)for(;r<i&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(f,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(y(Object(e))?p.merge(n,"string"==typeof e?[e]:e):o.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:a.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,a=!n;i<o;i++)!t(e[i],i)!==a&&r.push(e[i]);return r},map:function(e,t,n){var r,o=0,a=e.length,s=[];if(y(e))for(;o<a;o++)null!=(r=t(e[o],o,n))&&s.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&s.push(r);return i.apply([],s)},guid:1,proxy:function(e,t){var n,i,o;if("string"==typeof t&&(n=e[t],t=e,e=n),p.isFunction(e))return i=r.call(arguments,2),(o=function(){return e.apply(t||this,i.concat(r.call(arguments)))}).guid=e.guid=e.guid||p.guid++,o},now:Date.now,support:l}),p.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){s["[object "+t+"]"]=t.toLowerCase()});var v=function(e){var t,n,r,i,o,a,s,u,c,l,d,p,f,h,m,g,y,v,b,_="sizzle"+1*new Date,w=e.document,A=0,S=0,T=ae(),k=ae(),R=ae(),E=function(e,t){return e===t&&(d=!0),0},N=1<<31,O={}.hasOwnProperty,C=[],M=C.pop,P=C.push,x=C.push,z=C.slice,D=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},I="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",B="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",V=B.replace("w","w#"),j="\\["+L+"*("+B+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+V+"))|)"+L+"*\\]",H=":("+B+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+j+")*)|.*)\\)|)",q=new RegExp(L+"+","g"),U=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),F=new RegExp("^"+L+"*,"+L+"*"),W=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),G=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),$=new RegExp(H),Y=new RegExp("^"+V+"$"),K={ID:new RegExp("^#("+B+")"),CLASS:new RegExp("^\\.("+B+")"),TAG:new RegExp("^("+B.replace("w","w*")+")"),ATTR:new RegExp("^"+j),PSEUDO:new RegExp("^"+H),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+I+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Z=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,X=/^[^{]+\{\s*\[native \w/,J=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=/'|\\/g,ne=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),re=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},ie=function(){p()};try{x.apply(C=z.call(w.childNodes),w.childNodes),C[w.childNodes.length].nodeType}catch(e){x={apply:C.length?function(e,t){P.apply(e,z.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function oe(e,t,r,i){var o,s,c,l,d,h,y,v,A,S;if((t?t.ownerDocument||t:w)!==f&&p(t),t=t||f,r=r||[],l=t.nodeType,"string"!=typeof e||!e||1!==l&&9!==l&&11!==l)return r;if(!i&&m){if(11!==l&&(o=J.exec(e)))if(c=o[1]){if(9===l){if(!(s=t.getElementById(c))||!s.parentNode)return r;if(s.id===c)return r.push(s),r}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(c))&&b(t,s)&&s.id===c)return r.push(s),r}else{if(o[2])return x.apply(r,t.getElementsByTagName(e)),r;if((c=o[3])&&n.getElementsByClassName)return x.apply(r,t.getElementsByClassName(c)),r}if(n.qsa&&(!g||!g.test(e))){if(v=y=_,A=t,S=1!==l&&e,1===l&&"object"!==t.nodeName.toLowerCase()){for(h=a(e),(y=t.getAttribute("id"))?v=y.replace(te,"\\$&"):t.setAttribute("id",v),v="[id='"+v+"'] ",d=h.length;d--;)h[d]=v+ge(h[d]);A=ee.test(e)&&he(t.parentNode)||t,S=h.join(",")}if(S)try{return x.apply(r,A.querySelectorAll(S)),r}catch(e){}finally{y||t.removeAttribute("id")}}}return u(e.replace(U,"$1"),t,r,i)}function ae(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function se(e){return e[_]=!0,e}function ue(e){var t=f.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){for(var n=e.split("|"),i=e.length;i--;)r.attrHandle[n[i]]=t}function le(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||N)-(~e.sourceIndex||N);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function de(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function fe(e){return se(function(t){return t=+t,se(function(n,r){for(var i,o=e([],n.length,t),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function he(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=oe.support={},o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},p=oe.setDocument=function(e){var t,i,a=e?e.ownerDocument||e:w;return a!==f&&9===a.nodeType&&a.documentElement?(f=a,h=a.documentElement,(i=a.defaultView)&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",ie,!1):i.attachEvent&&i.attachEvent("onunload",ie)),m=!o(a),n.attributes=ue(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ue(function(e){return e.appendChild(a.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=X.test(a.getElementsByClassName),n.getById=ue(function(e){return h.appendChild(e).id=_,!a.getElementsByName||!a.getElementsByName(_).length}),n.getById?(r.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},r.filter.ID=function(e){var t=e.replace(ne,re);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(ne,re);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(m)return t.getElementsByClassName(e)},y=[],g=[],(n.qsa=X.test(a.querySelectorAll))&&(ue(function(e){h.appendChild(e).innerHTML="<a id='"+_+"'></a><select id='"+_+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+L+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+L+"*(?:value|"+I+")"),e.querySelectorAll("[id~="+_+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+_+"+*").length||g.push(".#.+[+~]")}),ue(function(e){var t=a.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+L+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(n.matchesSelector=X.test(v=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ue(function(e){n.disconnectedMatch=v.call(e,"div"),v.call(e,"[s!='']:x"),y.push("!=",H)}),g=g.length&&new RegExp(g.join("|")),y=y.length&&new RegExp(y.join("|")),t=X.test(h.compareDocumentPosition),b=t||X.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},E=t?function(e,t){if(e===t)return d=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===a||e.ownerDocument===w&&b(w,e)?-1:t===a||t.ownerDocument===w&&b(w,t)?1:l?D(l,e)-D(l,t):0:4&r?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],u=[t];if(!i||!o)return e===a?-1:t===a?1:i?-1:o?1:l?D(l,e)-D(l,t):0;if(i===o)return le(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)u.unshift(n);for(;s[r]===u[r];)r++;return r?le(s[r],u[r]):s[r]===w?-1:u[r]===w?1:0},a):f},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==f&&p(e),t=t.replace(G,"='$1']"),n.matchesSelector&&m&&(!y||!y.test(t))&&(!g||!g.test(t)))try{var r=v.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return oe(t,f,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==f&&p(e),b(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==f&&p(e);var i=r.attrHandle[t.toLowerCase()],o=i&&O.call(r.attrHandle,t.toLowerCase())?i(e,t,!m):void 0;return void 0!==o?o:n.attributes||!m?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,r=[],i=0,o=0;if(d=!n.detectDuplicates,l=!n.sortStable&&e.slice(0),e.sort(E),d){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return l=null,e},i=oe.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=oe.selectors={cacheLength:50,createPseudo:se,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ne,re),e[3]=(e[3]||e[4]||e[5]||"").replace(ne,re),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&$.test(n)&&(t=a(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ne,re).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=T[e+" "];return t||(t=new RegExp("(^|"+L+")"+e+"("+L+"|$)"))&&T(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=oe.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(q," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),a="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var c,l,d,p,f,h,m=o!==a?"nextSibling":"previousSibling",g=t.parentNode,y=s&&t.nodeName.toLowerCase(),v=!u&&!s;if(g){if(o){for(;m;){for(d=t;d=d[m];)if(s?d.nodeName.toLowerCase()===y:1===d.nodeType)return!1;h=m="only"===e&&!h&&"nextSibling"}return!0}if(h=[a?g.firstChild:g.lastChild],a&&v){for(f=(c=(l=g[_]||(g[_]={}))[e]||[])[0]===A&&c[1],p=c[0]===A&&c[2],d=f&&g.childNodes[f];d=++f&&d&&d[m]||(p=f=0)||h.pop();)if(1===d.nodeType&&++p&&d===t){l[e]=[A,f,p];break}}else if(v&&(c=(t[_]||(t[_]={}))[e])&&c[0]===A)p=c[1];else for(;(d=++f&&d&&d[m]||(p=f=0)||h.pop())&&((s?d.nodeName.toLowerCase()!==y:1!==d.nodeType)||!++p||(v&&((d[_]||(d[_]={}))[e]=[A,p]),d!==t)););return(p-=i)===r||p%r==0&&p/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return i[_]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,n){for(var r,o=i(e,t),a=o.length;a--;)e[r=D(e,o[a])]=!(n[r]=o[a])}):function(e){return i(e,0,n)}):i}},pseudos:{not:se(function(e){var t=[],n=[],r=s(e.replace(U,"$1"));return r[_]?se(function(e,t,n,i){for(var o,a=r(e,null,i,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:se(function(e){return function(t){return oe(e,t).length>0}}),contains:se(function(e){return e=e.replace(ne,re),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:se(function(e){return Y.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(ne,re).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===f.activeElement&&(!f.hasFocus||f.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return Z.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:fe(function(){return[0]}),last:fe(function(e,t){return[t-1]}),eq:fe(function(e,t,n){return[n<0?n+t:n]}),even:fe(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:fe(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:fe(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:fe(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=de(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=pe(t);function me(){}function ge(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ye(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=S++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,a){var s,u,c=[A,o];if(a){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,a))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if((s=(u=t[_]||(t[_]={}))[r])&&s[0]===A&&s[1]===o)return c[2]=s[2];if(u[r]=c,c[2]=e(t,n,a))return!0}}}function ve(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function be(e,t,n,r,i){for(var o,a=[],s=0,u=e.length,c=null!=t;s<u;s++)(o=e[s])&&(n&&!n(o,r,i)||(a.push(o),c&&t.push(s)));return a}function _e(e,t,n,r,i,o){return r&&!r[_]&&(r=_e(r)),i&&!i[_]&&(i=_e(i,o)),se(function(o,a,s,u){var c,l,d,p=[],f=[],h=a.length,m=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)oe(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),g=!e||!o&&t?m:be(m,p,e,s,u),y=n?i||(o?e:h||r)?[]:a:g;if(n&&n(g,y,s,u),r)for(c=be(y,f),r(c,[],s,u),l=c.length;l--;)(d=c[l])&&(y[f[l]]=!(g[f[l]]=d));if(o){if(i||e){if(i){for(c=[],l=y.length;l--;)(d=y[l])&&c.push(g[l]=d);i(null,y=[],c,u)}for(l=y.length;l--;)(d=y[l])&&(c=i?D(o,d):p[l])>-1&&(o[c]=!(a[c]=d))}}else y=be(y===a?y.splice(h,y.length):y),i?i(null,a,y,u):x.apply(a,y)})}function we(e){for(var t,n,i,o=e.length,a=r.relative[e[0].type],s=a||r.relative[" "],u=a?1:0,l=ye(function(e){return e===t},s,!0),d=ye(function(e){return D(t,e)>-1},s,!0),p=[function(e,n,r){var i=!a&&(r||n!==c)||((t=n).nodeType?l(e,n,r):d(e,n,r));return t=null,i}];u<o;u++)if(n=r.relative[e[u].type])p=[ye(ve(p),n)];else{if((n=r.filter[e[u].type].apply(null,e[u].matches))[_]){for(i=++u;i<o&&!r.relative[e[i].type];i++);return _e(u>1&&ve(p),u>1&&ge(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(U,"$1"),n,u<i&&we(e.slice(u,i)),i<o&&we(e=e.slice(i)),i<o&&ge(e))}p.push(n)}return ve(p)}return me.prototype=r.filters=r.pseudos,r.setFilters=new me,a=oe.tokenize=function(e,t){var n,i,o,a,s,u,c,l=k[e+" "];if(l)return t?0:l.slice(0);for(s=e,u=[],c=r.preFilter;s;){for(a in n&&!(i=F.exec(s))||(i&&(s=s.slice(i[0].length)||s),u.push(o=[])),n=!1,(i=W.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(U," ")}),s=s.slice(n.length)),r.filter)!(i=K[a].exec(s))||c[a]&&!(i=c[a](i))||(n=i.shift(),o.push({value:n,type:a,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?oe.error(e):k(e,u).slice(0)},s=oe.compile=function(e,t){var n,i=[],o=[],s=R[e+" "];if(!s){for(t||(t=a(e)),n=t.length;n--;)(s=we(t[n]))[_]?i.push(s):o.push(s);(s=R(e,function(e,t){var n=t.length>0,i=e.length>0,o=function(o,a,s,u,l){var d,p,h,m=0,g="0",y=o&&[],v=[],b=c,_=o||i&&r.find.TAG("*",l),w=A+=null==b?1:Math.random()||.1,S=_.length;for(l&&(c=a!==f&&a);g!==S&&null!=(d=_[g]);g++){if(i&&d){for(p=0;h=e[p++];)if(h(d,a,s)){u.push(d);break}l&&(A=w)}n&&((d=!h&&d)&&m--,o&&y.push(d))}if(m+=g,n&&g!==m){for(p=0;h=t[p++];)h(y,v,a,s);if(o){if(m>0)for(;g--;)y[g]||v[g]||(v[g]=M.call(u));v=be(v)}x.apply(u,v),l&&!o&&v.length>0&&m+t.length>1&&oe.uniqueSort(u)}return l&&(A=w,c=b),y};return n?se(o):o}(o,i))).selector=e}return s},u=oe.select=function(e,t,i,o){var u,c,l,d,p,f="function"==typeof e&&e,h=!o&&a(e=f.selector||e);if(i=i||[],1===h.length){if((c=h[0]=h[0].slice(0)).length>2&&"ID"===(l=c[0]).type&&n.getById&&9===t.nodeType&&m&&r.relative[c[1].type]){if(!(t=(r.find.ID(l.matches[0].replace(ne,re),t)||[])[0]))return i;f&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(u=K.needsContext.test(e)?0:c.length;u--&&(l=c[u],!r.relative[d=l.type]);)if((p=r.find[d])&&(o=p(l.matches[0].replace(ne,re),ee.test(c[0].type)&&he(t.parentNode)||t))){if(c.splice(u,1),!(e=o.length&&ge(c)))return x.apply(i,o),i;break}}return(f||s(e,h))(o,t,!m,i,ee.test(e)&&he(t.parentNode)||t),i},n.sortStable=_.split("").sort(E).join("")===_,n.detectDuplicates=!!d,p(),n.sortDetached=ue(function(e){return 1&e.compareDocumentPosition(f.createElement("div"))}),ue(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ce("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ue(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ce("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ue(function(e){return null==e.getAttribute("disabled")})||ce(I,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),oe}(e);p.find=v,p.expr=v.selectors,p.expr[":"]=p.expr.pseudos,p.unique=v.uniqueSort,p.text=v.getText,p.isXMLDoc=v.isXML,p.contains=v.contains;var b=p.expr.match.needsContext,_=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;function A(e,t,n){if(p.isFunction(t))return p.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return p.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(w.test(t))return p.filter(t,e,n);t=p.filter(t,e)}return p.grep(e,function(e){return a.call(t,e)>=0!==n})}p.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?p.find.matchesSelector(r,e)?[r]:[]:p.find.matches(e,p.grep(t,function(e){return 1===e.nodeType}))},p.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(p(e).filter(function(){for(t=0;t<n;t++)if(p.contains(i[t],this))return!0}));for(t=0;t<n;t++)p.find(e,i[t],r);return(r=this.pushStack(n>1?p.unique(r):r)).selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(A(this,e||[],!1))},not:function(e){return this.pushStack(A(this,e||[],!0))},is:function(e){return!!A(this,"string"==typeof e&&b.test(e)?p(e):e||[],!1).length}});var S,T=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(p.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:T.exec(e))||!n[1]&&t)return!t||t.jquery?(t||S).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof p?t[0]:t,p.merge(this,p.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:d,!0)),_.test(n[1])&&p.isPlainObject(t))for(n in t)p.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(r=d.getElementById(n[2]))&&r.parentNode&&(this.length=1,this[0]=r),this.context=d,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):p.isFunction(e)?void 0!==S.ready?S.ready(e):e(p):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),p.makeArray(e,this))}).prototype=p.fn,S=p(d);var k=/^(?:parents|prev(?:Until|All))/,R={children:!0,contents:!0,next:!0,prev:!0};function E(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}p.extend({dir:function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&p(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),p.fn.extend({has:function(e){var t=p(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(p.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],a=b.test(e)||"string"!=typeof e?p(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&p.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?p.unique(o):o)},index:function(e){return e?"string"==typeof e?a.call(p(e),this[0]):a.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(p.unique(p.merge(this.get(),p(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),p.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return p.dir(e,"parentNode")},parentsUntil:function(e,t,n){return p.dir(e,"parentNode",n)},next:function(e){return E(e,"nextSibling")},prev:function(e){return E(e,"previousSibling")},nextAll:function(e){return p.dir(e,"nextSibling")},prevAll:function(e){return p.dir(e,"previousSibling")},nextUntil:function(e,t,n){return p.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return p.dir(e,"previousSibling",n)},siblings:function(e){return p.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return p.sibling(e.firstChild)},contents:function(e){return e.contentDocument||p.merge([],e.childNodes)}},function(e,t){p.fn[e]=function(n,r){var i=p.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=p.filter(r,i)),this.length>1&&(R[e]||p.unique(i),k.test(e)&&i.reverse()),this.pushStack(i)}});var N,O=/\S+/g,C={};function M(){d.removeEventListener("DOMContentLoaded",M,!1),e.removeEventListener("load",M,!1),p.ready()}p.Callbacks=function(e){var t,n,r,i,o,a,s=[],u=!(e="string"==typeof e?C[e]||function(e){var t=C[e]={};return p.each(e.match(O)||[],function(e,n){t[n]=!0}),t}(e):p.extend({},e)).once&&[],c=function(d){for(t=e.memory&&d,n=!0,a=i||0,i=0,o=s.length,r=!0;s&&a<o;a++)if(!1===s[a].apply(d[0],d[1])&&e.stopOnFalse){t=!1;break}r=!1,s&&(u?u.length&&c(u.shift()):t?s=[]:l.disable())},l={add:function(){if(s){var n=s.length;!function t(n){p.each(n,function(n,r){var i=p.type(r);"function"===i?e.unique&&l.has(r)||s.push(r):r&&r.length&&"string"!==i&&t(r)})}(arguments),r?o=s.length:t&&(i=n,c(t))}return this},remove:function(){return s&&p.each(arguments,function(e,t){for(var n;(n=p.inArray(t,s,n))>-1;)s.splice(n,1),r&&(n<=o&&o--,n<=a&&a--)}),this},has:function(e){return e?p.inArray(e,s)>-1:!(!s||!s.length)},empty:function(){return s=[],o=0,this},disable:function(){return s=u=t=void 0,this},disabled:function(){return!s},lock:function(){return u=void 0,t||l.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!s||n&&!u||(t=[e,(t=t||[]).slice?t.slice():t],r?u.push(t):c(t)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!n}};return l},p.extend({Deferred:function(e){var t=[["resolve","done",p.Callbacks("once memory"),"resolved"],["reject","fail",p.Callbacks("once memory"),"rejected"],["notify","progress",p.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return p.Deferred(function(n){p.each(t,function(t,o){var a=p.isFunction(e[t])&&e[t];i[o[1]](function(){var e=a&&a.apply(this,arguments);e&&p.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?p.extend(e,r):r}},i={};return r.pipe=r.then,p.each(t,function(e,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,i,o=0,a=r.call(arguments),s=a.length,u=1!==s||e&&p.isFunction(e.promise)?s:0,c=1===u?e:p.Deferred(),l=function(e,n,i){return function(o){n[e]=this,i[e]=arguments.length>1?r.call(arguments):o,i===t?c.notifyWith(n,i):--u||c.resolveWith(n,i)}};if(s>1)for(t=new Array(s),n=new Array(s),i=new Array(s);o<s;o++)a[o]&&p.isFunction(a[o].promise)?a[o].promise().done(l(o,i,a)).fail(c.reject).progress(l(o,n,t)):--u;return u||c.resolveWith(i,a),c.promise()}}),p.fn.ready=function(e){return p.ready.promise().done(e),this},p.extend({isReady:!1,readyWait:1,holdReady:function(e){e?p.readyWait++:p.ready(!0)},ready:function(e){(!0===e?--p.readyWait:p.isReady)||(p.isReady=!0,!0!==e&&--p.readyWait>0||(N.resolveWith(d,[p]),p.fn.triggerHandler&&(p(d).triggerHandler("ready"),p(d).off("ready"))))}}),p.ready.promise=function(t){return N||(N=p.Deferred(),"complete"===d.readyState?setTimeout(p.ready):(d.addEventListener("DOMContentLoaded",M,!1),e.addEventListener("load",M,!1))),N.promise(t)},p.ready.promise();var P=p.access=function(e,t,n,r,i,o,a){var s=0,u=e.length,c=null==n;if("object"===p.type(n))for(s in i=!0,n)p.access(e,t,s,n[s],!0,o,a);else if(void 0!==r&&(i=!0,p.isFunction(r)||(a=!0),c&&(a?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(p(e),n)})),t))for(;s<u;s++)t(e[s],n,a?r:r.call(e[s],s,t(e[s],n)));return i?e:c?t.call(e):u?t(e[0],n):o};function x(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=p.expando+x.uid++}p.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},x.uid=1,x.accepts=p.acceptData,x.prototype={key:function(e){if(!x.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=x.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,p.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),o=this.cache[i];if("string"==typeof t)o[t]=n;else if(p.isEmptyObject(o))p.extend(this.cache[i],t);else for(r in t)o[r]=t[r];return o},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?void 0!==(r=this.get(e,t))?r:this.get(e,p.camelCase(t)):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=this.key(e),a=this.cache[o];if(void 0===t)this.cache[o]={};else{p.isArray(t)?r=t.concat(t.map(p.camelCase)):(i=p.camelCase(t),r=t in a?[t,i]:(r=i)in a?[r]:r.match(O)||[]),n=r.length;for(;n--;)delete a[r[n]]}},hasData:function(e){return!p.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var z=new x,D=new x,I=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,L=/([A-Z])/g;function B(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(L,"-$1").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:I.test(n)?p.parseJSON(n):n)}catch(e){}D.set(e,t,n)}else n=void 0;return n}p.extend({hasData:function(e){return D.hasData(e)||z.hasData(e)},data:function(e,t,n){return D.access(e,t,n)},removeData:function(e,t){D.remove(e,t)},_data:function(e,t,n){return z.access(e,t,n)},_removeData:function(e,t){z.remove(e,t)}}),p.fn.extend({data:function(e,t){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===e){if(this.length&&(i=D.get(o),1===o.nodeType&&!z.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&0===(r=a[n].name).indexOf("data-")&&(r=p.camelCase(r.slice(5)),B(o,r,i[r]));z.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){D.set(this,e)}):P(this,function(t){var n,r=p.camelCase(e);if(o&&void 0===t)return void 0!==(n=D.get(o,e))?n:void 0!==(n=D.get(o,r))?n:void 0!==(n=B(o,r,void 0))?n:void 0;this.each(function(){var n=D.get(this,r);D.set(this,r,t),-1!==e.indexOf("-")&&void 0!==n&&D.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){D.remove(this,e)})}}),p.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=z.get(e,t),n&&(!r||p.isArray(n)?r=z.access(e,t,p.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=p.queue(e,t),r=n.length,i=n.shift(),o=p._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){p.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return z.get(e,n)||z.access(e,n,{empty:p.Callbacks("once memory").add(function(){z.remove(e,[t+"queue",n])})})}}),p.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?p.queue(this[0],e):void 0===t?this:this.each(function(){var n=p.queue(this,e,t);p._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&p.dequeue(this,e)})},dequeue:function(e){return this.each(function(){p.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=p.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";a--;)(n=z.get(o[a],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var V,j,H=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,q=["Top","Right","Bottom","Left"],U=function(e,t){return e=t||e,"none"===p.css(e,"display")||!p.contains(e.ownerDocument,e)},F=/^(?:checkbox|radio)$/i;V=d.createDocumentFragment().appendChild(d.createElement("div")),(j=d.createElement("input")).setAttribute("type","radio"),j.setAttribute("checked","checked"),j.setAttribute("name","t"),V.appendChild(j),l.checkClone=V.cloneNode(!0).cloneNode(!0).lastChild.checked,V.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!V.cloneNode(!0).lastChild.defaultValue;l.focusinBubbles="onfocusin"in e;var W=/^key/,G=/^(?:mouse|pointer|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;function K(){return!0}function Z(){return!1}function Q(){try{return d.activeElement}catch(e){}}p.event={global:{},add:function(e,t,n,r,i){var o,a,s,u,c,l,d,f,h,m,g,y=z.get(e);if(y)for(n.handler&&(n=(o=n).handler,i=o.selector),n.guid||(n.guid=p.guid++),(u=y.events)||(u=y.events={}),(a=y.handle)||(a=y.handle=function(t){return void 0!==p&&p.event.triggered!==t.type?p.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(O)||[""]).length;c--;)h=g=(s=Y.exec(t[c])||[])[1],m=(s[2]||"").split(".").sort(),h&&(d=p.event.special[h]||{},h=(i?d.delegateType:d.bindType)||h,d=p.event.special[h]||{},l=p.extend({type:h,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&p.expr.match.needsContext.test(i),namespace:m.join(".")},o),(f=u[h])||((f=u[h]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,r,m,a)||e.addEventListener&&e.addEventListener(h,a,!1)),d.add&&(d.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,l):f.push(l),p.event.global[h]=!0)},remove:function(e,t,n,r,i){var o,a,s,u,c,l,d,f,h,m,g,y=z.hasData(e)&&z.get(e);if(y&&(u=y.events)){for(c=(t=(t||"").match(O)||[""]).length;c--;)if(h=g=(s=Y.exec(t[c])||[])[1],m=(s[2]||"").split(".").sort(),h){for(d=p.event.special[h]||{},f=u[h=(r?d.delegateType:d.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)l=f[o],!i&&g!==l.origType||n&&n.guid!==l.guid||s&&!s.test(l.namespace)||r&&r!==l.selector&&("**"!==r||!l.selector)||(f.splice(o,1),l.selector&&f.delegateCount--,d.remove&&d.remove.call(e,l));a&&!f.length&&(d.teardown&&!1!==d.teardown.call(e,m,y.handle)||p.removeEvent(e,h,y.handle),delete u[h])}else for(h in u)p.event.remove(e,h+t[c],n,r,!0);p.isEmptyObject(u)&&(delete y.handle,z.remove(e,"events"))}},trigger:function(t,n,r,i){var o,a,s,u,l,f,h,m=[r||d],g=c.call(t,"type")?t.type:t,y=c.call(t,"namespace")?t.namespace.split("."):[];if(a=s=r=r||d,3!==r.nodeType&&8!==r.nodeType&&!$.test(g+p.event.triggered)&&(g.indexOf(".")>=0&&(g=(y=g.split(".")).shift(),y.sort()),l=g.indexOf(":")<0&&"on"+g,(t=t[p.expando]?t:new p.Event(g,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=y.join("."),t.namespace_re=t.namespace?new RegExp("(^|\\.)"+y.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=r),n=null==n?[t]:p.makeArray(n,[t]),h=p.event.special[g]||{},i||!h.trigger||!1!==h.trigger.apply(r,n))){if(!i&&!h.noBubble&&!p.isWindow(r)){for(u=h.delegateType||g,$.test(u+g)||(a=a.parentNode);a;a=a.parentNode)m.push(a),s=a;s===(r.ownerDocument||d)&&m.push(s.defaultView||s.parentWindow||e)}for(o=0;(a=m[o++])&&!t.isPropagationStopped();)t.type=o>1?u:h.bindType||g,(f=(z.get(a,"events")||{})[t.type]&&z.get(a,"handle"))&&f.apply(a,n),(f=l&&a[l])&&f.apply&&p.acceptData(a)&&(t.result=f.apply(a,n),!1===t.result&&t.preventDefault());return t.type=g,i||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(m.pop(),n)||!p.acceptData(r)||l&&p.isFunction(r[g])&&!p.isWindow(r)&&((s=r[l])&&(r[l]=null),p.event.triggered=g,r[g](),p.event.triggered=void 0,s&&(r[l]=s)),t.result}},dispatch:function(e){e=p.event.fix(e);var t,n,i,o,a,s,u=r.call(arguments),c=(z.get(this,"events")||{})[e.type]||[],l=p.event.special[e.type]||{};if(u[0]=e,e.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,e)){for(s=p.event.handlers.call(this,e,c),t=0;(o=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,n=0;(a=o.handlers[n++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(a.namespace)||(e.handleObj=a,e.data=a.data,void 0!==(i=((p.event.special[a.origType]||{}).handle||a.handler).apply(o.elem,u))&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,a=[],s=t.delegateCount,u=e.target;if(s&&u.nodeType&&(!e.button||"click"!==e.type))for(;u!==this;u=u.parentNode||this)if(!0!==u.disabled||"click"!==e.type){for(r=[],n=0;n<s;n++)void 0===r[i=(o=t[n]).selector+" "]&&(r[i]=o.needsContext?p(i,this).index(u)>=0:p.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&a.push({elem:u,handlers:r})}return s<t.length&&a.push({elem:this,handlers:t.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,o=t.button;return null==e.pageX&&null!=t.clientX&&(r=(n=e.target.ownerDocument||d).documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===o||(e.which=1&o?1:2&o?3:4&o?2:0),e}},fix:function(e){if(e[p.expando])return e;var t,n,r,i=e.type,o=e,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=G.test(i)?this.mouseHooks:W.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,e=new p.Event(o),t=r.length;t--;)e[n=r[t]]=o[n];return e.target||(e.target=d),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,o):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Q()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Q()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&p.nodeName(this,"input"))return this.click(),!1},_default:function(e){return p.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=p.extend(new p.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?p.event.trigger(i,null,t):p.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},p.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},p.Event=function(e,t){if(!(this instanceof p.Event))return new p.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?K:Z):this.type=e,t&&p.extend(this,t),this.timeStamp=e&&e.timeStamp||p.now(),this[p.expando]=!0},p.Event.prototype={isDefaultPrevented:Z,isPropagationStopped:Z,isImmediatePropagationStopped:Z,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=K,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=K,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=K,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},p.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){p.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,i=e.handleObj;return r&&(r===this||p.contains(this,r))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),l.focusinBubbles||p.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){p.event.simulate(t,e.target,p.event.fix(e),!0)};p.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=z.access(r,t);i||r.addEventListener(e,n,!0),z.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=z.access(r,t)-1;i?z.access(r,t,i):(r.removeEventListener(e,n,!0),z.remove(r,t))}}}),p.fn.extend({on:function(e,t,n,r,i){var o,a;if("object"==typeof e){for(a in"string"!=typeof t&&(n=n||t,t=void 0),e)this.on(a,t,n,e[a],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),!1===r)r=Z;else if(!r)return this;return 1===i&&(o=r,(r=function(e){return p().off(e),o.apply(this,arguments)}).guid=o.guid||(o.guid=p.guid++)),this.each(function(){p.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,p(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Z),this.each(function(){p.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){p.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return p.event.trigger(e,t,n,!0)}});var X=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,J=/<([\w:]+)/,ee=/<|&#?\w+;/,te=/<(?:script|style|link)/i,ne=/checked\s*(?:[^=]|=\s*.checked.)/i,re=/^$|\/(?:java|ecma)script/i,ie=/^true\/(.*)/,oe=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ae={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function se(e,t){return p.nodeName(e,"table")&&p.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function ue(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function ce(e){var t=ie.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function le(e,t){for(var n=0,r=e.length;n<r;n++)z.set(e[n],"globalEval",!t||z.get(t[n],"globalEval"))}function de(e,t){var n,r,i,o,a,s,u,c;if(1===t.nodeType){if(z.hasData(e)&&(o=z.access(e),a=z.set(t,o),c=o.events))for(i in delete a.handle,a.events={},c)for(n=0,r=c[i].length;n<r;n++)p.event.add(t,i,c[i][n]);D.hasData(e)&&(s=D.access(e),u=p.extend({},s),D.set(t,u))}}function pe(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&p.nodeName(e,t)?p.merge([e],n):n}ae.optgroup=ae.option,ae.tbody=ae.tfoot=ae.colgroup=ae.caption=ae.thead,ae.th=ae.td,p.extend({clone:function(e,t,n){var r,i,o,a,s,u,c,d=e.cloneNode(!0),f=p.contains(e.ownerDocument,e);if(!(l.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||p.isXMLDoc(e)))for(a=pe(d),r=0,i=(o=pe(e)).length;r<i;r++)s=o[r],u=a[r],void 0,"input"===(c=u.nodeName.toLowerCase())&&F.test(s.type)?u.checked=s.checked:"input"!==c&&"textarea"!==c||(u.defaultValue=s.defaultValue);if(t)if(n)for(o=o||pe(e),a=a||pe(d),r=0,i=o.length;r<i;r++)de(o[r],a[r]);else de(e,d);return(a=pe(d,"script")).length>0&&le(a,!f&&pe(e,"script")),d},buildFragment:function(e,t,n,r){for(var i,o,a,s,u,c,l=t.createDocumentFragment(),d=[],f=0,h=e.length;f<h;f++)if((i=e[f])||0===i)if("object"===p.type(i))p.merge(d,i.nodeType?[i]:i);else if(ee.test(i)){for(o=o||l.appendChild(t.createElement("div")),a=(J.exec(i)||["",""])[1].toLowerCase(),s=ae[a]||ae._default,o.innerHTML=s[1]+i.replace(X,"<$1></$2>")+s[2],c=s[0];c--;)o=o.lastChild;p.merge(d,o.childNodes),(o=l.firstChild).textContent=""}else d.push(t.createTextNode(i));for(l.textContent="",f=0;i=d[f++];)if((!r||-1===p.inArray(i,r))&&(u=p.contains(i.ownerDocument,i),o=pe(l.appendChild(i),"script"),u&&le(o),n))for(c=0;i=o[c++];)re.test(i.type||"")&&n.push(i);return l},cleanData:function(e){for(var t,n,r,i,o=p.event.special,a=0;void 0!==(n=e[a]);a++){if(p.acceptData(n)&&(i=n[z.expando])&&(t=z.cache[i])){if(t.events)for(r in t.events)o[r]?p.event.remove(n,r):p.removeEvent(n,r,t.handle);z.cache[i]&&delete z.cache[i]}delete D.cache[n[D.expando]]}}}),p.fn.extend({text:function(e){return P(this,function(e){return void 0===e?p.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||se(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=se(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?p.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||p.cleanData(pe(n)),n.parentNode&&(t&&p.contains(n.ownerDocument,n)&&le(pe(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(p.cleanData(pe(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return p.clone(this,e,t)})},html:function(e){return P(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!te.test(e)&&!ae[(J.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(X,"<$1></$2>");try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(p.cleanData(pe(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,p.cleanData(pe(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=i.apply([],e);var n,r,o,a,s,u,c=0,d=this.length,f=this,h=d-1,m=e[0],g=p.isFunction(m);if(g||d>1&&"string"==typeof m&&!l.checkClone&&ne.test(m))return this.each(function(n){var r=f.eq(n);g&&(e[0]=m.call(this,n,r.html())),r.domManip(e,t)});if(d&&(r=(n=p.buildFragment(e,this[0].ownerDocument,!1,this)).firstChild,1===n.childNodes.length&&(n=r),r)){for(a=(o=p.map(pe(n,"script"),ue)).length;c<d;c++)s=n,c!==h&&(s=p.clone(s,!0,!0),a&&p.merge(o,pe(s,"script"))),t.call(this[c],s,c);if(a)for(u=o[o.length-1].ownerDocument,p.map(o,ce),c=0;c<a;c++)s=o[c],re.test(s.type||"")&&!z.access(s,"globalEval")&&p.contains(u,s)&&(s.src?p._evalUrl&&p._evalUrl(s.src):p.globalEval(s.textContent.replace(oe,"")))}return this}}),p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){p.fn[e]=function(e){for(var n,r=[],i=p(e),a=i.length-1,s=0;s<=a;s++)n=s===a?this:this.clone(!0),p(i[s])[t](n),o.apply(r,n.get());return this.pushStack(r)}});var fe,he={};function me(t,n){var r,i=p(n.createElement(t)).appendTo(n.body),o=e.getDefaultComputedStyle&&(r=e.getDefaultComputedStyle(i[0]))?r.display:p.css(i[0],"display");return i.detach(),o}function ge(e){var t=d,n=he[e];return n||("none"!==(n=me(e,t))&&n||((t=(fe=(fe||p("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),n=me(e,t),fe.detach()),he[e]=n),n}var ye=/^margin/,ve=new RegExp("^("+H+")(?!px)[a-z%]+$","i"),be=function(t){return t.ownerDocument.defaultView.opener?t.ownerDocument.defaultView.getComputedStyle(t,null):e.getComputedStyle(t,null)};function _e(e,t,n){var r,i,o,a,s=e.style;return(n=n||be(e))&&(a=n.getPropertyValue(t)||n[t]),n&&(""!==a||p.contains(e.ownerDocument,e)||(a=p.style(e,t)),ve.test(a)&&ye.test(t)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function we(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){var t,n,r=d.documentElement,i=d.createElement("div"),o=d.createElement("div");function a(){o.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",o.innerHTML="",r.appendChild(i);var a=e.getComputedStyle(o,null);t="1%"!==a.top,n="4px"===a.width,r.removeChild(i)}o.style&&(o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===o.style.backgroundClip,i.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",i.appendChild(o),e.getComputedStyle&&p.extend(l,{pixelPosition:function(){return a(),t},boxSizingReliable:function(){return null==n&&a(),n},reliableMarginRight:function(){var t,n=o.appendChild(d.createElement("div"));return n.style.cssText=o.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",o.style.width="1px",r.appendChild(i),t=!parseFloat(e.getComputedStyle(n,null).marginRight),r.removeChild(i),o.removeChild(n),t}}))}(),p.swap=function(e,t,n,r){var i,o,a={};for(o in t)a[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=a[o];return i};var Ae=/^(none|table(?!-c[ea]).+)/,Se=new RegExp("^("+H+")(.*)$","i"),Te=new RegExp("^([+-])=("+H+")","i"),ke={position:"absolute",visibility:"hidden",display:"block"},Re={letterSpacing:"0",fontWeight:"400"},Ee=["Webkit","O","Moz","ms"];function Ne(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,i=Ee.length;i--;)if((t=Ee[i]+n)in e)return t;return r}function Oe(e,t,n){var r=Se.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function Ce(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,a=0;o<4;o+=2)"margin"===n&&(a+=p.css(e,n+q[o],!0,i)),r?("content"===n&&(a-=p.css(e,"padding"+q[o],!0,i)),"margin"!==n&&(a-=p.css(e,"border"+q[o]+"Width",!0,i))):(a+=p.css(e,"padding"+q[o],!0,i),"padding"!==n&&(a+=p.css(e,"border"+q[o]+"Width",!0,i)));return a}function Me(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=be(e),a="border-box"===p.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(((i=_e(e,t,o))<0||null==i)&&(i=e.style[t]),ve.test(i))return i;r=a&&(l.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+Ce(e,t,n||(a?"border":"content"),r,o)+"px"}function Pe(e,t){for(var n,r,i,o=[],a=0,s=e.length;a<s;a++)(r=e[a]).style&&(o[a]=z.get(r,"olddisplay"),n=r.style.display,t?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&U(r)&&(o[a]=z.access(r,"olddisplay",ge(r.nodeName)))):(i=U(r),"none"===n&&i||z.set(r,"olddisplay",i?n:p.css(r,"display"))));for(a=0;a<s;a++)(r=e[a]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[a]||"":"none"));return e}function xe(e,t,n,r,i){return new xe.prototype.init(e,t,n,r,i)}p.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=_e(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,a,s=p.camelCase(t),u=e.style;if(t=p.cssProps[s]||(p.cssProps[s]=Ne(u,s)),a=p.cssHooks[t]||p.cssHooks[s],void 0===n)return a&&"get"in a&&void 0!==(i=a.get(e,!1,r))?i:u[t];"string"===(o=typeof n)&&(i=Te.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(p.css(e,t)),o="number"),null!=n&&n==n&&("number"!==o||p.cssNumber[s]||(n+="px"),l.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),a&&"set"in a&&void 0===(n=a.set(e,n,r))||(u[t]=n))}},css:function(e,t,n,r){var i,o,a,s=p.camelCase(t);return t=p.cssProps[s]||(p.cssProps[s]=Ne(e.style,s)),(a=p.cssHooks[t]||p.cssHooks[s])&&"get"in a&&(i=a.get(e,!0,n)),void 0===i&&(i=_e(e,t,r)),"normal"===i&&t in Re&&(i=Re[t]),""===n||n?(o=parseFloat(i),!0===n||p.isNumeric(o)?o||0:i):i}}),p.each(["height","width"],function(e,t){p.cssHooks[t]={get:function(e,n,r){if(n)return Ae.test(p.css(e,"display"))&&0===e.offsetWidth?p.swap(e,ke,function(){return Me(e,t,r)}):Me(e,t,r)},set:function(e,n,r){var i=r&&be(e);return Oe(0,n,r?Ce(e,t,r,"border-box"===p.css(e,"boxSizing",!1,i),i):0)}}}),p.cssHooks.marginRight=we(l.reliableMarginRight,function(e,t){if(t)return p.swap(e,{display:"inline-block"},_e,[e,"marginRight"])}),p.each({margin:"",padding:"",border:"Width"},function(e,t){p.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+q[r]+t]=o[r]||o[r-2]||o[0];return i}},ye.test(e)||(p.cssHooks[e+t].set=Oe)}),p.fn.extend({css:function(e,t){return P(this,function(e,t,n){var r,i,o={},a=0;if(p.isArray(t)){for(r=be(e),i=t.length;a<i;a++)o[t[a]]=p.css(e,t[a],!1,r);return o}return void 0!==n?p.style(e,t,n):p.css(e,t)},e,t,arguments.length>1)},show:function(){return Pe(this,!0)},hide:function(){return Pe(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){U(this)?p(this).show():p(this).hide()})}}),p.Tween=xe,xe.prototype={constructor:xe,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(p.cssNumber[n]?"":"px")},cur:function(){var e=xe.propHooks[this.prop];return e&&e.get?e.get(this):xe.propHooks._default.get(this)},run:function(e){var t,n=xe.propHooks[this.prop];return this.options.duration?this.pos=t=p.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):xe.propHooks._default.set(this),this}},xe.prototype.init.prototype=xe.prototype,xe.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=p.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){p.fx.step[e.prop]?p.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[p.cssProps[e.prop]]||p.cssHooks[e.prop])?p.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},xe.propHooks.scrollTop=xe.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},p.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},p.fx=xe.prototype.init,p.fx.step={};var ze,De,Ie=/^(?:toggle|show|hide)$/,Le=new RegExp("^(?:([+-])=|)("+H+")([a-z%]*)$","i"),Be=/queueHooks$/,Ve=[function(e,t,n){var r,i,o,a,s,u,c,l=this,d={},f=e.style,h=e.nodeType&&U(e),m=z.get(e,"fxshow");n.queue||(null==(s=p._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,u=s.empty.fire,s.empty.fire=function(){s.unqueued||u()}),s.unqueued++,l.always(function(){l.always(function(){s.unqueued--,p.queue(e,"fx").length||s.empty.fire()})}));1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],c=p.css(e,"display"),"inline"===("none"===c?z.get(e,"olddisplay")||ge(e.nodeName):c)&&"none"===p.css(e,"float")&&(f.display="inline-block"));n.overflow&&(f.overflow="hidden",l.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],Ie.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!m||void 0===m[r])continue;h=!0}d[r]=m&&m[r]||p.style(e,r)}else c=void 0;if(p.isEmptyObject(d))"inline"===("none"===c?ge(e.nodeName):c)&&(f.display=c);else for(r in m?"hidden"in m&&(h=m.hidden):m=z.access(e,"fxshow",{}),o&&(m.hidden=!h),h?p(e).show():l.done(function(){p(e).hide()}),l.done(function(){var t;for(t in z.remove(e,"fxshow"),d)p.style(e,t,d[t])}),d)a=Ue(h?m[r]:0,r,l),r in m||(m[r]=a.start,h&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}],je={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Le.exec(t),o=i&&i[3]||(p.cssNumber[e]?"":"px"),a=(p.cssNumber[e]||"px"!==o&&+r)&&Le.exec(p.css(n.elem,e)),s=1,u=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do{a/=s=s||".5",p.style(n.elem,e,a+o)}while(s!==(s=n.cur()/r)&&1!==s&&--u)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};function He(){return setTimeout(function(){ze=void 0}),ze=p.now()}function qe(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=q[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function Ue(e,t,n){for(var r,i=(je[t]||[]).concat(je["*"]),o=0,a=i.length;o<a;o++)if(r=i[o].call(n,t,e))return r}function Fe(e,t,n){var r,i,o=0,a=Ve.length,s=p.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=ze||He(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),o=0,a=c.tweens.length;o<a;o++)c.tweens[o].run(r);return s.notifyWith(e,[c,r,n]),r<1&&a?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:p.extend({},t),opts:p.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:ze||He(),duration:n.duration,tweens:[],createTween:function(t,n){var r=p.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),l=c.props;for(!function(e,t){var n,r,i,o,a;for(n in e)if(i=t[r=p.camelCase(n)],o=e[n],p.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(a=p.cssHooks[r])&&"expand"in a)for(n in o=a.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(l,c.opts.specialEasing);o<a;o++)if(r=Ve[o].call(c,e,l,c.opts))return r;return p.map(l,Ue,c),p.isFunction(c.opts.start)&&c.opts.start.call(e,c),p.fx.timer(p.extend(u,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}p.Animation=p.extend(Fe,{tweener:function(e,t){p.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;r<i;r++)n=e[r],je[n]=je[n]||[],je[n].unshift(t)},prefilter:function(e,t){t?Ve.unshift(e):Ve.push(e)}}),p.speed=function(e,t,n){var r=e&&"object"==typeof e?p.extend({},e):{complete:n||!n&&t||p.isFunction(e)&&e,duration:e,easing:n&&t||t&&!p.isFunction(t)&&t};return r.duration=p.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in p.fx.speeds?p.fx.speeds[r.duration]:p.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){p.isFunction(r.old)&&r.old.call(this),r.queue&&p.dequeue(this,r.queue)},r},p.fn.extend({fadeTo:function(e,t,n,r){return this.filter(U).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=p.isEmptyObject(e),o=p.speed(t,n,r),a=function(){var t=Fe(this,p.extend({},e),o);(i||z.get(this,"finish"))&&t.stop(!0)};return a.finish=a,i||!1===o.queue?this.each(a):this.queue(o.queue,a)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=p.timers,a=z.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&Be.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||p.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=z.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=p.timers,a=r?r.length:0;for(n.finish=!0,p.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<a;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),p.each(["toggle","show","hide"],function(e,t){var n=p.fn[t];p.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(qe(t,!0),e,r,i)}}),p.each({slideDown:qe("show"),slideUp:qe("hide"),slideToggle:qe("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){p.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),p.timers=[],p.fx.tick=function(){var e,t=0,n=p.timers;for(ze=p.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||p.fx.stop(),ze=void 0},p.fx.timer=function(e){p.timers.push(e),e()?p.fx.start():p.timers.pop()},p.fx.interval=13,p.fx.start=function(){De||(De=setInterval(p.fx.tick,p.fx.interval))},p.fx.stop=function(){clearInterval(De),De=null},p.fx.speeds={slow:600,fast:200,_default:400},p.fn.delay=function(e,t){return e=p.fx&&p.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=d.createElement("input"),t=d.createElement("select"),n=t.appendChild(d.createElement("option"));e.type="checkbox",l.checkOn=""!==e.value,l.optSelected=n.selected,t.disabled=!0,l.optDisabled=!n.disabled,(e=d.createElement("input")).value="t",e.type="radio",l.radioValue="t"===e.value}();var We,Ge=p.expr.attrHandle;p.fn.extend({attr:function(e,t){return P(this,p.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){p.removeAttr(this,e)})}}),p.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?p.prop(e,t,n):(1===o&&p.isXMLDoc(e)||(t=t.toLowerCase(),r=p.attrHooks[t]||(p.expr.match.bool.test(t)?We:void 0)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=p.find.attr(e,t))?void 0:i:null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void p.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(O);if(o&&1===e.nodeType)for(;n=o[i++];)r=p.propFix[n]||n,p.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!l.radioValue&&"radio"===t&&p.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),We={set:function(e,t,n){return!1===t?p.removeAttr(e,n):e.setAttribute(n,n),n}},p.each(p.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Ge[t]||p.find.attr;Ge[t]=function(e,t,r){var i,o;return r||(o=Ge[t],Ge[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,Ge[t]=o),i}});var $e=/^(?:input|select|textarea|button)$/i;p.fn.extend({prop:function(e,t){return P(this,p.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[p.propFix[e]||e]})}}),p.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var r,i,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return(1!==o||!p.isXMLDoc(e))&&(t=p.propFix[t]||t,i=p.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||$e.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),l.optSelected||(p.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),p.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){p.propFix[this.toLowerCase()]=this});var Ye=/[\t\r\n\f]/g;p.fn.extend({addClass:function(e){var t,n,r,i,o,a,s="string"==typeof e&&e,u=0,c=this.length;if(p.isFunction(e))return this.each(function(t){p(this).addClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(O)||[];u<c;u++)if(r=1===(n=this[u]).nodeType&&(n.className?(" "+n.className+" ").replace(Ye," "):" ")){for(o=0;i=t[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=p.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(e){var t,n,r,i,o,a,s=0===arguments.length||"string"==typeof e&&e,u=0,c=this.length;if(p.isFunction(e))return this.each(function(t){p(this).removeClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(O)||[];u<c;u++)if(r=1===(n=this[u]).nodeType&&(n.className?(" "+n.className+" ").replace(Ye," "):"")){for(o=0;i=t[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=e?p.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):p.isFunction(e)?this.each(function(n){p(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,r=0,i=p(this),o=e.match(O)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else"undefined"!==n&&"boolean"!==n||(this.className&&z.set(this,"__className__",this.className),this.className=this.className||!1===e?"":z.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Ye," ").indexOf(t)>=0)return!0;return!1}});var Ke=/\r/g;p.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=p.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,p(this).val()):e)?i="":"number"==typeof i?i+="":p.isArray(i)&&(i=p.map(i,function(e){return null==e?"":e+""})),(t=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=p.valHooks[i.type]||p.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(Ke,""):null==n?"":n:void 0}}),p.extend({valHooks:{option:{get:function(e){var t=p.find.attr(e,"value");return null!=t?t:p.trim(p.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,a=o?null:[],s=o?i+1:r.length,u=i<0?s:o?i:0;u<s;u++)if(((n=r[u]).selected||u===i)&&(l.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!p.nodeName(n.parentNode,"optgroup"))){if(t=p(n).val(),o)return t;a.push(t)}return a},set:function(e,t){for(var n,r,i=e.options,o=p.makeArray(t),a=i.length;a--;)((r=i[a]).selected=p.inArray(r.value,o)>=0)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),p.each(["radio","checkbox"],function(){p.valHooks[this]={set:function(e,t){if(p.isArray(t))return e.checked=p.inArray(p(e).val(),t)>=0}},l.checkOn||(p.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),p.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){p.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),p.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var Ze=p.now(),Qe=/\?/;p.parseJSON=function(e){return JSON.parse(e+"")},p.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||p.error("Invalid XML: "+e),t};var Xe=/#.*$/,Je=/([?&])_=[^&]*/,et=/^(.*?):[ \t]*([^\r\n]*)$/gm,tt=/^(?:GET|HEAD)$/,nt=/^\/\//,rt=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,it={},ot={},at="*/".concat("*"),st=e.location.href,ut=rt.exec(st.toLowerCase())||[];function ct(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(O)||[];if(p.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function lt(e,t,n,r){var i={},o=e===ot;function a(s){var u;return i[s]=!0,p.each(e[s]||[],function(e,s){var c=s(t,n,r);return"string"!=typeof c||o||i[c]?o?!(u=c):void 0:(t.dataTypes.unshift(c),a(c),!1)}),u}return a(t.dataTypes[0])||!i["*"]&&a("*")}function dt(e,t){var n,r,i=p.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&p.extend(!0,e,r),e}p.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:st,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ut[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":at,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":p.parseJSON,"text xml":p.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?dt(dt(e,p.ajaxSettings),t):dt(p.ajaxSettings,e)},ajaxPrefilter:ct(it),ajaxTransport:ct(ot),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r,i,o,a,s,u,c,l=p.ajaxSetup({},t),d=l.context||l,f=l.context&&(d.nodeType||d.jquery)?p(d):p.event,h=p.Deferred(),m=p.Callbacks("once memory"),g=l.statusCode||{},y={},v={},b=0,_="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!o)for(o={};t=et.exec(i);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?i:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=v[n]=v[n]||e,y[e]=t),this},overrideMimeType:function(e){return b||(l.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)g[t]=[g[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||_;return n&&n.abort(t),A(0,t),this}};if(h.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,l.url=((e||l.url||st)+"").replace(Xe,"").replace(nt,ut[1]+"//"),l.type=t.method||t.type||l.method||l.type,l.dataTypes=p.trim(l.dataType||"*").toLowerCase().match(O)||[""],null==l.crossDomain&&(s=rt.exec(l.url.toLowerCase()),l.crossDomain=!(!s||s[1]===ut[1]&&s[2]===ut[2]&&(s[3]||("http:"===s[1]?"80":"443"))===(ut[3]||("http:"===ut[1]?"80":"443")))),l.data&&l.processData&&"string"!=typeof l.data&&(l.data=p.param(l.data,l.traditional)),lt(it,l,t,w),2===b)return w;for(c in(u=p.event&&l.global)&&0==p.active++&&p.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!tt.test(l.type),r=l.url,l.hasContent||(l.data&&(r=l.url+=(Qe.test(r)?"&":"?")+l.data,delete l.data),!1===l.cache&&(l.url=Je.test(r)?r.replace(Je,"$1_="+Ze++):r+(Qe.test(r)?"&":"?")+"_="+Ze++)),l.ifModified&&(p.lastModified[r]&&w.setRequestHeader("If-Modified-Since",p.lastModified[r]),p.etag[r]&&w.setRequestHeader("If-None-Match",p.etag[r])),(l.data&&l.hasContent&&!1!==l.contentType||t.contentType)&&w.setRequestHeader("Content-Type",l.contentType),w.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+("*"!==l.dataTypes[0]?", "+at+"; q=0.01":""):l.accepts["*"]),l.headers)w.setRequestHeader(c,l.headers[c]);if(l.beforeSend&&(!1===l.beforeSend.call(d,w,l)||2===b))return w.abort();for(c in _="abort",{success:1,error:1,complete:1})w[c](l[c]);if(n=lt(ot,l,t,w)){w.readyState=1,u&&f.trigger("ajaxSend",[w,l]),l.async&&l.timeout>0&&(a=setTimeout(function(){w.abort("timeout")},l.timeout));try{b=1,n.send(y,A)}catch(e){if(!(b<2))throw e;A(-1,e)}}else A(-1,"No Transport");function A(e,t,o,s){var c,y,v,_,A,S=t;2!==b&&(b=2,a&&clearTimeout(a),n=void 0,i=s||"",w.readyState=e>0?4:0,c=e>=200&&e<300||304===e,o&&(_=function(e,t,n){for(var r,i,o,a,s=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}a||(a=i)}o=o||a}if(o)return o!==u[0]&&u.unshift(o),n[o]}(l,w,o)),_=function(e,t,n,r){var i,o,a,s,u,c={},l=e.dataTypes.slice();if(l[1])for(a in e.converters)c[a.toLowerCase()]=e.converters[a];for(o=l.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=l.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(a=c[u+" "+o]||c["* "+o]))for(i in c)if((s=i.split(" "))[1]===o&&(a=c[u+" "+s[0]]||c["* "+s[0]])){!0===a?a=c[i]:!0!==c[i]&&(o=s[0],l.unshift(s[1]));break}if(!0!==a)if(a&&e.throws)t=a(t);else try{t=a(t)}catch(e){return{state:"parsererror",error:a?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(l,_,w,c),c?(l.ifModified&&((A=w.getResponseHeader("Last-Modified"))&&(p.lastModified[r]=A),(A=w.getResponseHeader("etag"))&&(p.etag[r]=A)),204===e||"HEAD"===l.type?S="nocontent":304===e?S="notmodified":(S=_.state,y=_.data,c=!(v=_.error))):(v=S,!e&&S||(S="error",e<0&&(e=0))),w.status=e,w.statusText=(t||S)+"",c?h.resolveWith(d,[y,S,w]):h.rejectWith(d,[w,S,v]),w.statusCode(g),g=void 0,u&&f.trigger(c?"ajaxSuccess":"ajaxError",[w,l,c?y:v]),m.fireWith(d,[w,S]),u&&(f.trigger("ajaxComplete",[w,l]),--p.active||p.event.trigger("ajaxStop")))}return w},getJSON:function(e,t,n){return p.get(e,t,n,"json")},getScript:function(e,t){return p.get(e,void 0,t,"script")}}),p.each(["get","post"],function(e,t){p[t]=function(e,n,r,i){return p.isFunction(n)&&(i=i||r,r=n,n=void 0),p.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),p._evalUrl=function(e){return p.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},p.fn.extend({wrapAll:function(e){var t;return p.isFunction(e)?this.each(function(t){p(this).wrapAll(e.call(this,t))}):(this[0]&&(t=p(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return p.isFunction(e)?this.each(function(t){p(this).wrapInner(e.call(this,t))}):this.each(function(){var t=p(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=p.isFunction(e);return this.each(function(n){p(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){p.nodeName(this,"body")||p(this).replaceWith(this.childNodes)}).end()}}),p.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},p.expr.filters.visible=function(e){return!p.expr.filters.hidden(e)};var pt=/%20/g,ft=/\[\]$/,ht=/\r?\n/g,mt=/^(?:submit|button|image|reset|file)$/i,gt=/^(?:input|select|textarea|keygen)/i;function yt(e,t,n,r){var i;if(p.isArray(t))p.each(t,function(t,i){n||ft.test(e)?r(e,i):yt(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==p.type(t))r(e,t);else for(i in t)yt(e+"["+i+"]",t[i],n,r)}p.param=function(e,t){var n,r=[],i=function(e,t){t=p.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=p.ajaxSettings&&p.ajaxSettings.traditional),p.isArray(e)||e.jquery&&!p.isPlainObject(e))p.each(e,function(){i(this.name,this.value)});else for(n in e)yt(n,e[n],t,i);return r.join("&").replace(pt,"+")},p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=p.prop(this,"elements");return e?p.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!p(this).is(":disabled")&&gt.test(this.nodeName)&&!mt.test(e)&&(this.checked||!F.test(e))}).map(function(e,t){var n=p(this).val();return null==n?null:p.isArray(n)?p.map(n,function(e){return{name:t.name,value:e.replace(ht,"\r\n")}}):{name:t.name,value:n.replace(ht,"\r\n")}}).get()}}),p.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var vt=0,bt={},_t={0:200,1223:204},wt=p.ajaxSettings.xhr();e.attachEvent&&e.attachEvent("onunload",function(){for(var e in bt)bt[e]()}),l.cors=!!wt&&"withCredentials"in wt,l.ajax=wt=!!wt,p.ajaxTransport(function(e){var t;if(l.cors||wt&&!e.crossDomain)return{send:function(n,r){var i,o=e.xhr(),a=++vt;if(o.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)o[i]=e.xhrFields[i];for(i in e.mimeType&&o.overrideMimeType&&o.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)o.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete bt[a],t=o.onload=o.onerror=null,"abort"===e?o.abort():"error"===e?r(o.status,o.statusText):r(_t[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=t(),o.onerror=t("error"),t=bt[a]=t("abort");try{o.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return p.globalEval(e),e}}}),p.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),p.ajaxTransport("script",function(e){var t,n;if(e.crossDomain)return{send:function(r,i){t=p("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),d.head.appendChild(t[0])},abort:function(){n&&n()}}});var At=[],St=/(=)\?(?=&|$)|\?\?/;p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=At.pop()||p.expando+"_"+Ze++;return this[e]=!0,e}}),p.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,a,s=!1!==t.jsonp&&(St.test(t.url)?"url":"string"==typeof t.data&&!(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&St.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=p.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(St,"$1"+i):!1!==t.jsonp&&(t.url+=(Qe.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return a||p.error(i+" was not called"),a[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){a=arguments},r.always(function(){e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,At.push(i)),a&&p.isFunction(o)&&o(a[0]),a=o=void 0}),"script"}),p.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||d;var r=_.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=p.buildFragment([e],t,i),i&&i.length&&p(i).remove(),p.merge([],r.childNodes))};var Tt=p.fn.load;p.fn.load=function(e,t,n){if("string"!=typeof e&&Tt)return Tt.apply(this,arguments);var r,i,o,a=this,s=e.indexOf(" ");return s>=0&&(r=p.trim(e.slice(s)),e=e.slice(0,s)),p.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),a.length>0&&p.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){o=arguments,a.html(r?p("<div>").append(p.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){a.each(n,o||[e.responseText,t,e])}),this},p.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){p.fn[t]=function(e){return this.on(t,e)}}),p.expr.filters.animated=function(e){return p.grep(p.timers,function(t){return e===t.elem}).length};var kt=e.document.documentElement;function Rt(e){return p.isWindow(e)?e:9===e.nodeType&&e.defaultView}p.offset={setOffset:function(e,t,n){var r,i,o,a,s,u,c=p.css(e,"position"),l=p(e),d={};"static"===c&&(e.style.position="relative"),s=l.offset(),o=p.css(e,"top"),u=p.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+u).indexOf("auto")>-1?(a=(r=l.position()).top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(u)||0),p.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+a),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):l.css(d)}},p.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){p.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;return o?(t=o.documentElement,p.contains(t,r)?(void 0!==r.getBoundingClientRect&&(i=r.getBoundingClientRect()),n=Rt(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i):void 0},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===p.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),p.nodeName(e[0],"html")||(r=e.offset()),r.top+=p.css(e[0],"borderTopWidth",!0),r.left+=p.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-p.css(n,"marginTop",!0),left:t.left-r.left-p.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||kt;e&&!p.nodeName(e,"html")&&"static"===p.css(e,"position");)e=e.offsetParent;return e||kt})}}),p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,n){var r="pageYOffset"===n;p.fn[t]=function(i){return P(this,function(t,i,o){var a=Rt(t);if(void 0===o)return a?a[n]:t[i];a?a.scrollTo(r?e.pageXOffset:o,r?o:e.pageYOffset):t[i]=o},t,i,arguments.length,null)}}),p.each(["top","left"],function(e,t){p.cssHooks[t]=we(l.pixelPosition,function(e,n){if(n)return n=_e(e,t),ve.test(n)?p(e).position()[t]+"px":n})}),p.each({Height:"height",Width:"width"},function(e,t){p.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){p.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===i?"margin":"border");return P(this,function(t,n,r){var i;return p.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?p.css(t,n,a):p.style(t,n,r,a)},t,o?r:void 0,o,null)}})}),p.fn.size=function(){return this.length},p.fn.andSelf=p.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return p});var Et=e.jQuery,Nt=e.$;return p.noConflict=function(t){return e.$===p&&(e.$=Nt),t&&e.jQuery===p&&(e.jQuery=Et),p},void 0===t&&(e.jQuery=e.$=p),p}),function(){var e="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this||{},t=e._,n=Array.prototype,r=Object.prototype,i="undefined"!=typeof Symbol?Symbol.prototype:null,o=n.push,a=n.slice,s=r.toString,u=r.hasOwnProperty,c=Array.isArray,l=Object.keys,d=Object.create,p=function(){},f=function(e){return e instanceof f?e:this instanceof f?void(this._wrapped=e):new f(e)};"undefined"==typeof exports||exports.nodeType?e._=f:("undefined"!=typeof module&&!module.nodeType&&module.exports&&(exports=module.exports=f),exports._=f),f.VERSION="1.9.2";var h,m=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)}}return function(){return e.apply(t,arguments)}},g=function(e,t,n){return f.iteratee!==h?f.iteratee(e,t):null==e?f.identity:f.isFunction(e)?m(e,t,n):f.isObject(e)&&!f.isArray(e)?f.matcher(e):f.property(e)};f.iteratee=h=function(e,t){return g(e,t,1/0)};var y=function(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),i=0;i<n;i++)r[i]=arguments[i+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var o=Array(t+1);for(i=0;i<t;i++)o[i]=arguments[i];return o[t]=r,e.apply(this,o)}},v=function(e){if(!f.isObject(e))return{};if(d)return d(e);p.prototype=e;var t=new p;return p.prototype=null,t},b=function(e){return function(t){return null==t?void 0:t[e]}},_=function(e,t){return null!=e&&u.call(e,t)},w=function(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0},A=Math.pow(2,53)-1,S=b("length"),T=function(e){var t=S(e);return"number"==typeof t&&t>=0&&t<=A};f.each=f.forEach=function(e,t,n){var r,i;if(t=m(t,n),T(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var o=f.keys(e);for(r=0,i=o.length;r<i;r++)t(e[o[r]],o[r],e)}return e},f.map=f.collect=function(e,t,n){t=g(t,n);for(var r=!T(e)&&f.keys(e),i=(r||e).length,o=Array(i),a=0;a<i;a++){var s=r?r[a]:a;o[a]=t(e[s],s,e)}return o};var k=function(e){return function(t,n,r,i){var o=arguments.length>=3;return function(t,n,r,i){var o=!T(t)&&f.keys(t),a=(o||t).length,s=e>0?0:a-1;for(i||(r=t[o?o[s]:s],s+=e);s>=0&&s<a;s+=e){var u=o?o[s]:s;r=n(r,t[u],u,t)}return r}(t,m(n,i,4),r,o)}};f.reduce=f.foldl=f.inject=k(1),f.reduceRight=f.foldr=k(-1),f.find=f.detect=function(e,t,n){var r=(T(e)?f.findIndex:f.findKey)(e,t,n);if(void 0!==r&&-1!==r)return e[r]},f.filter=f.select=function(e,t,n){var r=[];return t=g(t,n),f.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},f.reject=function(e,t,n){return f.filter(e,f.negate(g(t)),n)},f.every=f.all=function(e,t,n){t=g(t,n);for(var r=!T(e)&&f.keys(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(!t(e[a],a,e))return!1}return!0},f.some=f.any=function(e,t,n){t=g(t,n);for(var r=!T(e)&&f.keys(e),i=(r||e).length,o=0;o<i;o++){var a=r?r[o]:o;if(t(e[a],a,e))return!0}return!1},f.contains=f.includes=f.include=function(e,t,n,r){return T(e)||(e=f.values(e)),("number"!=typeof n||r)&&(n=0),f.indexOf(e,t,n)>=0},f.invoke=y(function(e,t,n){var r,i;return f.isFunction(t)?i=t:f.isArray(t)&&(r=t.slice(0,-1),t=t[t.length-1]),f.map(e,function(e){var o=i;if(!o){if(r&&r.length&&(e=w(e,r)),null==e)return;o=e[t]}return null==o?o:o.apply(e,n)})}),f.pluck=function(e,t){return f.map(e,f.property(t))},f.where=function(e,t){return f.filter(e,f.matcher(t))},f.findWhere=function(e,t){return f.find(e,f.matcher(t))},f.max=function(e,t,n){var r,i,o=-1/0,a=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,u=(e=T(e)?e:f.values(e)).length;s<u;s++)null!=(r=e[s])&&r>o&&(o=r);else t=g(t,n),f.each(e,function(e,n,r){((i=t(e,n,r))>a||i===-1/0&&o===-1/0)&&(o=e,a=i)});return o},f.min=function(e,t,n){var r,i,o=1/0,a=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e)for(var s=0,u=(e=T(e)?e:f.values(e)).length;s<u;s++)null!=(r=e[s])&&r<o&&(o=r);else t=g(t,n),f.each(e,function(e,n,r){((i=t(e,n,r))<a||i===1/0&&o===1/0)&&(o=e,a=i)});return o},f.shuffle=function(e){return f.sample(e,1/0)},f.sample=function(e,t,n){if(null==t||n)return T(e)||(e=f.values(e)),e[f.random(e.length-1)];var r=T(e)?f.clone(e):f.values(e),i=S(r);t=Math.max(Math.min(t,i),0);for(var o=i-1,a=0;a<t;a++){var s=f.random(a,o),u=r[a];r[a]=r[s],r[s]=u}return r.slice(0,t)},f.sortBy=function(e,t,n){var r=0;return t=g(t,n),f.pluck(f.map(e,function(e,n,i){return{value:e,index:r++,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index}),"value")};var R=function(e,t){return function(n,r,i){var o=t?[[],[]]:{};return r=g(r,i),f.each(n,function(t,i){var a=r(t,i,n);e(o,t,a)}),o}};f.groupBy=R(function(e,t,n){_(e,n)?e[n].push(t):e[n]=[t]}),f.indexBy=R(function(e,t,n){e[n]=t}),f.countBy=R(function(e,t,n){_(e,n)?e[n]++:e[n]=1});var E=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;f.toArray=function(e){return e?f.isArray(e)?a.call(e):f.isString(e)?e.match(E):T(e)?f.map(e,f.identity):f.values(e):[]},f.size=function(e){return null==e?0:T(e)?e.length:f.keys(e).length},f.partition=R(function(e,t,n){e[n?0:1].push(t)},!0),f.first=f.head=f.take=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[0]:f.initial(e,e.length-t)},f.initial=function(e,t,n){return a.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},f.last=function(e,t,n){return null==e||e.length<1?null==t?void 0:[]:null==t||n?e[e.length-1]:f.rest(e,Math.max(0,e.length-t))},f.rest=f.tail=f.drop=function(e,t,n){return a.call(e,null==t||n?1:t)},f.compact=function(e){return f.filter(e,Boolean)};var N=function(e,t,n,r){for(var i=(r=r||[]).length,o=0,a=S(e);o<a;o++){var s=e[o];if(T(s)&&(f.isArray(s)||f.isArguments(s)))if(t)for(var u=0,c=s.length;u<c;)r[i++]=s[u++];else N(s,t,n,r),i=r.length;else n||(r[i++]=s)}return r};f.flatten=function(e,t){return N(e,t,!1)},f.without=y(function(e,t){return f.difference(e,t)}),f.uniq=f.unique=function(e,t,n,r){f.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=g(n,r));for(var i=[],o=[],a=0,s=S(e);a<s;a++){var u=e[a],c=n?n(u,a,e):u;t&&!n?(a&&o===c||i.push(u),o=c):n?f.contains(o,c)||(o.push(c),i.push(u)):f.contains(i,u)||i.push(u)}return i},f.union=y(function(e){return f.uniq(N(e,!0,!0))}),f.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=S(e);r<i;r++){var o=e[r];if(!f.contains(t,o)){var a;for(a=1;a<n&&f.contains(arguments[a],o);a++);a===n&&t.push(o)}}return t},f.difference=y(function(e,t){return t=N(t,!0,!0),f.filter(e,function(e){return!f.contains(t,e)})}),f.unzip=function(e){for(var t=e&&f.max(e,S).length||0,n=Array(t),r=0;r<t;r++)n[r]=f.pluck(e,r);return n},f.zip=y(f.unzip),f.object=function(e,t){for(var n={},r=0,i=S(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n};var O=function(e){return function(t,n,r){n=g(n,r);for(var i=S(t),o=e>0?0:i-1;o>=0&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}};f.findIndex=O(1),f.findLastIndex=O(-1),f.sortedIndex=function(e,t,n,r){for(var i=(n=g(n,r,1))(t),o=0,a=S(e);o<a;){var s=Math.floor((o+a)/2);n(e[s])<i?o=s+1:a=s}return o};var C=function(e,t,n){return function(r,i,o){var s=0,u=S(r);if("number"==typeof o)e>0?s=o>=0?o:Math.max(o+u,s):u=o>=0?Math.min(o+1,u):o+u+1;else if(n&&o&&u)return r[o=n(r,i)]===i?o:-1;if(i!=i)return(o=t(a.call(r,s,u),f.isNaN))>=0?o+s:-1;for(o=e>0?s:u-1;o>=0&&o<u;o+=e)if(r[o]===i)return o;return-1}};f.indexOf=C(1,f.findIndex,f.sortedIndex),f.lastIndexOf=C(-1,f.findLastIndex),f.range=function(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),o=0;o<r;o++,e+=n)i[o]=e;return i},f.chunk=function(e,t){if(null==t||t<1)return[];for(var n=[],r=0,i=e.length;r<i;)n.push(a.call(e,r,r+=t));return n};var M=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var o=v(e.prototype),a=e.apply(o,i);return f.isObject(a)?a:o};f.bind=y(function(e,t,n){if(!f.isFunction(e))throw new TypeError("Bind must be called on a function");var r=y(function(i){return M(e,r,t,this,n.concat(i))});return r}),f.partial=y(function(e,t){var n=f.partial.placeholder,r=function(){for(var i=0,o=t.length,a=Array(o),s=0;s<o;s++)a[s]=t[s]===n?arguments[i++]:t[s];for(;i<arguments.length;)a.push(arguments[i++]);return M(e,r,this,this,a)};return r}),f.partial.placeholder=f,f.bindAll=y(function(e,t){var n=(t=N(t,!1,!1)).length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=f.bind(e[r],e)}}),f.memoize=function(e,t){var n=function(r){var i=n.cache,o=""+(t?t.apply(this,arguments):r);return _(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},f.delay=y(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),f.defer=f.partial(f.delay,f,1),f.throttle=function(e,t,n){var r,i,o,a,s=0;n||(n={});var u=function(){s=!1===n.leading?0:f.now(),r=null,a=e.apply(i,o),r||(i=o=null)},c=function(){var c=f.now();s||!1!==n.leading||(s=c);var l=t-(c-s);return i=this,o=arguments,l<=0||l>t?(r&&(clearTimeout(r),r=null),s=c,a=e.apply(i,o),r||(i=o=null)):r||!1===n.trailing||(r=setTimeout(u,l)),a};return c.cancel=function(){clearTimeout(r),s=0,r=i=o=null},c},f.debounce=function(e,t,n){var r,i,o=function(t,n){r=null,n&&(i=e.apply(t,n))},a=y(function(a){if(r&&clearTimeout(r),n){var s=!r;r=setTimeout(o,t),s&&(i=e.apply(this,a))}else r=f.delay(o,t,this,a);return i});return a.cancel=function(){clearTimeout(r),r=null},a},f.wrap=function(e,t){return f.partial(t,e)},f.negate=function(e){return function(){return!e.apply(this,arguments)}},f.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},f.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},f.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},f.once=f.partial(f.before,2),f.restArguments=y;var P=!{toString:null}.propertyIsEnumerable("toString"),x=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],z=function(e,t){var n=x.length,i=e.constructor,o=f.isFunction(i)&&i.prototype||r,a="constructor";for(_(e,a)&&!f.contains(t,a)&&t.push(a);n--;)(a=x[n])in e&&e[a]!==o[a]&&!f.contains(t,a)&&t.push(a)};f.keys=function(e){if(!f.isObject(e))return[];if(l)return l(e);var t=[];for(var n in e)_(e,n)&&t.push(n);return P&&z(e,t),t},f.allKeys=function(e){if(!f.isObject(e))return[];var t=[];for(var n in e)t.push(n);return P&&z(e,t),t},f.values=function(e){for(var t=f.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},f.mapObject=function(e,t,n){t=g(t,n);for(var r=f.keys(e),i=r.length,o={},a=0;a<i;a++){var s=r[a];o[s]=t(e[s],s,e)}return o},f.pairs=function(e){for(var t=f.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},f.invert=function(e){for(var t={},n=f.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},f.functions=f.methods=function(e){var t=[];for(var n in e)f.isFunction(e[n])&&t.push(n);return t.sort()};var D=function(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||null==n)return n;for(var i=1;i<r;i++)for(var o=arguments[i],a=e(o),s=a.length,u=0;u<s;u++){var c=a[u];t&&void 0!==n[c]||(n[c]=o[c])}return n}};f.extend=D(f.allKeys),f.extendOwn=f.assign=D(f.keys),f.findKey=function(e,t,n){t=g(t,n);for(var r,i=f.keys(e),o=0,a=i.length;o<a;o++)if(t(e[r=i[o]],r,e))return r};var I,L,B=function(e,t,n){return t in n};f.pick=y(function(e,t){var n={},r=t[0];if(null==e)return n;f.isFunction(r)?(t.length>1&&(r=m(r,t[1])),t=f.allKeys(e)):(r=B,t=N(t,!1,!1),e=Object(e));for(var i=0,o=t.length;i<o;i++){var a=t[i],s=e[a];r(s,a,e)&&(n[a]=s)}return n}),f.omit=y(function(e,t){var n,r=t[0];return f.isFunction(r)?(r=f.negate(r),t.length>1&&(n=t[1])):(t=f.map(N(t,!1,!1),String),r=function(e,n){return!f.contains(t,n)}),f.pick(e,r,n)}),f.defaults=D(f.allKeys,!0),f.create=function(e,t){var n=v(e);return t&&f.extendOwn(n,t),n},f.clone=function(e){return f.isObject(e)?f.isArray(e)?e.slice():f.extend({},e):e},f.tap=function(e,t){return t(e),e},f.isMatch=function(e,t){var n=f.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),o=0;o<r;o++){var a=n[o];if(t[a]!==i[a]||!(a in i))return!1}return!0},I=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!=e)return t!=t;var i=typeof e;return("function"===i||"object"===i||"object"==typeof t)&&L(e,t,n,r)},L=function(e,t,n,r){e instanceof f&&(e=e._wrapped),t instanceof f&&(t=t._wrapped);var o=s.call(e);if(o!==s.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return i.valueOf.call(e)===i.valueOf.call(t)}var a="[object Array]"===o;if(!a){if("object"!=typeof e||"object"!=typeof t)return!1;var u=e.constructor,c=t.constructor;if(u!==c&&!(f.isFunction(u)&&u instanceof u&&f.isFunction(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var l=n.length;l--;)if(n[l]===e)return r[l]===t;if(n.push(e),r.push(t),a){if((l=e.length)!==t.length)return!1;for(;l--;)if(!I(e[l],t[l],n,r))return!1}else{var d,p=f.keys(e);if(l=p.length,f.keys(t).length!==l)return!1;for(;l--;)if(d=p[l],!_(t,d)||!I(e[d],t[d],n,r))return!1}return n.pop(),r.pop(),!0},f.isEqual=function(e,t){return I(e,t)},f.isEmpty=function(e){return null==e||(T(e)&&(f.isArray(e)||f.isString(e)||f.isArguments(e))?0===e.length:0===f.keys(e).length)},f.isElement=function(e){return!(!e||1!==e.nodeType)},f.isArray=c||function(e){return"[object Array]"===s.call(e)},f.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},f.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(e){f["is"+e]=function(t){return s.call(t)==="[object "+e+"]"}}),f.isArguments(arguments)||(f.isArguments=function(e){return _(e,"callee")});var V=e.document&&e.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof V&&(f.isFunction=function(e){return"function"==typeof e||!1}),f.isFinite=function(e){return!f.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},f.isNaN=function(e){return f.isNumber(e)&&isNaN(e)},f.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===s.call(e)},f.isNull=function(e){return null===e},f.isUndefined=function(e){return void 0===e},f.has=function(e,t){if(!f.isArray(t))return _(e,t);for(var n=t.length,r=0;r<n;r++){var i=t[r];if(null==e||!u.call(e,i))return!1;e=e[i]}return!!n},f.noConflict=function(){return e._=t,this},f.identity=function(e){return e},f.constant=function(e){return function(){return e}},f.noop=function(){},f.property=function(e){return f.isArray(e)?function(t){return w(t,e)}:b(e)},f.propertyOf=function(e){return null==e?function(){}:function(t){return f.isArray(t)?w(e,t):e[t]}},f.matcher=f.matches=function(e){return e=f.extendOwn({},e),function(t){return f.isMatch(t,e)}},f.times=function(e,t,n){var r=Array(Math.max(0,e));t=m(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},f.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},f.now=Date.now||function(){return(new Date).getTime()};var j={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},H=f.invert(j),q=function(e){var t=function(t){return e[t]},n="(?:"+f.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};f.escape=q(j),f.unescape=q(H),f.result=function(e,t,n){f.isArray(t)||(t=[t]);var r=t.length;if(!r)return f.isFunction(n)?n.call(e):n;for(var i=0;i<r;i++){var o=null==e?void 0:e[t[i]];void 0===o&&(o=n,i=r),e=f.isFunction(o)?o.call(e):o}return e};var U=0;f.uniqueId=function(e){var t=++U+"";return e?e+t:t},f.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/,W={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},G=/\\|'|\r|\n|\u2028|\u2029/g,$=function(e){return"\\"+W[e]};f.template=function(e,t,n){!t&&n&&(t=n),t=f.defaults({},t,f.templateSettings);var r,i=RegExp([(t.escape||F).source,(t.interpolate||F).source,(t.evaluate||F).source].join("|")+"|$","g"),o=0,a="__p+='";e.replace(i,function(t,n,r,i,s){return a+=e.slice(o,s).replace(G,$),o=s+t.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?a+="'+\n((__t=("+r+"))==null?'':__t)+\n'":i&&(a+="';\n"+i+"\n__p+='"),t}),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{r=new Function(t.variable||"obj","_",a)}catch(e){throw e.source=a,e}var s=function(e){return r.call(this,e,f)},u=t.variable||"obj";return s.source="function("+u+"){\n"+a+"}",s},f.chain=function(e){var t=f(e);return t._chain=!0,t};var Y=function(e,t){return e._chain?f(t).chain():t};f.mixin=function(e){return f.each(f.functions(e),function(t){var n=f[t]=e[t];f.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),Y(this,n.apply(f,e))}}),f},f.mixin(f),f.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=n[e];f.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],Y(this,n)}}),f.each(["concat","join","slice"],function(e){var t=n[e];f.prototype[e]=function(){return Y(this,t.apply(this._wrapped,arguments))}}),f.prototype.value=function(){return this._wrapped},f.prototype.valueOf=f.prototype.toJSON=f.prototype.value,f.prototype.toString=function(){return String(this._wrapped)},"function"==typeof define&&define.amd&&define("underscore",[],function(){return f})}(),function(){var e,t=this,n=t.Backbone,r=[],i=r.push,o=r.slice,a=r.splice;(e="undefined"!=typeof exports?exports:t.Backbone={}).VERSION="1.0.0";var s=t._;s||"undefined"==typeof require||(s=require("underscore")),e.$=t.jQuery||t.Zepto||t.ender||t.$,e.noConflict=function(){return t.Backbone=n,this},e.emulateHTTP=!1,e.emulateJSON=!1;var u=e.Events={on:function(e,t,n){return l(this,"on",e,[t,n])&&t?(this._events||(this._events={}),(this._events[e]||(this._events[e]=[])).push({callback:t,context:n,ctx:n||this}),this):this},once:function(e,t,n){if(!l(this,"once",e,[t,n])||!t)return this;var r=this,i=s.once(function(){r.off(e,i),t.apply(this,arguments)});return i._callback=t,this.on(e,i,n)},off:function(e,t,n){var r,i,o,a,u,c,d,p;if(!this._events||!l(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;for(u=0,c=(a=e?[e]:s.keys(this._events)).length;u<c;u++)if(e=a[u],o=this._events[e]){if(this._events[e]=r=[],t||n)for(d=0,p=o.length;d<p;d++)i=o[d],(t&&t!==i.callback&&t!==i.callback._callback||n&&n!==i.context)&&r.push(i);r.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=o.call(arguments,1);if(!l(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&d(n,t),r&&d(r,arguments),this},stopListening:function(e,t,n){var r=this._listeners;if(!r)return this;var i=!t&&!n;for(var o in"object"==typeof t&&(n=this),e&&((r={})[e._listenerId]=e),r)r[o].off(t,n,this),i&&delete this._listeners[o];return this}},c=/\s+/,l=function(e,t,n,r){if(!n)return!0;if("object"==typeof n){for(var i in n)e[t].apply(e,[i,n[i]].concat(r));return!1}if(c.test(n)){for(var o=n.split(c),a=0,s=o.length;a<s;a++)e[t].apply(e,[o[a]].concat(r));return!1}return!0},d=function(e,t){var n,r=-1,i=e.length,o=t[0],a=t[1],s=t[2];switch(t.length){case 0:for(;++r<i;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o);return;case 2:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,a);return;case 3:for(;++r<i;)(n=e[r]).callback.call(n.ctx,o,a,s);return;default:for(;++r<i;)(n=e[r]).callback.apply(n.ctx,t)}};s.each({listenTo:"on",listenToOnce:"once"},function(e,t){u[t]=function(t,n,r){return(this._listeners||(this._listeners={}))[t._listenerId||(t._listenerId=s.uniqueId("l"))]=t,"object"==typeof n&&(r=this),t[e](n,r,this),this}}),u.bind=u.on,u.unbind=u.off,s.extend(e,u);var p=e.Model=function(e,t){var n,r=e||{};t||(t={}),this.cid=s.uniqueId("c"),this.attributes={},s.extend(this,s.pick(t,f)),t.parse&&(r=this.parse(r,t)||{}),(n=s.result(this,"defaults"))&&(r=s.defaults({},r,n)),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)},f=["url","urlRoot","collection"];s.extend(p.prototype,u,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return s.clone(this.attributes)},sync:function(){return e.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return s.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,n){var r,i,o,a,u,c,l,d;if(null==e)return this;if("object"==typeof e?(i=e,n=t):(i={})[e]=t,n||(n={}),!this._validate(i,n))return!1;for(r in o=n.unset,u=n.silent,a=[],c=this._changing,this._changing=!0,c||(this._previousAttributes=s.clone(this.attributes),this.changed={}),d=this.attributes,l=this._previousAttributes,this.idAttribute in i&&(this.id=i[this.idAttribute]),i)t=i[r],s.isEqual(d[r],t)||a.push(r),s.isEqual(l[r],t)?delete this.changed[r]:this.changed[r]=t,o?delete d[r]:d[r]=t;if(!u){a.length&&(this._pending=!0);for(var p=0,f=a.length;p<f;p++)this.trigger("change:"+a[p],this,d[a[p]],n)}if(c)return this;if(!u)for(;this._pending;)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,s.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,s.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!s.isEmpty(this.changed):s.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&s.clone(this.changed);var t,n=!1,r=this._changing?this._previousAttributes:this.attributes;for(var i in e)s.isEqual(r[i],t=e[i])||((n||(n={}))[i]=t);return n},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return s.clone(this._previousAttributes)},fetch:function(e){void 0===(e=e?s.clone(e):{}).parse&&(e.parse=!0);var t=this,n=e.success;return e.success=function(r){if(!t.set(t.parse(r,e),e))return!1;n&&n(t,r,e),t.trigger("sync",t,r,e)},P(this,e),this.sync("read",this,e)},save:function(e,t,n){var r,i,o,a=this.attributes;if(null==e||"object"==typeof e?(r=e,n=t):(r={})[e]=t,r&&(!n||!n.wait)&&!this.set(r,n))return!1;if(n=s.extend({validate:!0},n),!this._validate(r,n))return!1;r&&n.wait&&(this.attributes=s.extend({},a,r)),void 0===n.parse&&(n.parse=!0);var u=this,c=n.success;return n.success=function(e){u.attributes=a;var t=u.parse(e,n);if(n.wait&&(t=s.extend(r||{},t)),s.isObject(t)&&!u.set(t,n))return!1;c&&c(u,e,n),u.trigger("sync",u,e,n)},P(this,n),"patch"===(i=this.isNew()?"create":n.patch?"patch":"update")&&(n.attrs=r),o=this.sync(i,this,n),r&&n.wait&&(this.attributes=a),o},destroy:function(e){var t=this,n=(e=e?s.clone(e):{}).success,r=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(i){(e.wait||t.isNew())&&r(),n&&n(t,i,e),t.isNew()||t.trigger("sync",t,i,e)},this.isNew())return e.success(),!1;P(this,e);var i=this.sync("delete",this,e);return e.wait||r(),i},url:function(){var e=s.result(this,"urlRoot")||s.result(this.collection,"url")||M();return this.isNew()?e:e+("/"===e.charAt(e.length-1)?"":"/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return null==this.id},isValid:function(e){return this._validate({},s.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=s.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return!n||(this.trigger("invalid",this,n,s.extend(t||{},{validationError:n})),!1)}});s.each(["keys","values","pairs","invert","pick","omit"],function(e){p.prototype[e]=function(){var t=o.call(arguments);return t.unshift(this.attributes),s[e].apply(s,t)}});var h=e.Collection=function(e,t){t||(t={}),t.url&&(this.url=t.url),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,s.extend({silent:!0},t))},m={add:!0,remove:!0,merge:!0},g={add:!0,merge:!1,remove:!1};s.extend(h.prototype,u,{model:p,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return e.sync.apply(this,arguments)},add:function(e,t){return this.set(e,s.defaults(t||{},g))},remove:function(e,t){var n,r,i,o;for(e=s.isArray(e)?e.slice():[e],t||(t={}),n=0,r=e.length;n<r;n++)(o=this.get(e[n]))&&(delete this._byId[o.id],delete this._byId[o.cid],i=this.indexOf(o),this.models.splice(i,1),this.length--,t.silent||(t.index=i,o.trigger("remove",o,this,t)),this._removeReference(o));return this},set:function(e,t){var n,r,o,u,c;(t=s.defaults(t||{},m)).parse&&(e=this.parse(e,t)),s.isArray(e)||(e=e?[e]:[]);var l=t.at,d=this.comparator&&null==l&&!1!==t.sort,p=s.isString(this.comparator)?this.comparator:null,f=[],h=[],g={};for(n=0,r=e.length;n<r;n++)(o=this._prepareModel(e[n],t))&&((u=this.get(o))?(t.remove&&(g[u.cid]=!0),t.merge&&(u.set(o.attributes,t),d&&!c&&u.hasChanged(p)&&(c=!0))):t.add&&(f.push(o),o.on("all",this._onModelEvent,this),this._byId[o.cid]=o,null!=o.id&&(this._byId[o.id]=o)));if(t.remove){for(n=0,r=this.length;n<r;++n)g[(o=this.models[n]).cid]||h.push(o);h.length&&this.remove(h,t)}if(f.length&&(d&&(c=!0),this.length+=f.length,null!=l?a.apply(this.models,[l,0].concat(f)):i.apply(this.models,f)),c&&this.sort({silent:!0}),t.silent)return this;for(n=0,r=f.length;n<r;n++)(o=f[n]).trigger("add",o,this,t);return c&&this.trigger("sort",this,t),this},reset:function(e,t){t||(t={});for(var n=0,r=this.models.length;n<r;n++)this._removeReference(this.models[n]);return t.previousModels=this.models,this._reset(),this.add(e,s.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),this},push:function(e,t){return e=this._prepareModel(e,t),this.add(e,s.extend({at:this.length},t)),e},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return e=this._prepareModel(e,t),this.add(e,s.extend({at:0},t)),e},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(e,t){return this.models.slice(e,t)},get:function(e){if(null!=e)return this._byId[null!=e.id?e.id:e.cid||e]},at:function(e){return this.models[e]},where:function(e,t){return s.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),s.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(s.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},sortedIndex:function(e,t,n){t||(t=this.comparator);var r=s.isFunction(t)?t:function(e){return e.get(t)};return s.sortedIndex(this.models,e,r,n)},pluck:function(e){return s.invoke(this.models,"get",e)},fetch:function(e){void 0===(e=e?s.clone(e):{}).parse&&(e.parse=!0);var t=e.success,n=this;return e.success=function(r){var i=e.reset?"reset":"set";n[i](r,e),t&&t(n,r,e),n.trigger("sync",n,r,e)},P(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?s.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var n=this,r=t.success;return t.success=function(i){t.wait&&n.add(e,t),r&&r(e,i,t)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof p)return e.collection||(e.collection=this),e;t||(t={}),t.collection=this;var n=new this.model(e,t);return n._validate(e,t)?n:(this.trigger("invalid",this,e,t),!1)},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});s.each(["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","indexOf","shuffle","lastIndexOf","isEmpty","chain"],function(e){h.prototype[e]=function(){var t=o.call(arguments);return t.unshift(this.models),s[e].apply(s,t)}});s.each(["groupBy","countBy","sortBy"],function(e){h.prototype[e]=function(t,n){var r=s.isFunction(t)?t:function(e){return e.get(t)};return s[e](this.models,r,n)}});var y=e.View=function(e){this.cid=s.uniqueId("view"),this._configure(e||{}),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},v=/^(\S+)\s*(.*)$/,b=["model","collection","el","id","attributes","className","tagName","events"];s.extend(y.prototype,u,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(t,n){return this.$el&&this.undelegateEvents(),this.$el=t instanceof e.$?t:e.$(t),this.el=this.$el[0],!1!==n&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=s.result(this,"events")))return this;for(var t in this.undelegateEvents(),e){var n=e[t];if(s.isFunction(n)||(n=this[e[t]]),n){var r=t.match(v),i=r[1],o=r[2];n=s.bind(n,this),i+=".delegateEvents"+this.cid,""===o?this.$el.on(i,n):this.$el.on(i,o,n)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_configure:function(e){this.options&&(e=s.extend({},s.result(this,"options"),e)),s.extend(this,s.pick(e,b)),this.options=e},_ensureElement:function(){if(this.el)this.setElement(s.result(this,"el"),!1);else{var t=s.extend({},s.result(this,"attributes"));this.id&&(t.id=s.result(this,"id")),this.className&&(t.class=s.result(this,"className"));var n=e.$("<"+s.result(this,"tagName")+">").attr(t);this.setElement(n,!1)}}}),e.sync=function(t,n,r){var i=_[t];s.defaults(r||(r={}),{emulateHTTP:e.emulateHTTP,emulateJSON:e.emulateJSON});var o={type:i,dataType:"json"};if(r.url||(o.url=s.result(n,"url")||M()),null!=r.data||!n||"create"!==t&&"update"!==t&&"patch"!==t||(o.contentType="application/json",o.data=JSON.stringify(r.attrs||n.toJSON(r))),r.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),r.emulateHTTP&&("PUT"===i||"DELETE"===i||"PATCH"===i)){o.type="POST",r.emulateJSON&&(o.data._method=i);var a=r.beforeSend;r.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",i),a)return a.apply(this,arguments)}}"GET"===o.type||r.emulateJSON||(o.processData=!1),"PATCH"!==o.type||!window.ActiveXObject||window.external&&window.external.msActiveXFilteringEnabled||(o.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var u=r.xhr=e.ajax(s.extend(o,r));return n.trigger("request",n,u,r),u};var _={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};e.ajax=function(){return e.$.ajax.apply(e.$,arguments)};var w=e.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},A=/\((.*?)\)/g,S=/(\(\?)?:\w+/g,T=/\*\w+/g,k=/[\-{}\[\]+?.,\\\^$|#\s]/g;s.extend(w.prototype,u,{initialize:function(){},route:function(t,n,r){s.isRegExp(t)||(t=this._routeToRegExp(t)),s.isFunction(n)&&(r=n,n=""),r||(r=this[n]);var i=this;return e.history.route(t,function(o){var a=i._extractParameters(t,o);r&&r.apply(i,a),i.trigger.apply(i,["route:"+n].concat(a)),i.trigger("route",n,a),e.history.trigger("route",i,n,a)}),this},navigate:function(t,n){return e.history.navigate(t,n),this},_bindRoutes:function(){if(this.routes){this.routes=s.result(this,"routes");for(var e,t=s.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(k,"\\$&").replace(A,"(?:$1)?").replace(S,function(e,t){return t?e:"([^/]+)"}).replace(T,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return s.map(n,function(e){return e?decodeURIComponent(e):null})}});var R=e.History=function(){this.handlers=[],s.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},E=/^[#\/]|\s+$/g,N=/^\/+|\/+$/g,O=/msie [\w.]+/,C=/\/$/;R.started=!1,s.extend(R.prototype,u,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(C,"");e.indexOf(n)||(e=e.substr(n.length))}else e=this.getHash();return e.replace(E,"")},start:function(t){if(R.started)throw new Error("Backbone.history has already been started");R.started=!0,this.options=s.extend({},{root:"/"},this.options,t),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var n=this.getFragment(),r=document.documentMode,i=O.exec(navigator.userAgent.toLowerCase())&&(!r||r<=7);this.root=("/"+this.root+"/").replace(N,"/"),i&&this._wantsHashChange&&(this.iframe=e.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(n)),this._hasPushState?e.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!i?e.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=n;var o=this.location,a=o.pathname.replace(/[^\/]$/,"$&/")===this.root;return this._wantsHashChange&&this._wantsPushState&&!this._hasPushState&&!a?(this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0):(this._wantsPushState&&this._hasPushState&&a&&o.hash&&(this.fragment=this.getHash().replace(E,""),this.history.replaceState({},document.title,this.root+this.fragment+o.search)),this.options.silent?void 0:this.loadUrl())},stop:function(){e.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),R.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe))),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()||this.loadUrl(this.getHash())},loadUrl:function(e){var t=this.fragment=this.getFragment(e);return s.any(this.handlers,function(e){if(e.route.test(t))return e.callback(t),!0})},navigate:function(e,t){if(!R.started)return!1;if(t&&!0!==t||(t={trigger:t}),e=this.getFragment(e||""),this.fragment!==e){this.fragment=e;var n=this.root+e;if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}t.trigger&&this.loadUrl(e)}},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),e.history=new R;p.extend=h.extend=w.extend=y.extend=R.extend=function(e,t){var n,r=this;n=e&&s.has(e,"constructor")?e.constructor:function(){return r.apply(this,arguments)},s.extend(n,r,t);var i=function(){this.constructor=n};return i.prototype=r.prototype,n.prototype=new i,e&&s.extend(n.prototype,e),n.__super__=r.prototype,n};var M=function(){throw new Error('A "url" property or function must be specified')},P=function(e,t){var n=t.error;t.error=function(r){n&&n(e,r,t),e.trigger("error",e,r,t)}}}.call(this),define("backbone",["underscore","jquery"],function(e){return function(){return e.Backbone}}(this)),function(e,t){"use strict";var n=e.Backbone;if("function"==typeof define&&define.amd)return define("backbone.layout",["backbone","underscore","jquery"],function(){return t.apply(e,arguments)});n.Layout=t.call(e,n,e._,n.$)}("object"==typeof global?global:this,function(e,t,n){"use strict";var r=this,i=e.View,o=Array.prototype.push,a=Array.prototype.concat,s=Array.prototype.splice,u=String.prototype.trim?t.bind(String.prototype.trim.call,String.prototype.trim):n.trim,c=e.View.extend({_render:function(){var e=this,t=e.__manager__,n=e.beforeRender,r=e.deferred();return e.hasRendered&&e._removeViews(),t.callback=function(){delete t.isAsync,delete t.callback,e.trigger("beforeRender",e),e._viewRender(t).render().then(function(){r.resolve()})},n&&n.call(e,e),t.isAsync||t.callback(),r.promise()},_applyTemplate:function(e,r,i){t.isString(e)&&(r.noel?(e=n.parseHTML(e,!0),this.$el.slice(1).remove(),this.$el.replaceWith(e),this.setElement(e,!1)):this.html(this.$el,e)),i.resolveWith(this,[this])},_viewRender:function(e){var n,r,i,o=this;function a(t,r){var a;e.callback=function(t){delete e.isAsync,delete e.callback,o._applyTemplate(t,e,i)},c.cache(n,r),r&&(a=o.renderTemplate.call(o,r,t)),e.isAsync||o._applyTemplate(a,e,i)}return{render:function(){var s=o.serialize,u=o.template;return i=o.deferred(),t.isFunction(s)&&(s=s.call(o)),e.callback=function(t){delete e.isAsync,delete e.callback,a(s,t)},"string"==typeof u&&(n=o.prefix+u),(r=c.cache(n))?(a(s,r),i):("string"==typeof u?r=o.fetchTemplate.call(o,o.prefix+u):"function"==typeof u?r=u:null!=u&&(r=o.fetchTemplate.call(o,u)),e.isAsync||a(s,r),i)}}},constructor:function(n){this.manage=!0,t.extend(this,n),e.View.apply(this,arguments)},async:function(){var e=this.__manager__;return e.isAsync=!0,e.callback},promise:function(){return this.__manager__.renderDeferred.promise()},renderViews:function(){var e=this,t=e.__manager__,n=e.deferred(),r=e.getViews().map(function(e){return e.render().__manager__.renderDeferred}).value();return t.renderDeferred=n.promise(),e.when(r).then(function(){n.resolveWith(e,[e])}),e},insertView:function(t,n,r){return n instanceof e.View?this.setView(t,n,!0,r):this.setView(t,!0,n)},insertViews:function(e){return t.isArray(e)?this.setViews({"":e}):(t.each(e,function(n,r){e[r]=t.isArray(n)?n:[n]}),this.setViews(e))},getView:function(e){return null==e&&(e=arguments[1]),this.getViews(e).first().value()},getViews:function(e){var n;return"string"==typeof e?(e=this.sections[e]||e,n=this.views[e]||[],t.chain([].concat(n))):(n=t.chain(this.views).map(function(e){return t.isArray(e)?e:[e]},this).flatten(),"object"==typeof e?n.where(e):"function"==typeof e?n.filter(e):n)},removeView:function(e){return this.getViews(e).each(function(e){e.remove()})},setView:function(e,n,r,i){var o,s,u;if("string"!=typeof e&&(i=r,r=n,n=e,e=""),!(o=n.__manager__))throw new Error("The argument associated with selector '"+e+"' is defined and a View.  Set `manage` property to true for Backbone.View instances.");return o.parent=this,s=o.selector=this.sections[e]||e,u=this.views[s],r?(this.views[s]=a.call([],this.views[e]||[],n),i&&t.isNumber(i.insertAt)&&u?(u.splice(i.insertAt,0,n),this.views[s]=u,o.insertAt=i.insertAt):this.views[s]=a.call([],u||[],n),this.__manager__.insert=!0,n):(n.hasRendered&&n.partial(this.$el,n.$el,this.__manager__,o),this.removeView(e),this.views[s]=n)},setViews:function(e){return t.each(e,function(e,n){if(t.isArray(e))return t.each(e,function(e){this.insertView(n,e)},this);this.setView(n,e)},this),this},render:function(){var e=this,n=e.__manager__,i=n.parent,a=i&&i.__manager__,s=e.deferred();function u(){var o;function u(){var i=r.console,o=e.afterRender;o&&o.call(e,e),e.trigger("afterRender",e),n.noel&&e.$el.length>1&&t.isFunction(i.warn)&&!e.suppressWarnings&&(i.warn("`el: false` with multiple top level elements is not supported."),t.isFunction(i.trace)&&i.trace())}return t.each(e.views,function(n,r){t.isArray(n)&&e.htmlBatch(e,n,r)}),i&&!n.insertedViaFragment&&(e.contains(i.el,e.el)||i.partial(i.$el,e.$el,a,n)),e.delegateEvents(),e.hasRendered=!0,(o=n.queue.shift())?o():delete n.queue,a&&a.queue?i.once("afterRender",u):u(),s.resolveWith(e,[e])}function c(){e._render().done(function(){if(!t.keys(e.views).length)return u();var n=t.map(e.views,function(n){var r=t.isArray(n);return r&&n.length?e.when(t.map(n,function(e){return e.__manager__.insertedViaFragment=!0,e.render().__manager__.renderDeferred})):r?n:n.render().__manager__.renderDeferred});e.when(n).done(u)})}return n.queue?o.call(n.queue,c):(n.queue=[],c()),e.__manager__.renderDeferred=s,e},remove:function(){return this.trigger("remove",this),c._removeView(this,!0),this._remove.apply(this,arguments)}},{_cache:{},_removeViews:function(e,t){"boolean"==typeof e&&(t=e,e=this),(e=e||this).getViews().each(function(e){(e.hasRendered||t)&&c._removeView(e,t)})},_removeView:function(e,n){var r,i=e.__manager__,o=i.parent&&i.parent.__manager__;if(!("boolean"==typeof e.keep?e.keep:e.options.keep)&&o&&!0===o.insert||n){if(c.cleanViews(e),e._removeViews(!0),e.$el.remove(),!i.parent)return;if(r=i.parent.views[i.selector],t.isArray(r))return t.each(t.clone(r),function(e,t){e&&e.__manager__===i&&s.call(r,t,1)});delete i.parent.views[i.selector]}},cache:function(e,t){return e in this._cache&&null==t?this._cache[e]:null!=e&&null!=t?this._cache[e]=t:void 0},cleanViews:function(n){t.each(a.call([],n),function(n){n.unbind(),n.model instanceof e.Model&&n.model.off(null,null,n),n.collection instanceof e.Collection&&n.collection.off(null,null,n),n.stopListening(),t.isFunction(n.cleanup)&&n.cleanup()})},configure:function(n){t.extend(c.prototype,n),n.manage&&(e.View.prototype.manage=!0),!1===n.el&&(e.View.prototype.el=!1),!0===n.suppressWarnings&&(e.View.prototype.suppressWarnings=!0)},setupView:function(n,r){r=r||{},t.each(a.call([],n),function(n){if(!n.__manager__){var i,o,a=c.prototype;t.defaults(n,{views:{},sections:{},__manager__:{},_removeViews:c._removeViews,_removeView:c._removeView},c.prototype),n.options=r,t.extend(n,r),n._remove=e.View.prototype.remove,n.render=c.prototype.render,n.remove!==a.remove&&(n._remove=n.remove,n.remove=a.remove),i=r.views||n.views,t.keys(i).length&&(o=i,n.views={},t.each(o,function(e,t){"function"==typeof e&&(o[t]=e.call(n,n))}),n.setViews(o))}})}});c.VERSION="0.9.4",e.Layout=c,e.View=function(e){var t;("el"in(e=e||{})?!1===e.el:!1===this.el)&&(t=!0),(e.manage||this.manage)&&c.setupView(this,e),this.__manager__&&(this.__manager__.noel=t,this.__manager__.suppressWarnings=e.suppressWarnings),i.apply(this,arguments)},e.View.extend=i.extend,e.View.prototype=i.prototype;var l={prefix:"",deferred:function(){return n.Deferred()},fetchTemplate:function(e){return t.template(n(e).html())},renderTemplate:function(e,t){return u(e.call(this,t))},serialize:function(){return this.model?t.clone(this.model.attributes):{}},partial:function(e,t,n,r){var i;r.selector&&(e=n.noel&&(i=e.filter(r.selector)).length?i:e.find(r.selector)),n.insert?this.insert(e,t,r.insertAt,r.selector):this.html(e,t)},html:function(e,t){e.html(t)},htmlBatch:function(e,r,i){var o=e.__manager__,a={selector:i},s=t.reduce(r,function(t,r){var i=("boolean"==typeof r.keep?r.keep:r.options.keep)&&n.contains(e.el,r.el);return r.el&&!i&&t.push(r.el),t},[]);return this.partial(e.$el,n(s),o,a)},insert:function(e,n,r,i){t.isNumber(r)?this.insertAtIndex(e,n,r,i):e.append(n)},insertAtIndex:function(e,t,n,r){var i,o=e.children();i=n<0?o.eq(Math.max(0,o.length+n)):o.eq(n);var a=this.views[r];n<0?n=Math.max(0,a.length-1+n):n+=1;var s=a[n];s?s.el.parentNode?t.insertBefore(s.$el):i.length?i.before(t):e.append(t):e.append(t)},when:function(e){return n.when.apply(null,e)},contains:function(e,t){return n.contains(e,t)}};return t.extend(c.prototype,l),c}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define("moment",t):e.moment=t()}(this,function(){"use strict";var e;function t(){return e.apply(null,arguments)}function n(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function r(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function i(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function o(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function a(e,t){var n,r=[];for(n=0;n<e.length;++n)r.push(t(e[n],n));return r}function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function u(e,t){for(var n in t)s(t,n)&&(e[n]=t[n]);return s(t,"toString")&&(e.toString=t.toString),s(t,"valueOf")&&(e.valueOf=t.valueOf),e}function c(e,t,n,r){return St(e,t,n,r,!0).utc()}function l(e){return null==e._pf&&(e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}),e._pf}var d=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),n=t.length>>>0,r=0;r<n;r++)if(r in t&&e.call(this,t[r],r,t))return!0;return!1};function p(e){if(null==e._isValid){var t=l(e),n=d.call(t.parsedDateParts,function(e){return null!=e}),r=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&n);if(e._strict&&(r=r&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return r;e._isValid=r}return e._isValid}function f(e){var t=c(NaN);return null!=e?u(l(t),e):l(t).userInvalidated=!0,t}function h(e){return void 0===e}var m=t.momentProperties=[];function g(e,t){var n,r,i;if(h(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),h(t._i)||(e._i=t._i),h(t._f)||(e._f=t._f),h(t._l)||(e._l=t._l),h(t._strict)||(e._strict=t._strict),h(t._tzm)||(e._tzm=t._tzm),h(t._isUTC)||(e._isUTC=t._isUTC),h(t._offset)||(e._offset=t._offset),h(t._pf)||(e._pf=l(t)),h(t._locale)||(e._locale=t._locale),m.length>0)for(n in m)h(i=t[r=m[n]])||(e[r]=i);return e}var y=!1;function v(e){g(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===y&&(y=!0,t.updateOffset(this),y=!1)}function b(e){return e instanceof v||null!=e&&null!=e._isAMomentObject}function _(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function w(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=_(t)),n}function A(e,t,n){var r,i=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),a=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&w(e[r])!==w(t[r]))&&a++;return a+o}function S(e){!1===t.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function T(e,n){var r=!0;return u(function(){if(null!=t.deprecationHandler&&t.deprecationHandler(null,e),r){for(var i,o=[],a=0;a<arguments.length;a++){if(i="","object"==typeof arguments[a]){for(var s in i+="\n["+a+"] ",arguments[0])i+=s+": "+arguments[0][s]+", ";i=i.slice(0,-2)}else i=arguments[a];o.push(i)}S(e+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),r=!1}return n.apply(this,arguments)},n)}var k={};function R(e,n){null!=t.deprecationHandler&&t.deprecationHandler(e,n),k[e]||(S(n),k[e]=!0)}function E(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function N(e,t){var n,i=u({},e);for(n in t)s(t,n)&&(r(e[n])&&r(t[n])?(i[n]={},u(i[n],e[n]),u(i[n],t[n])):null!=t[n]?i[n]=t[n]:delete i[n]);for(n in e)s(e,n)&&!s(t,n)&&r(e[n])&&(i[n]=u({},i[n]));return i}function O(e){null!=e&&this.set(e)}t.suppressDeprecationWarnings=!1,t.deprecationHandler=null;var C=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)s(e,t)&&n.push(t);return n};var M={};function P(e,t){var n=e.toLowerCase();M[n]=M[n+"s"]=M[t]=e}function x(e){return"string"==typeof e?M[e]||M[e.toLowerCase()]:void 0}function z(e){var t,n,r={};for(n in e)s(e,n)&&(t=x(n))&&(r[t]=e[n]);return r}var D={};function I(e,t){D[e]=t}function L(e,n){return function(r){return null!=r?(V(this,e,r),t.updateOffset(this,n),this):B(this,e)}}function B(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function V(e,t,n){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](n)}function j(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var H=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,q=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,U={},F={};function W(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(F[e]=i),t&&(F[t[0]]=function(){return j(i.apply(this,arguments),t[1],t[2])}),n&&(F[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function G(e,t){return e.isValid()?(t=$(t,e.localeData()),U[t]=U[t]||function(e){var t,n,r,i=e.match(H);for(t=0,n=i.length;t<n;t++)F[i[t]]?i[t]=F[i[t]]:i[t]=(r=i[t]).match(/\[[\s\S]/)?r.replace(/^\[|\]$/g,""):r.replace(/\\/g,"");return function(t){var r,o="";for(r=0;r<n;r++)o+=i[r]instanceof Function?i[r].call(t,e):i[r];return o}}(t),U[t](e)):e.localeData().invalidDate()}function $(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(q.lastIndex=0;n>=0&&q.test(e);)e=e.replace(q,r),q.lastIndex=0,n-=1;return e}var Y=/\d/,K=/\d\d/,Z=/\d{3}/,Q=/\d{4}/,X=/[+-]?\d{6}/,J=/\d\d?/,ee=/\d\d\d\d?/,te=/\d\d\d\d\d\d?/,ne=/\d{1,3}/,re=/\d{1,4}/,ie=/[+-]?\d{1,6}/,oe=/\d+/,ae=/[+-]?\d+/,se=/Z|[+-]\d\d:?\d\d/gi,ue=/Z|[+-]\d\d(?::?\d\d)?/gi,ce=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,le={};function de(e,t,n){le[e]=E(t)?t:function(e,r){return e&&n?n:t}}function pe(e,t){return s(le,e)?le[e](t._strict,t._locale):new RegExp(fe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i})))}function fe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var he={};function me(e,t){var n,r=t;for("string"==typeof e&&(e=[e]),i(t)&&(r=function(e,n){n[t]=w(e)}),n=0;n<e.length;n++)he[e[n]]=r}function ge(e,t){me(e,function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)})}function ye(e,t,n){null!=t&&s(he,e)&&he[e](t,n._a,n,e)}var ve=0,be=1,_e=2,we=3,Ae=4,Se=5,Te=6,ke=7,Re=8,Ee=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function Ne(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}W("M",["MM",2],"Mo",function(){return this.month()+1}),W("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),W("MMMM",0,0,function(e){return this.localeData().months(this,e)}),P("month","M"),I("month",8),de("M",J),de("MM",J,K),de("MMM",function(e,t){return t.monthsShortRegex(e)}),de("MMMM",function(e,t){return t.monthsRegex(e)}),me(["M","MM"],function(e,t){t[be]=w(e)-1}),me(["MMM","MMMM"],function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[be]=i:l(n).invalidMonth=e});var Oe=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ce="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var Me="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Pe(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=w(t);else if(!i(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Ne(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function xe(e){return null!=e?(Pe(this,e),t.updateOffset(this,!0),this):B(this,"Month")}var ze=ce;var De=ce;function Ie(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],o=[];for(t=0;t<12;t++)n=c([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),o.sort(e),t=0;t<12;t++)r[t]=fe(r[t]),i[t]=fe(i[t]);for(t=0;t<24;t++)o[t]=fe(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Le(e){return Be(e)?366:365}function Be(e){return e%4==0&&e%100!=0||e%400==0}W("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),W(0,["YY",2],0,function(){return this.year()%100}),W(0,["YYYY",4],0,"year"),W(0,["YYYYY",5],0,"year"),W(0,["YYYYYY",6,!0],0,"year"),P("year","y"),I("year",1),de("Y",ae),de("YY",J,K),de("YYYY",re,Q),de("YYYYY",ie,X),de("YYYYYY",ie,X),me(["YYYYY","YYYYYY"],ve),me("YYYY",function(e,n){n[ve]=2===e.length?t.parseTwoDigitYear(e):w(e)}),me("YY",function(e,n){n[ve]=t.parseTwoDigitYear(e)}),me("Y",function(e,t){t[ve]=parseInt(e,10)}),t.parseTwoDigitYear=function(e){return w(e)+(w(e)>68?1900:2e3)};var Ve=L("FullYear",!0);function je(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&e>=0&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function He(e,t,n){var r=7+t-n;return-((7+je(e,0,r).getUTCDay()-t)%7)+r-1}function qe(e,t,n,r,i){var o,a,s=1+7*(t-1)+(7+n-r)%7+He(e,r,i);return s<=0?a=Le(o=e-1)+s:s>Le(e)?(o=e+1,a=s-Le(e)):(o=e,a=s),{year:o,dayOfYear:a}}function Ue(e,t,n){var r,i,o=He(e.year(),t,n),a=Math.floor((e.dayOfYear()-o-1)/7)+1;return a<1?r=a+Fe(i=e.year()-1,t,n):a>Fe(e.year(),t,n)?(r=a-Fe(e.year(),t,n),i=e.year()+1):(i=e.year(),r=a),{week:r,year:i}}function Fe(e,t,n){var r=He(e,t,n),i=He(e+1,t,n);return(Le(e)-r+i)/7}W("w",["ww",2],"wo","week"),W("W",["WW",2],"Wo","isoWeek"),P("week","w"),P("isoWeek","W"),I("week",5),I("isoWeek",5),de("w",J),de("ww",J,K),de("W",J),de("WW",J,K),ge(["w","ww","W","WW"],function(e,t,n,r){t[r.substr(0,1)]=w(e)});W("d",0,"do","day"),W("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),W("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),W("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),W("e",0,0,"weekday"),W("E",0,0,"isoWeekday"),P("day","d"),P("weekday","e"),P("isoWeekday","E"),I("day",11),I("weekday",11),I("isoWeekday",11),de("d",J),de("e",J),de("E",J),de("dd",function(e,t){return t.weekdaysMinRegex(e)}),de("ddd",function(e,t){return t.weekdaysShortRegex(e)}),de("dddd",function(e,t){return t.weekdaysRegex(e)}),ge(["dd","ddd","dddd"],function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:l(n).invalidWeekday=e}),ge(["d","e","E"],function(e,t,n,r){t[r]=w(e)});var We="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var Ge="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var $e="Su_Mo_Tu_We_Th_Fr_Sa".split("_");var Ye=ce;var Ke=ce;var Ze=ce;function Qe(){function e(e,t){return t.length-e.length}var t,n,r,i,o,a=[],s=[],u=[],l=[];for(t=0;t<7;t++)n=c([2e3,1]).day(t),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),u.push(o),l.push(r),l.push(i),l.push(o);for(a.sort(e),s.sort(e),u.sort(e),l.sort(e),t=0;t<7;t++)s[t]=fe(s[t]),u[t]=fe(u[t]),l[t]=fe(l[t]);this._weekdaysRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Xe(){return this.hours()%12||12}function Je(e,t){W(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function et(e,t){return t._meridiemParse}W("H",["HH",2],0,"hour"),W("h",["hh",2],0,Xe),W("k",["kk",2],0,function(){return this.hours()||24}),W("hmm",0,0,function(){return""+Xe.apply(this)+j(this.minutes(),2)}),W("hmmss",0,0,function(){return""+Xe.apply(this)+j(this.minutes(),2)+j(this.seconds(),2)}),W("Hmm",0,0,function(){return""+this.hours()+j(this.minutes(),2)}),W("Hmmss",0,0,function(){return""+this.hours()+j(this.minutes(),2)+j(this.seconds(),2)}),Je("a",!0),Je("A",!1),P("hour","h"),I("hour",13),de("a",et),de("A",et),de("H",J),de("h",J),de("HH",J,K),de("hh",J,K),de("hmm",ee),de("hmmss",te),de("Hmm",ee),de("Hmmss",te),me(["H","HH"],we),me(["a","A"],function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e}),me(["h","hh"],function(e,t,n){t[we]=w(e),l(n).bigHour=!0}),me("hmm",function(e,t,n){var r=e.length-2;t[we]=w(e.substr(0,r)),t[Ae]=w(e.substr(r)),l(n).bigHour=!0}),me("hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[we]=w(e.substr(0,r)),t[Ae]=w(e.substr(r,2)),t[Se]=w(e.substr(i)),l(n).bigHour=!0}),me("Hmm",function(e,t,n){var r=e.length-2;t[we]=w(e.substr(0,r)),t[Ae]=w(e.substr(r))}),me("Hmmss",function(e,t,n){var r=e.length-4,i=e.length-2;t[we]=w(e.substr(0,r)),t[Ae]=w(e.substr(r,2)),t[Se]=w(e.substr(i))});var tt,nt=L("Hours",!0),rt={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",ordinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Ce,monthsShort:Me,week:{dow:0,doy:6},weekdays:We,weekdaysMin:$e,weekdaysShort:Ge,meridiemParse:/[ap]\.?m?\.?/i},it={},ot={};function at(e){return e?e.toLowerCase().replace("_","-"):e}function st(e){var t=null;if(!it[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=tt._abbr,require("./locale/"+e),ut(t)}catch(e){}return it[e]}function ut(e,t){var n;return e&&(n=h(t)?lt(e):ct(e,t))&&(tt=n),tt._abbr}function ct(e,t){if(null!==t){var n=rt;if(t.abbr=e,null!=it[e])R("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=it[e]._config;else if(null!=t.parentLocale){if(null==it[t.parentLocale])return ot[t.parentLocale]||(ot[t.parentLocale]=[]),ot[t.parentLocale].push({name:e,config:t}),null;n=it[t.parentLocale]._config}return it[e]=new O(N(n,t)),ot[e]&&ot[e].forEach(function(e){ct(e.name,e.config)}),ut(e),it[e]}return delete it[e],null}function lt(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return tt;if(!n(e)){if(t=st(e))return t;e=[e]}return function(e){for(var t,n,r,i,o=0;o<e.length;){for(t=(i=at(e[o]).split("-")).length,n=(n=at(e[o+1]))?n.split("-"):null;t>0;){if(r=st(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&A(i,n,!0)>=t-1)break;t--}o++}return null}(e)}function dt(e){var t,n=e._a;return n&&-2===l(e).overflow&&(t=n[be]<0||n[be]>11?be:n[_e]<1||n[_e]>Ne(n[ve],n[be])?_e:n[we]<0||n[we]>24||24===n[we]&&(0!==n[Ae]||0!==n[Se]||0!==n[Te])?we:n[Ae]<0||n[Ae]>59?Ae:n[Se]<0||n[Se]>59?Se:n[Te]<0||n[Te]>999?Te:-1,l(e)._overflowDayOfYear&&(t<ve||t>_e)&&(t=_e),l(e)._overflowWeeks&&-1===t&&(t=ke),l(e)._overflowWeekday&&-1===t&&(t=Re),l(e).overflow=t),e}var pt=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ft=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ht=/Z|[+-]\d\d(?::?\d\d)?/,mt=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],gt=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],yt=/^\/?Date\((\-?\d+)/i;function vt(e){var t,n,r,i,o,a,s=e._i,u=pt.exec(s)||ft.exec(s);if(u){for(l(e).iso=!0,t=0,n=mt.length;t<n;t++)if(mt[t][1].exec(u[1])){i=mt[t][0],r=!1!==mt[t][2];break}if(null==i)return void(e._isValid=!1);if(u[3]){for(t=0,n=gt.length;t<n;t++)if(gt[t][1].exec(u[3])){o=(u[2]||" ")+gt[t][0];break}if(null==o)return void(e._isValid=!1)}if(!r&&null!=o)return void(e._isValid=!1);if(u[4]){if(!ht.exec(u[4]))return void(e._isValid=!1);a="Z"}e._f=i+(o||"")+(a||""),wt(e)}else e._isValid=!1}function bt(e,t,n){return null!=e?e:null!=t?t:n}function _t(e){var n,r,i,o,a=[];if(!e._d){for(i=function(e){var n=new Date(t.now());return e._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}(e),e._w&&null==e._a[_e]&&null==e._a[be]&&function(e){var t,n,r,i,o,a,s,u;if(null!=(t=e._w).GG||null!=t.W||null!=t.E)o=1,a=4,n=bt(t.GG,e._a[ve],Ue(Tt(),1,4).year),r=bt(t.W,1),((i=bt(t.E,1))<1||i>7)&&(u=!0);else{o=e._locale._week.dow,a=e._locale._week.doy;var c=Ue(Tt(),o,a);n=bt(t.gg,e._a[ve],c.year),r=bt(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(u=!0):null!=t.e?(i=t.e+o,(t.e<0||t.e>6)&&(u=!0)):i=o}r<1||r>Fe(n,o,a)?l(e)._overflowWeeks=!0:null!=u?l(e)._overflowWeekday=!0:(s=qe(n,r,i,o,a),e._a[ve]=s.year,e._dayOfYear=s.dayOfYear)}(e),e._dayOfYear&&(o=bt(e._a[ve],i[ve]),e._dayOfYear>Le(o)&&(l(e)._overflowDayOfYear=!0),r=je(o,0,e._dayOfYear),e._a[be]=r.getUTCMonth(),e._a[_e]=r.getUTCDate()),n=0;n<3&&null==e._a[n];++n)e._a[n]=a[n]=i[n];for(;n<7;n++)e._a[n]=a[n]=null==e._a[n]?2===n?1:0:e._a[n];24===e._a[we]&&0===e._a[Ae]&&0===e._a[Se]&&0===e._a[Te]&&(e._nextDay=!0,e._a[we]=0),e._d=(e._useUTC?je:function(e,t,n,r,i,o,a){var s=new Date(e,t,n,r,i,o,a);return e<100&&e>=0&&isFinite(s.getFullYear())&&s.setFullYear(e),s}).apply(null,a),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[we]=24)}}function wt(e){if(e._f!==t.ISO_8601){e._a=[],l(e).empty=!0;var n,r,i,o,a,s=""+e._i,u=s.length,c=0;for(i=$(e._f,e._locale).match(H)||[],n=0;n<i.length;n++)o=i[n],(r=(s.match(pe(o,e))||[])[0])&&((a=s.substr(0,s.indexOf(r))).length>0&&l(e).unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),c+=r.length),F[o]?(r?l(e).empty=!1:l(e).unusedTokens.push(o),ye(o,r,e)):e._strict&&!r&&l(e).unusedTokens.push(o);l(e).charsLeftOver=u-c,s.length>0&&l(e).unusedInput.push(s),e._a[we]<=12&&!0===l(e).bigHour&&e._a[we]>0&&(l(e).bigHour=void 0),l(e).parsedDateParts=e._a.slice(0),l(e).meridiem=e._meridiem,e._a[we]=function(e,t,n){var r;if(null==n)return t;return null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}(e._locale,e._a[we],e._meridiem),_t(e),dt(e)}else vt(e)}function At(e){var r=e._i,s=e._f;return e._locale=e._locale||lt(e._l),null===r||void 0===s&&""===r?f({nullInput:!0}):("string"==typeof r&&(e._i=r=e._locale.preparse(r)),b(r)?new v(dt(r)):(o(r)?e._d=r:n(s)?function(e){var t,n,r,i,o;if(0===e._f.length)return l(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<e._f.length;i++)o=0,t=g({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],wt(t),p(t)&&(o+=l(t).charsLeftOver,o+=10*l(t).unusedTokens.length,l(t).score=o,(null==r||o<r)&&(r=o,n=t));u(e,n||t)}(e):s?wt(e):function(e){var r=e._i;void 0===r?e._d=new Date(t.now()):o(r)?e._d=new Date(r.valueOf()):"string"==typeof r?function(e){var n=yt.exec(e._i);null===n?(vt(e),!1===e._isValid&&(delete e._isValid,t.createFromInputFallback(e))):e._d=new Date(+n[1])}(e):n(r)?(e._a=a(r.slice(0),function(e){return parseInt(e,10)}),_t(e)):"object"==typeof r?function(e){if(!e._d){var t=z(e._i);e._a=a([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),_t(e)}}(e):i(r)?e._d=new Date(r):t.createFromInputFallback(e)}(e),p(e)||(e._d=null),e))}function St(e,t,i,o,a){var s,u={};return!0!==i&&!1!==i||(o=i,i=void 0),(r(e)&&function(e){var t;for(t in e)return!1;return!0}(e)||n(e)&&0===e.length)&&(e=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=a,u._l=i,u._i=e,u._f=t,u._strict=o,(s=new v(dt(At(u))))._nextDay&&(s.add(1,"d"),s._nextDay=void 0),s}function Tt(e,t,n,r){return St(e,t,n,r,!1)}t.createFromInputFallback=T("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),t.ISO_8601=function(){};var kt=T("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Tt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:f()}),Rt=T("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=Tt.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:f()});function Et(e,t){var r,i;if(1===t.length&&n(t[0])&&(t=t[0]),!t.length)return Tt();for(r=t[0],i=1;i<t.length;++i)t[i].isValid()&&!t[i][e](r)||(r=t[i]);return r}function Nt(e){var t=z(e),n=t.year||0,r=t.quarter||0,i=t.month||0,o=t.week||0,a=t.day||0,s=t.hour||0,u=t.minute||0,c=t.second||0,l=t.millisecond||0;this._milliseconds=+l+1e3*c+6e4*u+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=lt(),this._bubble()}function Ot(e){return e instanceof Nt}function Ct(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Mt(e,t){W(e,0,0,function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+j(~~(e/60),2)+t+j(~~e%60,2)})}Mt("Z",":"),Mt("ZZ",""),de("Z",ue),de("ZZ",ue),me(["Z","ZZ"],function(e,t,n){n._useUTC=!0,n._tzm=xt(ue,e)});var Pt=/([\+\-]|\d\d)/gi;function xt(e,t){var n=(t||"").match(e);if(null===n)return null;var r=((n[n.length-1]||[])+"").match(Pt)||["-",0,0],i=60*r[1]+w(r[2]);return 0===i?0:"+"===r[0]?i:-i}function zt(e,n){var r,i;return n._isUTC?(r=n.clone(),i=(b(e)||o(e)?e.valueOf():Tt(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),t.updateOffset(r,!1),r):Tt(e).local()}function Dt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function It(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}t.updateOffset=function(){};var Lt=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Bt=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;function Vt(e,t){var n,r,o,a=e,u=null;return Ot(e)?a={ms:e._milliseconds,d:e._days,M:e._months}:i(e)?(a={},t?a[t]=e:a.milliseconds=e):(u=Lt.exec(e))?(n="-"===u[1]?-1:1,a={y:0,d:w(u[_e])*n,h:w(u[we])*n,m:w(u[Ae])*n,s:w(u[Se])*n,ms:w(Ct(1e3*u[Te]))*n}):(u=Bt.exec(e))?(n="-"===u[1]?-1:1,a={y:jt(u[2],n),M:jt(u[3],n),w:jt(u[4],n),d:jt(u[5],n),h:jt(u[6],n),m:jt(u[7],n),s:jt(u[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(o=function(e,t){var n;if(!e.isValid()||!t.isValid())return{milliseconds:0,months:0};t=zt(t,e),e.isBefore(t)?n=Ht(e,t):((n=Ht(t,e)).milliseconds=-n.milliseconds,n.months=-n.months);return n}(Tt(a.from),Tt(a.to)),(a={}).ms=o.milliseconds,a.M=o.months),r=new Nt(a),Ot(e)&&s(e,"_locale")&&(r._locale=e._locale),r}function jt(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Ht(e,t){var n={milliseconds:0,months:0};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function qt(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(R(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Ut(this,Vt(n="string"==typeof n?+n:n,r),e),this}}function Ut(e,n,r,i){var o=n._milliseconds,a=Ct(n._days),s=Ct(n._months);e.isValid()&&(i=null==i||i,o&&e._d.setTime(e._d.valueOf()+o*r),a&&V(e,"Date",B(e,"Date")+a*r),s&&Pe(e,B(e,"Month")+s*r),i&&t.updateOffset(e,a||s))}Vt.fn=Nt.prototype;var Ft=qt(1,"add"),Wt=qt(-1,"subtract");function Gt(e){var t;return void 0===e?this._locale._abbr:(null!=(t=lt(e))&&(this._locale=t),this)}t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",t.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var $t=T("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return void 0===e?this.localeData():this.locale(e)});function Yt(){return this._locale}function Kt(e,t){W(0,[e,e.length],0,t)}function Zt(e,t,n,r,i){var o;return null==e?Ue(this,r,i).year:(t>(o=Fe(e,r,i))&&(t=o),function(e,t,n,r,i){var o=qe(e,t,n,r,i),a=je(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}.call(this,e,t,n,r,i))}W(0,["gg",2],0,function(){return this.weekYear()%100}),W(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Kt("gggg","weekYear"),Kt("ggggg","weekYear"),Kt("GGGG","isoWeekYear"),Kt("GGGGG","isoWeekYear"),P("weekYear","gg"),P("isoWeekYear","GG"),I("weekYear",1),I("isoWeekYear",1),de("G",ae),de("g",ae),de("GG",J,K),de("gg",J,K),de("GGGG",re,Q),de("gggg",re,Q),de("GGGGG",ie,X),de("ggggg",ie,X),ge(["gggg","ggggg","GGGG","GGGGG"],function(e,t,n,r){t[r.substr(0,2)]=w(e)}),ge(["gg","GG"],function(e,n,r,i){n[i]=t.parseTwoDigitYear(e)}),W("Q",0,"Qo","quarter"),P("quarter","Q"),I("quarter",7),de("Q",Y),me("Q",function(e,t){t[be]=3*(w(e)-1)}),W("D",["DD",2],"Do","date"),P("date","D"),I("date",9),de("D",J),de("DD",J,K),de("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),me(["D","DD"],_e),me("Do",function(e,t){t[_e]=w(e.match(J)[0])});var Qt=L("Date",!0);W("DDD",["DDDD",3],"DDDo","dayOfYear"),P("dayOfYear","DDD"),I("dayOfYear",4),de("DDD",ne),de("DDDD",Z),me(["DDD","DDDD"],function(e,t,n){n._dayOfYear=w(e)}),W("m",["mm",2],0,"minute"),P("minute","m"),I("minute",14),de("m",J),de("mm",J,K),me(["m","mm"],Ae);var Xt=L("Minutes",!1);W("s",["ss",2],0,"second"),P("second","s"),I("second",15),de("s",J),de("ss",J,K),me(["s","ss"],Se);var Jt,en=L("Seconds",!1);for(W("S",0,0,function(){return~~(this.millisecond()/100)}),W(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),W(0,["SSS",3],0,"millisecond"),W(0,["SSSS",4],0,function(){return 10*this.millisecond()}),W(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),W(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),W(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),W(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),W(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),P("millisecond","ms"),I("millisecond",16),de("S",ne,Y),de("SS",ne,K),de("SSS",ne,Z),Jt="SSSS";Jt.length<=9;Jt+="S")de(Jt,oe);function tn(e,t){t[Te]=w(1e3*("0."+e))}for(Jt="S";Jt.length<=9;Jt+="S")me(Jt,tn);var nn=L("Milliseconds",!1);W("z",0,0,"zoneAbbr"),W("zz",0,0,"zoneName");var rn=v.prototype;function on(e){return e}rn.add=Ft,rn.calendar=function(e,n){var r=e||Tt(),i=zt(r,this).startOf("day"),o=t.calendarFormat(this,i)||"sameElse",a=n&&(E(n[o])?n[o].call(this,r):n[o]);return this.format(a||this.localeData().calendar(o,this,Tt(r)))},rn.clone=function(){return new v(this)},rn.diff=function(e,t,n){var r,i,o,a;return this.isValid()&&(r=zt(e,this)).isValid()?(i=6e4*(r.utcOffset()-this.utcOffset()),"year"===(t=x(t))||"month"===t||"quarter"===t?(s=this,u=r,d=12*(u.year()-s.year())+(u.month()-s.month()),p=s.clone().add(d,"months"),u-p<0?(c=s.clone().add(d-1,"months"),l=(u-p)/(p-c)):(c=s.clone().add(d+1,"months"),l=(u-p)/(c-p)),a=-(d+l)||0,"quarter"===t?a/=3:"year"===t&&(a/=12)):(o=this-r,a="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-i)/864e5:"week"===t?(o-i)/6048e5:o),n?a:_(a)):NaN;var s,u,c,l,d,p},rn.endOf=function(e){return void 0===(e=x(e))||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))},rn.format=function(e){e||(e=this.isUtc()?t.defaultFormatUtc:t.defaultFormat);var n=G(this,e);return this.localeData().postformat(n)},rn.from=function(e,t){return this.isValid()&&(b(e)&&e.isValid()||Tt(e).isValid())?Vt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},rn.fromNow=function(e){return this.from(Tt(),e)},rn.to=function(e,t){return this.isValid()&&(b(e)&&e.isValid()||Tt(e).isValid())?Vt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()},rn.toNow=function(e){return this.to(Tt(),e)},rn.get=function(e){return E(this[e=x(e)])?this[e]():this},rn.invalidAt=function(){return l(this).overflow},rn.isAfter=function(e,t){var n=b(e)?e:Tt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=x(h(t)?"millisecond":t))?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())},rn.isBefore=function(e,t){var n=b(e)?e:Tt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=x(h(t)?"millisecond":t))?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())},rn.isBetween=function(e,t,n,r){return("("===(r=r||"()")[0]?this.isAfter(e,n):!this.isBefore(e,n))&&(")"===r[1]?this.isBefore(t,n):!this.isAfter(t,n))},rn.isSame=function(e,t){var n,r=b(e)?e:Tt(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=x(t||"millisecond"))?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))},rn.isSameOrAfter=function(e,t){return this.isSame(e,t)||this.isAfter(e,t)},rn.isSameOrBefore=function(e,t){return this.isSame(e,t)||this.isBefore(e,t)},rn.isValid=function(){return p(this)},rn.lang=$t,rn.locale=Gt,rn.localeData=Yt,rn.max=Rt,rn.min=kt,rn.parsingFlags=function(){return u({},l(this))},rn.set=function(e,t){if("object"==typeof e)for(var n=function(e){var t=[];for(var n in e)t.push({unit:n,priority:D[n]});return t.sort(function(e,t){return e.priority-t.priority}),t}(e=z(e)),r=0;r<n.length;r++)this[n[r].unit](e[n[r].unit]);else if(E(this[e=x(e)]))return this[e](t);return this},rn.startOf=function(e){switch(e=x(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this},rn.subtract=Wt,rn.toArray=function(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]},rn.toObject=function(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}},rn.toDate=function(){return new Date(this.valueOf())},rn.toISOString=function(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?E(Date.prototype.toISOString)?this.toDate().toISOString():G(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):G(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},rn.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="";this.isLocal()||(e=0===this.utcOffset()?"moment.utc":"moment.parseZone",t="Z");var n="["+e+'("]',r=0<this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=t+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)},rn.toJSON=function(){return this.isValid()?this.toISOString():null},rn.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},rn.unix=function(){return Math.floor(this.valueOf()/1e3)},rn.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},rn.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},rn.year=Ve,rn.isLeapYear=function(){return Be(this.year())},rn.weekYear=function(e){return Zt.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},rn.isoWeekYear=function(e){return Zt.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)},rn.quarter=rn.quarters=function(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)},rn.month=xe,rn.daysInMonth=function(){return Ne(this.year(),this.month())},rn.week=rn.weeks=function(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")},rn.isoWeek=rn.isoWeeks=function(e){var t=Ue(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")},rn.weeksInYear=function(){var e=this.localeData()._week;return Fe(this.year(),e.dow,e.doy)},rn.isoWeeksInYear=function(){return Fe(this.year(),1,4)},rn.date=Qt,rn.day=rn.days=function(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=function(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}(e,this.localeData()),this.add(e-t,"d")):t},rn.weekday=function(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")},rn.isoWeekday=function(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=function(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7},rn.dayOfYear=function(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")},rn.hour=rn.hours=nt,rn.minute=rn.minutes=Xt,rn.second=rn.seconds=en,rn.millisecond=rn.milliseconds=nn,rn.utcOffset=function(e,n){var r,i=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=xt(ue,e)))return this}else Math.abs(e)<16&&(e*=60);return!this._isUTC&&n&&(r=Dt(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==e&&(!n||this._changeInProgress?Ut(this,Vt(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?i:Dt(this)},rn.utc=function(e){return this.utcOffset(0,e)},rn.local=function(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Dt(this),"m")),this},rn.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){var e=xt(se,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this},rn.hasAlignedHourOffset=function(e){return!!this.isValid()&&(e=e?Tt(e).utcOffset():0,(this.utcOffset()-e)%60==0)},rn.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},rn.isLocal=function(){return!!this.isValid()&&!this._isUTC},rn.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},rn.isUtc=It,rn.isUTC=It,rn.zoneAbbr=function(){return this._isUTC?"UTC":""},rn.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},rn.dates=T("dates accessor is deprecated. Use date instead.",Qt),rn.months=T("months accessor is deprecated. Use month instead",xe),rn.years=T("years accessor is deprecated. Use year instead",Ve),rn.zone=T("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}),rn.isDSTShifted=T("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!h(this._isDSTShifted))return this._isDSTShifted;var e={};if(g(e,this),(e=At(e))._a){var t=e._isUTC?c(e._a):Tt(e._a);this._isDSTShifted=this.isValid()&&A(e._a,t.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var an=O.prototype;function sn(e,t,n,r){var i=lt(),o=c().set(r,t);return i[n](o,e)}function un(e,t,n){if(i(e)&&(t=e,e=void 0),e=e||"",null!=t)return sn(e,t,n,"month");var r,o=[];for(r=0;r<12;r++)o[r]=sn(e,r,n,"month");return o}function cn(e,t,n,r){"boolean"==typeof e?(i(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,i(t)&&(n=t,t=void 0),t=t||"");var o,a=lt(),s=e?a._week.dow:0;if(null!=n)return sn(t,(n+s)%7,r,"day");var u=[];for(o=0;o<7;o++)u[o]=sn(t,(o+s)%7,r,"day");return u}an.calendar=function(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return E(r)?r.call(t,n):r},an.longDateFormat=function(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])},an.invalidDate=function(){return this._invalidDate},an.ordinal=function(e){return this._ordinal.replace("%d",e)},an.preparse=on,an.postformat=on,an.relativeTime=function(e,t,n,r){var i=this._relativeTime[n];return E(i)?i(e,t,n,r):i.replace(/%d/i,e)},an.pastFuture=function(e,t){var n=this._relativeTime[e>0?"future":"past"];return E(n)?n(t):n.replace(/%s/i,t)},an.set=function(e){var t,n;for(n in e)E(t=e[n])?this[n]=t:this["_"+n]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},an.months=function(e,t){return e?n(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||Oe).test(t)?"format":"standalone"][e.month()]:this._months},an.monthsShort=function(e,t){return e?n(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[Oe.test(t)?"format":"standalone"][e.month()]:this._monthsShort},an.monthsParse=function(e,t,n){var r,i,o;if(this._monthsParseExact)return function(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=c([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Ee.call(this._shortMonthsParse,a))?i:null:-1!==(i=Ee.call(this._longMonthsParse,a))?i:null:"MMM"===t?-1!==(i=Ee.call(this._shortMonthsParse,a))?i:-1!==(i=Ee.call(this._longMonthsParse,a))?i:null:-1!==(i=Ee.call(this._longMonthsParse,a))?i:-1!==(i=Ee.call(this._shortMonthsParse,a))?i:null}.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=c([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}},an.monthsRegex=function(e){return this._monthsParseExact?(s(this,"_monthsRegex")||Ie.call(this),e?this._monthsStrictRegex:this._monthsRegex):(s(this,"_monthsRegex")||(this._monthsRegex=De),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)},an.monthsShortRegex=function(e){return this._monthsParseExact?(s(this,"_monthsRegex")||Ie.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(s(this,"_monthsShortRegex")||(this._monthsShortRegex=ze),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)},an.week=function(e){return Ue(e,this._week.dow,this._week.doy).week},an.firstDayOfYear=function(){return this._week.doy},an.firstDayOfWeek=function(){return this._week.dow},an.weekdays=function(e,t){return e?n(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:this._weekdays},an.weekdaysMin=function(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin},an.weekdaysShort=function(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort},an.weekdaysParse=function(e,t,n){var r,i,o;if(this._weekdaysParseExact)return function(e,t,n){var r,i,o,a=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=c([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Ee.call(this._weekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Ee.call(this._shortWeekdaysParse,a))?i:null:-1!==(i=Ee.call(this._minWeekdaysParse,a))?i:null:"dddd"===t?-1!==(i=Ee.call(this._weekdaysParse,a))?i:-1!==(i=Ee.call(this._shortWeekdaysParse,a))?i:-1!==(i=Ee.call(this._minWeekdaysParse,a))?i:null:"ddd"===t?-1!==(i=Ee.call(this._shortWeekdaysParse,a))?i:-1!==(i=Ee.call(this._weekdaysParse,a))?i:-1!==(i=Ee.call(this._minWeekdaysParse,a))?i:null:-1!==(i=Ee.call(this._minWeekdaysParse,a))?i:-1!==(i=Ee.call(this._weekdaysParse,a))?i:-1!==(i=Ee.call(this._shortWeekdaysParse,a))?i:null}.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=c([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".",".?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}},an.weekdaysRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Qe.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(s(this,"_weekdaysRegex")||(this._weekdaysRegex=Ye),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)},an.weekdaysShortRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Qe.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(s(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ke),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},an.weekdaysMinRegex=function(e){return this._weekdaysParseExact?(s(this,"_weekdaysRegex")||Qe.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(s(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ze),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},an.isPM=function(e){return"p"===(e+"").toLowerCase().charAt(0)},an.meridiem=function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},ut("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===w(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),t.lang=T("moment.lang is deprecated. Use moment.locale instead.",ut),t.langData=T("moment.langData is deprecated. Use moment.localeData instead.",lt);var ln=Math.abs;function dn(e,t,n,r){var i=Vt(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function pn(e){return e<0?Math.floor(e):Math.ceil(e)}function fn(e){return 4800*e/146097}function hn(e){return 146097*e/4800}function mn(e){return function(){return this.as(e)}}var gn=mn("ms"),yn=mn("s"),vn=mn("m"),bn=mn("h"),_n=mn("d"),wn=mn("w"),An=mn("M"),Sn=mn("y");function Tn(e){return function(){return this._data[e]}}var kn=Tn("milliseconds"),Rn=Tn("seconds"),En=Tn("minutes"),Nn=Tn("hours"),On=Tn("days"),Cn=Tn("months"),Mn=Tn("years");var Pn=Math.round,xn={s:45,m:45,h:22,d:26,M:11};var zn=Math.abs;function Dn(){var e,t,n=zn(this._milliseconds)/1e3,r=zn(this._days),i=zn(this._months);t=_((e=_(n/60))/60),n%=60,e%=60;var o=_(i/12),a=i%=12,s=r,u=t,c=e,l=n,d=this.asSeconds();return d?(d<0?"-":"")+"P"+(o?o+"Y":"")+(a?a+"M":"")+(s?s+"D":"")+(u||c||l?"T":"")+(u?u+"H":"")+(c?c+"M":"")+(l?l+"S":""):"P0D"}var In=Nt.prototype;return In.abs=function(){var e=this._data;return this._milliseconds=ln(this._milliseconds),this._days=ln(this._days),this._months=ln(this._months),e.milliseconds=ln(e.milliseconds),e.seconds=ln(e.seconds),e.minutes=ln(e.minutes),e.hours=ln(e.hours),e.months=ln(e.months),e.years=ln(e.years),this},In.add=function(e,t){return dn(this,e,t,1)},In.subtract=function(e,t){return dn(this,e,t,-1)},In.as=function(e){var t,n,r=this._milliseconds;if("month"===(e=x(e))||"year"===e)return t=this._days+r/864e5,n=this._months+fn(t),"month"===e?n:n/12;switch(t=this._days+Math.round(hn(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}},In.asMilliseconds=gn,In.asSeconds=yn,In.asMinutes=vn,In.asHours=bn,In.asDays=_n,In.asWeeks=wn,In.asMonths=An,In.asYears=Sn,In.valueOf=function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12)},In._bubble=function(){var e,t,n,r,i,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*pn(hn(s)+a),a=0,s=0),u.milliseconds=o%1e3,e=_(o/1e3),u.seconds=e%60,t=_(e/60),u.minutes=t%60,n=_(t/60),u.hours=n%24,s+=i=_(fn(a+=_(n/24))),a-=pn(hn(i)),r=_(s/12),s%=12,u.days=a,u.months=s,u.years=r,this},In.get=function(e){return this[(e=x(e))+"s"]()},In.milliseconds=kn,In.seconds=Rn,In.minutes=En,In.hours=Nn,In.days=On,In.weeks=function(){return _(this.days()/7)},In.months=Cn,In.years=Mn,In.humanize=function(e){var t=this.localeData(),n=function(e,t,n){var r=Vt(e).abs(),i=Pn(r.as("s")),o=Pn(r.as("m")),a=Pn(r.as("h")),s=Pn(r.as("d")),u=Pn(r.as("M")),c=Pn(r.as("y")),l=i<xn.s&&["s",i]||o<=1&&["m"]||o<xn.m&&["mm",o]||a<=1&&["h"]||a<xn.h&&["hh",a]||s<=1&&["d"]||s<xn.d&&["dd",s]||u<=1&&["M"]||u<xn.M&&["MM",u]||c<=1&&["y"]||["yy",c];return l[2]=t,l[3]=+e>0,l[4]=n,function(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}.apply(null,l)}(this,!e,t);return e&&(n=t.pastFuture(+this,n)),t.postformat(n)},In.toISOString=Dn,In.toString=Dn,In.toJSON=Dn,In.locale=Gt,In.localeData=Yt,In.toIsoString=T("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Dn),In.lang=$t,W("X",0,0,"unix"),W("x",0,0,"valueOf"),de("x",ae),de("X",/[+-]?\d+(\.\d{1,3})?/),me("X",function(e,t,n){n._d=new Date(1e3*parseFloat(e,10))}),me("x",function(e,t,n){n._d=new Date(w(e))}),t.version="2.17.0",e=Tt,t.fn=rn,t.min=function(){return Et("isBefore",[].slice.call(arguments,0))},t.max=function(){return Et("isAfter",[].slice.call(arguments,0))},t.now=function(){return Date.now?Date.now():+new Date},t.utc=c,t.unix=function(e){return Tt(1e3*e)},t.months=function(e,t){return un(e,t,"months")},t.isDate=o,t.locale=ut,t.invalid=f,t.duration=Vt,t.isMoment=b,t.weekdays=function(e,t,n){return cn(e,t,n,"weekdays")},t.parseZone=function(){return Tt.apply(null,arguments).parseZone()},t.localeData=lt,t.isDuration=Ot,t.monthsShort=function(e,t){return un(e,t,"monthsShort")},t.weekdaysMin=function(e,t,n){return cn(e,t,n,"weekdaysMin")},t.defineLocale=ct,t.updateLocale=function(e,t){if(null!=t){var n,r=rt;null!=it[e]&&(r=it[e]._config),(n=new O(t=N(r,t))).parentLocale=it[e],it[e]=n,ut(e)}else null!=it[e]&&(null!=it[e].parentLocale?it[e]=it[e].parentLocale:null!=it[e]&&delete it[e]);return it[e]},t.locales=function(){return C(it)},t.weekdaysShort=function(e,t,n){return cn(e,t,n,"weekdaysShort")},t.normalizeUnits=x,t.relativeTimeRounding=function(e){return void 0===e?Pn:"function"==typeof e&&(Pn=e,!0)},t.relativeTimeThreshold=function(e,t){return void 0!==xn[e]&&(void 0===t?xn[e]:(xn[e]=t,!0))},t.calendarFormat=function(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"},t.prototype=rn,t}),"undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");!function(e){"use strict";var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1==t[0]&&9==t[1]&&t[2]<1)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher")}(jQuery),function(e){"use strict";var t=function(n,r){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,r),this.isLoading=!1};function n(n){return this.each(function(){var r=e(this),i=r.data("bs.button"),o="object"==typeof n&&n;i||r.data("bs.button",i=new t(this,o)),"toggle"==n?i.toggle():n&&i.setState(n)})}t.VERSION="3.3.2",t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(t){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",o=r.data();t+="Text",null==o.resetText&&r.data("resetText",r[i]()),setTimeout(e.proxy(function(){r[i](null==o[t]?this.options[t]:o[t]),"loadingText"==t?(this.isLoading=!0,r.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n))},this),0)},t.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");"radio"==n.prop("type")&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("active"));e&&this.$element.toggleClass("active")};var r=e.fn.button;e.fn.button=n,e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=r,this},e(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(t){var r=e(t.target);r.hasClass("btn")||(r=r.closest(".btn")),n.call(r,"toggle"),t.preventDefault()}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(t){e(t.target).closest(".btn").toggleClass("focus",/^focus(in)?$/.test(t.type))})}(jQuery),function(e){"use strict";var t=".dropdown-backdrop",n='[data-toggle="dropdown"]',r=function(t){e(t).on("click.bs.dropdown",this.toggle)};function i(r){r&&3===r.which||(e(t).remove(),e(n).each(function(){var t=e(this),n=o(t),i={relatedTarget:this};n.hasClass("open")&&(n.trigger(r=e.Event("hide.bs.dropdown",i)),r.isDefaultPrevented()||(t.attr("aria-expanded","false"),n.removeClass("open").trigger("hidden.bs.dropdown",i)))}))}function o(t){var n=t.attr("data-target");n||(n=(n=t.attr("href"))&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}r.VERSION="3.3.2",r.prototype.toggle=function(t){var n=e(this);if(!n.is(".disabled, :disabled")){var r=o(n),a=r.hasClass("open");if(i(),!a){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",i);var s={relatedTarget:this};if(r.trigger(t=e.Event("show.bs.dropdown",s)),t.isDefaultPrevented())return;n.trigger("focus").attr("aria-expanded","true"),r.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},r.prototype.keydown=function(t){if(/(38|40|27|32)/.test(t.which)&&!/input|textarea/i.test(t.target.tagName)){var r=e(this);if(t.preventDefault(),t.stopPropagation(),!r.is(".disabled, :disabled")){var i=o(r),a=i.hasClass("open");if(!a&&27!=t.which||a&&27==t.which)return 27==t.which&&i.find(n).trigger("focus"),r.trigger("click");var s=" li:not(.divider):visible a",u=i.find('[role="menu"]'+s+', [role="listbox"]'+s);if(u.length){var c=u.index(t.target);38==t.which&&c>0&&c--,40==t.which&&c<u.length-1&&c++,~c||(c=0),u.eq(c).trigger("focus")}}}};var a=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new r(this)),"string"==typeof t&&i[t].call(n)})},e.fn.dropdown.Constructor=r,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=a,this},e(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",n,r.prototype.toggle).on("keydown.bs.dropdown.data-api",n,r.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="menu"]',r.prototype.keydown).on("keydown.bs.dropdown.data-api",'[role="listbox"]',r.prototype.keydown)}(jQuery),function(e){"use strict";var t=function(t,n){this.options=n,this.$body=e(document.body),this.$element=e(t),this.$backdrop=this.isShown=null,this.scrollbarWidth=0,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};function n(n,r){return this.each(function(){var i=e(this),o=i.data("bs.modal"),a=e.extend({},t.DEFAULTS,i.data(),"object"==typeof n&&n);o||i.data("bs.modal",o=new t(this,a)),"string"==typeof n?o[n](r):a.show&&o.show(r)})}t.VERSION="3.3.2",t.TRANSITION_DURATION=300,t.BACKDROP_TRANSITION_DURATION=150,t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this.isShown?this.hide():this.show(e)},t.prototype.show=function(n){var r=this,i=e.Event("show.bs.modal",{relatedTarget:n});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var i=e.support.transition&&r.$element.hasClass("fade");r.$element.parent().length||r.$element.appendTo(r.$body),r.$element.show().scrollTop(0),r.options.backdrop&&r.adjustBackdrop(),r.adjustDialog(),i&&r.$element[0].offsetWidth,r.$element.addClass("in").attr("aria-hidden",!1),r.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:n});i?r.$element.find(".modal-dialog").one("bsTransitionEnd",function(){r.$element.trigger("focus").trigger(o)}).emulateTransitionEnd(t.TRANSITION_DURATION):r.$element.trigger("focus").trigger(o)}))},t.prototype.hide=function(n){n&&n.preventDefault(),n=e.Event("hide.bs.modal"),this.$element.trigger(n),this.isShown&&!n.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one("bsTransitionEnd",e.proxy(this.hideModal,this)).emulateTransitionEnd(t.TRANSITION_DURATION):this.hideModal())},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.trigger("focus")},this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},t.prototype.resize=function(){this.isShown?e(window).on("resize.bs.modal",e.proxy(this.handleUpdate,this)):e(window).off("resize.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.$body.removeClass("modal-open"),e.resetAdjustments(),e.resetScrollbar(),e.$element.trigger("hidden.bs.modal")})},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(n){var r=this,i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var o=e.support.transition&&i;if(this.$backdrop=e('<div class="modal-backdrop '+i+'" />').prependTo(this.$element).on("click.dismiss.bs.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),o&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!n)return;o?this.$backdrop.one("bsTransitionEnd",n).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):n()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");var a=function(){r.removeBackdrop(),n&&n()};e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(t.BACKDROP_TRANSITION_DURATION):a()}else n&&n()},t.prototype.handleUpdate=function(){this.options.backdrop&&this.adjustBackdrop(),this.adjustDialog()},t.prototype.adjustBackdrop=function(){this.$backdrop.css("height",0).css("height",this.$element[0].scrollHeight)},t.prototype.adjustDialog=function(){var e=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&e?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!e?this.scrollbarWidth:""})},t.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},t.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight,this.scrollbarWidth=this.measureScrollbar()},t.prototype.setScrollbar=function(){var e=parseInt(this.$body.css("padding-right")||0,10);this.bodyIsOverflowing&&this.$body.css("padding-right",e+this.scrollbarWidth)},t.prototype.resetScrollbar=function(){this.$body.css("padding-right","")},t.prototype.measureScrollbar=function(){var e=document.createElement("div");e.className="modal-scrollbar-measure",this.$body.append(e);var t=e.offsetWidth-e.clientWidth;return this.$body[0].removeChild(e),t};var r=e.fn.modal;e.fn.modal=n,e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=r,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var r=e(this),i=r.attr("href"),o=e(r.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),a=o.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},o.data(),r.data());r.is("a")&&t.preventDefault(),o.one("show.bs.modal",function(e){e.isDefaultPrevented()||o.one("hidden.bs.modal",function(){r.is(":visible")&&r.trigger("focus")})}),n.call(o,a,this)})}(jQuery),function(e){"use strict";var t=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};t.VERSION="3.3.2",t.TRANSITION_DURATION=150,t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},t.prototype.init=function(t,n,r){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r),this.$viewport=this.options.viewport&&e(this.options.viewport.selector||this.options.viewport),this.children=[];for(var i=this.options.trigger.split(" "),o=i.length;o--;){var a=i[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=a){var s="hover"==a?"mouseenter":"focusin",u="hover"==a?"mouseleave":"focusout";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(u+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return(t=e.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,r){n[e]!=r&&(t[e]=r)}),t},t.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(n&&n.$tip&&n.$tip.is(":visible"))n.hoverState="in";else{if(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="in",!n.options.delay||!n.options.delay.show)return n.show();n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)}},t.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n)),clearTimeout(n.timeout),n.hoverState="out",!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)},t.prototype.show=function(n){this.children.forEach(function(e){e.show(n)});var r=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(r);var i=e.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(r.isDefaultPrevented()||!i)return;var o=this,a=this.tip(),s=this.getUID(this.type);this.setContent(),a.attr("id",s),this.$element.attr("aria-describedby",s),this.options.animation&&a.addClass("fade");var u="function"==typeof this.options.placement?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,c=/\s?auto?\s?/i,l=c.test(u);l&&(u=u.replace(c,"")||"top"),a.detach().css({top:0,left:0,display:"block"}).addClass(u).data("bs."+this.type,this),this.options.container?a.appendTo(this.options.container):a.insertAfter(this.$element);var d=this.getPosition(),p=a[0].offsetWidth,f=a[0].offsetHeight;if(l){var h=u,m=this.options.container?e(this.options.container):this.$element.parent(),g=this.getPosition(m);u="bottom"==u&&d.bottom+f>g.bottom?"top":"top"==u&&d.top-f<g.top?"bottom":"right"==u&&d.right+p>g.width?"left":"left"==u&&d.left-p<g.left?"right":u,a.removeClass(h).addClass(u)}var y=this.getCalculatedOffset(u,d,p,f);this.applyPlacement(y,u);var v=function(){var e=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==e&&o.leave(o)};n&&!1===n.transition||!e.support.transition||!this.$tip.hasClass("fade")?v():a.one("bsTransitionEnd",v).emulateTransitionEnd(t.TRANSITION_DURATION)}},t.prototype.applyPlacement=function(t,n){var r=this.tip(),i=r[0].offsetWidth,o=r[0].offsetHeight,a=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(s)&&(s=0),t.top=t.top+a,t.left=t.left+s,e.offset.setOffset(r[0],e.extend({using:function(e){r.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),r.addClass("in");var u=r[0].offsetWidth,c=r[0].offsetHeight;"top"==n&&c!=o&&(t.top=t.top+o-c);var l=this.getViewportAdjustedDelta(n,t,u,c);l.left?t.left+=l.left:t.top+=l.top;var d=/top|bottom/.test(n),p=d?2*l.left-i+u:2*l.top-o+c,f=d?"offsetWidth":"offsetHeight";r.offset(t),this.replaceArrow(p,r[0][f],d)},t.prototype.replaceArrow=function(e,t,n){this.arrow().css(n?"left":"top",50*(1-e/t)+"%").css(n?"top":"left","")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(n){var r=this;r.children.forEach(function(e){e.hide()});var i=this.tip(),o=e.Event("hide.bs."+this.type);function a(){"in"!=r.hoverState&&i.detach(),r.$element.removeAttr("aria-describedby").trigger("hidden.bs."+r.type),n&&n()}if(this.$element.trigger(o),!o.isDefaultPrevented())return i.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",a).emulateTransitionEnd(t.TRANSITION_DURATION):a(),this.hoverState=null,this},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(t){var n=(t=t||this.$element)[0],r="BODY"==n.tagName,i=n.getBoundingClientRect();null==i.width&&(i=e.extend({},i,{width:i.right-i.left,height:i.bottom-i.top}));var o=r?{top:0,left:0}:t.offset(),a={scroll:r?document.documentElement.scrollTop||document.body.scrollTop:t.scrollTop()},s=r?{width:e(window).width(),height:e(window).height()}:null;return e.extend({},i,a,s,o)},t.prototype.getCalculatedOffset=function(e,t,n,r){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-r,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},t.prototype.getViewportAdjustedDelta=function(e,t,n,r){var i={top:0,left:0};if(!this.$viewport)return i;var o=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(e)){var s=t.top-o-a.scroll,u=t.top+o-a.scroll+r;s<a.top?i.top=a.top-s:u>a.top+a.height&&(i.top=a.top+a.height-u)}else{var c=t.left-o,l=t.left+o+n;c<a.left?i.left=a.left-c:l>a.width&&(i.left=a.left+a.width-l)}return i},t.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},t.prototype.getUID=function(e){do{e+=~~(1e6*Math.random())}while(document.getElementById(e));return e},t.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var n=this;t&&((n=e(t.currentTarget).data("bs."+this.type))||(n=new this.constructor(t.currentTarget,this.getDelegateOptions()),e(t.currentTarget).data("bs."+this.type,n),this.children.push(n))),n.tip().hasClass("in")?n.leave(n):n.enter(n)},t.prototype.destroy=function(){var e=this;clearTimeout(this.timeout),this.hide(function(){e.$element.off("."+e.type).removeData("bs."+e.type)}),e.children.forEach(function(e){e.destroy()}),e.children=[]};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("bs.tooltip"),o="object"==typeof n&&n;(i||"destroy"!=n)&&(i||r.data("bs.tooltip",i=new t(this,o)),"string"==typeof n&&i[n]())})},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(jQuery),function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.VERSION="3.3.2",t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},t.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data("bs.popover"),o="object"==typeof n&&n;(i||"destroy"!=n)&&(i||r.data("bs.popover",i=new t(this,o)),"string"==typeof n&&i[n]())})},e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(jQuery),function(e){"use strict";var t=function(t){this.element=e(t)};function n(n){return this.each(function(){var r=e(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new t(this)),"string"==typeof n&&i[n]()})}t.VERSION="3.3.2",t.TRANSITION_DURATION=150,t.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.data("target");if(r||(r=(r=t.attr("href"))&&r.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var i=n.find(".active:last a"),o=e.Event("hide.bs.tab",{relatedTarget:t[0]}),a=e.Event("show.bs.tab",{relatedTarget:i[0]});if(i.trigger(o),t.trigger(a),!a.isDefaultPrevented()&&!o.isDefaultPrevented()){var s=e(r);this.activate(t.closest("li"),n),this.activate(s,s.parent(),function(){i.trigger({type:"hidden.bs.tab",relatedTarget:t[0]}),t.trigger({type:"shown.bs.tab",relatedTarget:i[0]})})}}},t.prototype.activate=function(n,r,i){var o=r.find("> .active"),a=i&&e.support.transition&&(o.length&&o.hasClass("fade")||!!r.find("> .fade").length);function s(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),n.addClass("active").find('[data-toggle="tab"]').attr("aria-expanded",!0),a?(n[0].offsetWidth,n.addClass("in")):n.removeClass("fade"),n.parent(".dropdown-menu")&&n.closest("li.dropdown").addClass("active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),i&&i()}o.length&&a?o.one("bsTransitionEnd",s).emulateTransitionEnd(t.TRANSITION_DURATION):s(),o.removeClass("in")};var r=e.fn.tab;e.fn.tab=n,e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=r,this};var i=function(t){t.preventDefault(),n.call(e(this),"show")};e(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',i).on("click.bs.tab.data-api",'[data-toggle="pill"]',i)}(jQuery),function(e){"use strict";var t=function(n,r){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,r),this.$trigger=e(this.options.trigger).filter('[href="#'+n.id+'"], [data-target="#'+n.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};function n(t){var n,r=t.attr("data-target")||(n=t.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return e(r)}function r(n){return this.each(function(){var r=e(this),i=r.data("bs.collapse"),o=e.extend({},t.DEFAULTS,r.data(),"object"==typeof n&&n);!i&&o.toggle&&"show"==n&&(o.toggle=!1),i||r.data("bs.collapse",i=new t(this,o)),"string"==typeof n&&i[n]()})}t.VERSION="3.3.2",t.TRANSITION_DURATION=350,t.DEFAULTS={toggle:!0,trigger:'[data-toggle="collapse"]'},t.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},t.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var n,i=this.$parent&&this.$parent.children(".panel").children(".in, .collapsing");if(!(i&&i.length&&(n=i.data("bs.collapse"))&&n.transitioning)){var o=e.Event("show.bs.collapse");if(this.$element.trigger(o),!o.isDefaultPrevented()){i&&i.length&&(r.call(i,"hide"),n||i.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("collapsed").attr("aria-expanded",!0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var u=e.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",e.proxy(s,this)).emulateTransitionEnd(t.TRANSITION_DURATION)[a](this.$element[0][u])}}}},t.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var n=e.Event("hide.bs.collapse");if(this.$element.trigger(n),!n.isDefaultPrevented()){var r=this.dimension();this.$element[r](this.$element[r]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse in").attr("aria-expanded",!1),this.$trigger.addClass("collapsed").attr("aria-expanded",!1),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.removeClass("collapsing").addClass("collapse").trigger("hidden.bs.collapse")};if(!e.support.transition)return i.call(this);this.$element[r](0).one("bsTransitionEnd",e.proxy(i,this)).emulateTransitionEnd(t.TRANSITION_DURATION)}}},t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()},t.prototype.getParent=function(){return e(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(e.proxy(function(t,r){var i=e(r);this.addAriaAndCollapsedClass(n(i),i)},this)).end()},t.prototype.addAriaAndCollapsedClass=function(e,t){var n=e.hasClass("in");e.attr("aria-expanded",n),t.toggleClass("collapsed",!n).attr("aria-expanded",n)};var i=e.fn.collapse;e.fn.collapse=r,e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(t){var i=e(this);i.attr("data-target")||t.preventDefault();var o=n(i),a=o.data("bs.collapse")?"toggle":e.extend({},i.data(),{trigger:this});r.call(o,a)})}(jQuery),function(e){"use strict";e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;e(this).one("bsTransitionEnd",function(){n=!0});return setTimeout(function(){n||e(r).trigger(e.support.transition.end)},t),this},e(function(){e.support.transition=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]};return!1}(),e.support.transition&&(e.event.special.bsTransitionEnd={bindType:e.support.transition.end,delegateType:e.support.transition.end,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}})})}(jQuery),define("bootstrap",["jquery"],function(){}),function(e){void 0===e.fn.each2&&e.extend(e.fn,{each2:function(t){for(var n=e([0]),r=-1,i=this.length;++r<i&&(n.context=n[0]=this[r])&&!1!==t.call(n[0],r,n););return this}})}(jQuery),function(e,t){"use strict";if(window.Select2===t){var n,r,i,o,a,s,u,c,l={x:0,y:0},d={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case d.LEFT:case d.RIGHT:case d.UP:case d.DOWN:return!0}return!1},isControl:function(e){switch(e.which){case d.SHIFT:case d.CTRL:case d.ALT:return!0}return!!e.metaKey},isFunctionKey:function(e){return(e=e.which?e.which:e)>=112&&e<=123}},p="<div class='select2-measure-scrollbar'></div>",f={"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ω":"ω","ς":"σ"};s=e(document),c=1,o=function(){return c++},r=P(n=P(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(n){var r,i;this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==t&&null!==n.element.data("select2")&&n.element.data("select2").destroy(),this.container=this.createContainer(),this.liveRegion=e(".select2-hidden-accessible"),0==this.liveRegion.length&&(this.liveRegion=e("<span>",{role:"status","aria-live":"polite"}).addClass("select2-hidden-accessible").appendTo(document.body)),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+o()),this.containerEventName=this.containerId.replace(/([.])/g,"_").replace(/([;&,\-\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.container.attr("title",n.element.attr("title")),this.body=e(document.body),S(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",n.element.attr("style")),this.container.css(C(n.containerCss,this.opts.element)),this.container.addClass(C(n.containerCssClass,this.opts.element)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",A),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),S(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(C(n.dropdownCssClass,this.opts.element)),this.dropdown.data("select2",this),this.dropdown.on("click",A),this.results=r=this.container.find(".select2-results"),this.search=i=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",A),this.results.on("mousemove",function(n){var r=l;r!==t&&r.x===n.pageX&&r.y===n.pageY||e(n.target).trigger("mousemove-filtered",n)}),this.dropdown.on("mousemove-filtered",".select2-results",this.bind(this.highlightUnderEvent)),this.dropdown.on("touchstart touchmove touchend",".select2-results",this.bind(function(e){this._touchEvent=!0,this.highlightUnderEvent(e)})),this.dropdown.on("touchmove",".select2-results",this.bind(this.touchMoved)),this.dropdown.on("touchstart touchend",".select2-results",this.bind(this.clearTouchMoved)),this.dropdown.on("click",this.bind(function(e){this._touchEvent&&(this._touchEvent=!1,this.selectHighlighted())})),function(e,t){var n=w(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){g(e.target,t.get())>=0&&n(e)})}(80,this.results),this.dropdown.on("scroll-debounced",".select2-results",this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&r.mousewheel(function(e,t,n,i){var o=r.scrollTop();i>0&&o-i<=0?(r.scrollTop(0),A(e)):i<0&&r.get(0).scrollHeight-r.scrollTop()+i<=r.height()&&(r.scrollTop(r.get(0).scrollHeight-r.height()),A(e))}),_(i),i.on("keyup-change input paste",this.bind(this.updateResults)),i.on("focus",function(){i.addClass("select2-focused")}),i.on("blur",function(){i.removeClass("select2-focused")}),this.dropdown.on("mouseup",".select2-results",this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown touchstart touchend focusin",function(e){e.stopPropagation()}),this.nextSearchTerm=t,e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==n.maximumInputLength&&this.search.attr("maxlength",n.maximumInputLength);var a=n.element.prop("disabled");a===t&&(a=!1),this.enable(!a);var s=n.element.prop("readonly");s===t&&(s=!1),this.readonly(s),u=u||function(){var t=e(p);t.appendTo(document.body);var n={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),n}(),this.autofocus=n.element.prop("autofocus"),n.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.search.attr("placeholder",n.searchInputPlaceholder)},destroy:function(){var e=this.opts.element,n=e.data("select2"),r=this;this.close(),e.length&&e[0].detachEvent&&r._sync&&e.each(function(){r._sync&&this.detachEvent("onpropertychange",r._sync)}),this.propertyObserver&&(this.propertyObserver.disconnect(),this.propertyObserver=null),this._sync=null,n!==t&&(n.container.remove(),n.liveRegion.remove(),n.dropdown.remove(),e.show().removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.css("display","")),M.call(this,"container","liveRegion","dropdown","results","search")},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:y(e.attr("locked"),"locked")||y(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(n){var r,i,a,s,u=this;if("select"===(r=n.element).get(0).tagName.toLowerCase()&&(this.select=i=n.element),i&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),"function"!=typeof(n=e.extend({},{populateResults:function(r,i,a){var s,c=this.opts.id,l=this.liveRegion;(s=function(r,i,d){var p,f,h,m,g,y,v,b,_,w,A=[];for(p=0,f=(r=n.sortResults(r,i,a)).length;p<f;p+=1)m=!(g=!0===(h=r[p]).disabled)&&c(h)!==t,y=h.children&&h.children.length>0,(v=e("<li></li>")).addClass("select2-results-dept-"+d),v.addClass("select2-result"),v.addClass(m?"select2-result-selectable":"select2-result-unselectable"),g&&v.addClass("select2-disabled"),y&&v.addClass("select2-result-with-children"),v.addClass(u.opts.formatResultCssClass(h)),v.attr("role","presentation"),(b=e(document.createElement("div"))).addClass("select2-result-label"),b.attr("id","select2-result-label-"+o()),b.attr("role","option"),(w=n.formatResult(h,b,a,u.opts.escapeMarkup))!==t&&(b.html(w),v.append(b)),y&&((_=e("<ul></ul>")).addClass("select2-result-sub"),s(h.children,_,d+1),v.append(_)),v.data("select2-data",h),A.push(v[0]);i.append(A),l.text(n.formatMatches(r.length))})(i,r,0)}},e.fn.select2.defaults,n)).id&&(a=n.id,n.id=function(e){return e[a]}),e.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(i?(n.query=this.bind(function(e){var n,i,o,a={results:[],more:!1},s=e.term;o=function(t,n){var r;t.is("option")?e.matcher(s,t.text(),t)&&n.push(u.optionToData(t)):t.is("optgroup")&&(r=u.optionToData(t),t.children().each2(function(e,t){o(t,r.children)}),r.children.length>0&&n.push(r))},n=r.children(),this.getPlaceholder()!==t&&n.length>0&&(i=this.getPlaceholderOption())&&(n=n.not(i)),n.each2(function(e,t){o(t,a.results)}),e.callback(a)}),n.id=function(e){return e.id}):"query"in n||("ajax"in n?((s=n.element.data("ajax-url"))&&s.length>0&&(n.ajax.url=s),n.query=R.call(n.element,n.ajax)):"data"in n?n.query=E(n.data):"tags"in n&&(n.query=N(n.tags),n.createSearchChoice===t&&(n.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}}),n.initSelection===t&&(n.initSelection=function(t,r){var i=[];e(v(t.val(),n.separator,n.transformVal)).each(function(){var t={id:this,text:this},r=n.tags;e.isFunction(r)&&(r=r()),e(r).each(function(){if(y(this.id,t.id))return t=this,!1}),i.push(t)}),r(i)}))),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");if("top"===n.createSearchChoicePosition)n.createSearchChoicePosition=function(e,t){e.unshift(t)};else if("bottom"===n.createSearchChoicePosition)n.createSearchChoicePosition=function(e,t){e.push(t)};else if("function"!=typeof n.createSearchChoicePosition)throw"invalid createSearchChoicePosition option must be 'top', 'bottom' or a custom function";return n},monitorSource:function(){var n,r=this.opts.element,i=this;r.on("change.select2",this.bind(function(e){!0!==this.opts.element.data("select2-change-triggered")&&this.initSelection()})),this._sync=this.bind(function(){var e=r.prop("disabled");e===t&&(e=!1),this.enable(!e);var n=r.prop("readonly");n===t&&(n=!1),this.readonly(n),this.container&&(S(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(C(this.opts.containerCssClass,this.opts.element))),this.dropdown&&(S(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(C(this.opts.dropdownCssClass,this.opts.element)))}),r.length&&r[0].attachEvent&&r.each(function(){this.attachEvent("onpropertychange",i._sync)}),(n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver)!==t&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new n(function(t){e.each(t,i._sync)}),this.propertyObserver.observe(r.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var n=e.Event("select2-selecting",{val:this.id(t),object:t,choice:t});return this.opts.element.trigger(n),!n.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return!0===this.enabledInterface},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e!==this.enabledInterface&&(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){e===t&&(e=!1),this._readonly!==e&&(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface())},opened:function(){return!!this.container&&this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,n,r,i,o,a=this.dropdown,s=this.container,c=s.offset(),l=s.outerHeight(!1),d=s.outerWidth(!1),p=a.outerHeight(!1),f=e(window),h=f.width(),m=f.height(),g=f.scrollLeft()+h,y=f.scrollTop()+m,v=c.top+l,b=c.left,_=v+p<=y,w=c.top-p>=f.scrollTop(),A=a.outerWidth(!1);a.hasClass("select2-drop-above")?(n=!0,!w&&_&&(r=!0,n=!1)):(n=!1,!_&&w&&(r=!0,n=!0)),r&&(a.hide(),c=this.container.offset(),l=this.container.outerHeight(!1),d=this.container.outerWidth(!1),p=a.outerHeight(!1),g=f.scrollLeft()+h,y=f.scrollTop()+m,v=c.top+l,b=c.left,A=a.outerWidth(!1),a.show(),this.focusSearch()),this.opts.dropdownAutoWidth?(o=e(".select2-results",a)[0],a.addClass("select2-drop-auto-width"),a.css("width",""),(A=a.outerWidth(!1)+(o.scrollHeight===o.clientHeight?0:u.width))>d?d=A:A=d,p=a.outerHeight(!1)):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body.css("position")&&(v-=(t=this.body.offset()).top,b-=t.left),!(b+A<=g)&&c.left+g+s.outerWidth(!1)>A&&(b=c.left+this.container.outerWidth(!1)-A),i={left:b,width:d},n?(i.top=c.top-p,i.bottom="auto",this.container.addClass("select2-drop-above"),a.addClass("select2-drop-above")):(i.top=v,i.bottom="auto",this.container.removeClass("select2-drop-above"),a.removeClass("select2-drop-above")),i=e.extend(i,C(this.opts.dropdownCss,this.opts.element)),a.css(i)},shouldOpen:function(){var t;return!this.opened()&&(!1!==this._enabled&&!0!==this._readonly&&(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented()))},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return!!this.shouldOpen()&&(this.opening(),s.on("mousemove.select2Event",function(e){l.x=e.pageX,l.y=e.pageY}),!0)},opening:function(){var t,n=this.containerEventName,r="scroll."+n,i="resize."+n,o="orientationchange."+n;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body.children().last()[0]&&this.dropdown.detach().appendTo(this.body),0===(t=e("#select2-drop-mask")).length&&((t=e(document.createElement("div"))).attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body),t.on("mousedown touchstart click",function(n){h(t);var r,i=e("#select2-drop");i.length>0&&((r=i.data("select2")).opts.selectOnBlur&&r.selectHighlighted({noFocus:!0}),r.close(),n.preventDefault(),n.stopPropagation())})),this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var a=this;this.container.parents().add(window).each(function(){e(this).on(i+" "+r+" "+o,function(e){a.opened()&&a.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerEventName,n="scroll."+t,r="resize."+t,i="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(n).off(r).off(i)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),s.off("mousemove.select2Event"),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return C(this.opts.maximumSelectionSize,this.opts.element)},ensureHighlightVisible:function(){var t,n,r,i,o,a,s,u=this.results;(n=this.highlight())<0||(0!=n?(t=this.findHighlightableChoices().find(".select2-result-label"),i=(s=((r=e(t[n])).offset()||{}).top||0)+r.outerHeight(!0),n===t.length-1&&(a=u.find("li.select2-more-results")).length>0&&(i=a.offset().top+a.outerHeight(!0)),i>(o=u.offset().top+u.outerHeight(!1))&&u.scrollTop(u.scrollTop()+(i-o)),s-u.offset().top<0&&r.css("display")):u.scrollTop(0))},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled):not(.select2-selected)")},moveHighlight:function(t){for(var n=this.findHighlightableChoices(),r=this.highlight();r>-1&&r<n.length;){var i=e(n[r+=t]);if(i.hasClass("select2-result-selectable")&&!i.hasClass("select2-disabled")&&!i.hasClass("select2-selected")){this.highlight(r);break}}},highlight:function(t){var n,r,i=this.findHighlightableChoices();if(0===arguments.length)return g(i.filter(".select2-highlighted")[0],i.get());t>=i.length&&(t=i.length-1),t<0&&(t=0),this.removeHighlight(),(n=e(i[t])).addClass("select2-highlighted"),this.search.attr("aria-activedescendant",n.find(".select2-result-label").attr("id")),this.ensureHighlightVisible(),this.liveRegion.text(n.text()),(r=n.data("select2-data"))&&this.opts.element.trigger({type:"select2-highlight",val:this.id(r),choice:r})},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},touchMoved:function(){this._touchMoved=!0},clearTouchMoved:function(){this._touchMoved=!1},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var n=e(t.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var r=this.findHighlightableChoices();this.highlight(r.index(n))}else 0==n.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e=this.results,t=e.find("li.select2-more-results"),n=this.resultsPage+1,r=this,i=this.search.val(),o=this.context;0!==t.length&&t.offset().top-e.offset().top-e.height()<=this.opts.loadMorePadding&&(t.addClass("select2-active"),this.opts.query({element:this.opts.element,term:i,page:n,context:o,matcher:this.opts.matcher,callback:this.bind(function(a){r.opened()&&(r.opts.populateResults.call(this,e,a.results,{term:i,page:n,context:o}),r.postprocessResults(a,!1,!1),!0===a.more?(t.detach().appendTo(e).html(r.opts.escapeMarkup(C(r.opts.formatLoadMore,r.opts.element,n+1))),window.setTimeout(function(){r.loadMoreIfNeeded()},10)):t.remove(),r.positionDropdown(),r.resultsPage=n,r.context=a.context,this.opts.element.trigger({type:"select2-loaded",items:a}))})}))},tokenize:function(){},updateResults:function(n){var r,i,o,a=this.search,s=this.results,u=this.opts,c=this,l=a.val(),d=e.data(this.container,"select2-last-term");if((!0===n||!d||!y(l,d))&&(e.data(this.container,"select2-last-term",l),!0===n||!1!==this.showSearchInput&&this.opened())){o=++this.queryCount;var p=this.getMaximumSelectionSize();if(!(p>=1&&(r=this.data(),e.isArray(r)&&r.length>=p&&O(u.formatSelectionTooBig,"formatSelectionTooBig"))))return a.val().length<u.minimumInputLength?(O(u.formatInputTooShort,"formatInputTooShort")?h("<li class='select2-no-results'>"+C(u.formatInputTooShort,u.element,a.val(),u.minimumInputLength)+"</li>"):h(""),void(n&&this.showSearch&&this.showSearch(!0))):void(u.maximumInputLength&&a.val().length>u.maximumInputLength?O(u.formatInputTooLong,"formatInputTooLong")?h("<li class='select2-no-results'>"+C(u.formatInputTooLong,u.element,a.val(),u.maximumInputLength)+"</li>"):h(""):(u.formatSearching&&0===this.findHighlightableChoices().length&&h("<li class='select2-searching'>"+C(u.formatSearching,u.element)+"</li>"),a.addClass("select2-active"),this.removeHighlight(),(i=this.tokenize())!=t&&null!=i&&a.val(i),this.resultsPage=1,u.query({element:u.element,term:a.val(),page:this.resultsPage,context:null,matcher:u.matcher,callback:this.bind(function(r){var i;o==this.queryCount&&(this.opened()?r.hasError!==t&&O(u.formatAjaxError,"formatAjaxError")?h("<li class='select2-ajax-error'>"+C(u.formatAjaxError,u.element,r.jqXHR,r.textStatus,r.errorThrown)+"</li>"):(this.context=r.context===t?null:r.context,this.opts.createSearchChoice&&""!==a.val()&&(i=this.opts.createSearchChoice.call(c,a.val(),r.results))!==t&&null!==i&&c.id(i)!==t&&null!==c.id(i)&&0===e(r.results).filter(function(){return y(c.id(this),c.id(i))}).length&&this.opts.createSearchChoicePosition(r.results,i),0===r.results.length&&O(u.formatNoMatches,"formatNoMatches")?h("<li class='select2-no-results'>"+C(u.formatNoMatches,u.element,a.val())+"</li>"):(s.empty(),c.opts.populateResults.call(this,s,r.results,{term:a.val(),page:this.resultsPage,context:null}),!0===r.more&&O(u.formatLoadMore,"formatLoadMore")&&(s.append("<li class='select2-more-results'>"+u.escapeMarkup(C(u.formatLoadMore,u.element,this.resultsPage))+"</li>"),window.setTimeout(function(){c.loadMoreIfNeeded()},10)),this.postprocessResults(r,n),f(),this.opts.element.trigger({type:"select2-loaded",items:r}))):this.search&&this.search.removeClass("select2-active"))})})));h("<li class='select2-selection-limit'>"+C(u.formatSelectionTooBig,u.element,p)+"</li>")}function f(){a.removeClass("select2-active"),c.positionDropdown(),s.find(".select2-no-results,.select2-selection-limit,.select2-searching").length?c.liveRegion.text(s.text()):c.liveRegion.text(c.opts.formatMatches(s.find('.select2-result-selectable:not(".select2-selected")').length))}function h(e){s.html(e),f()}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){var e;(e=this.search)[0]!==document.activeElement&&window.setTimeout(function(){var t,n=e[0],r=e.val().length;e.focus(),(n.offsetWidth>0||n.offsetHeight>0)&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(r,r):n.createTextRange&&((t=n.createTextRange()).collapse(!1),t.select()))},0)},selectHighlighted:function(e){if(this._touchMoved)this.clearTouchMoved();else{var t=this.highlight(),n=this.results.find(".select2-highlighted").closest(".select2-result").data("select2-data");n?(this.highlight(t),this.onSelect(n,e)):e&&e.noFocus&&this.close()}},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var n=this.select.children("option").first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&n||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.trim(n.text())&&""===n.val())return n}},initContainerWidth:function(){var n=function(){var n,r,i,o,a;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if((n=this.opts.element.attr("style"))!==t)for(o=0,a=(r=n.split(";")).length;o<a;o+=1)if(null!==(i=r[o].replace(/\s/g,"").match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i))&&i.length>=1)return i[1];return"resolve"===this.opts.width?(n=this.opts.element.css("width")).indexOf("%")>0?n:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px":null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}.call(this);null!==n&&this.container.css("width",n)}}),{createContainer:function(){return e(document.createElement("div")).attr({class:"select2-container"}).html(["<a href='javascript:void(0)' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&#160;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow' role='presentation'><b role='presentation'></b></span>","</a>","<label for='' class='select2-offscreen'></label>","<input class='select2-focusser select2-offscreen' type='text' aria-haspopup='true' role='button' />","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <label for='' class='select2-offscreen'></label>","       <input type='text' autocomplete='new-password' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input' role='combobox' aria-expanded='true'","       aria-autocomplete='list' />","   </div>","   <ul class='select2-results' role='listbox'>","   </ul>","</div>"].join(""))},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var n,r,i;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),!1!==this.showSearchInput&&this.search.val(this.focusser.val()),this.opts.shouldFocusInput(this)&&(this.search.focus(),(n=this.search.get(0)).createTextRange?((r=n.createTextRange()).collapse(!1),r.select()):n.setSelectionRange&&(i=this.search.val().length,n.setSelectionRange(i,i))),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&(this.parent.close.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},focus:function(){this.opened()?this.close():this.focusser&&(this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.prop("disabled",!1),this.opts.shouldFocusInput(this)&&this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),M.call(this,"selection","focusser")},initContainer:function(){var t,n,r=this.container,i=this.dropdown,a=o();this.opts.minimumResultsForSearch<0?this.showSearch(!1):this.showSearch(!0),this.selection=t=r.find(".select2-choice"),this.focusser=r.find(".select2-focusser"),t.find(".select2-chosen").attr("id","select2-chosen-"+a),this.focusser.attr("aria-labelledby","select2-chosen-"+a),this.results.attr("id","select2-results-"+a),this.search.attr("aria-owns","select2-results-"+a),this.focusser.attr("id","s2id_autogen"+a),n=e("label[for='"+this.opts.element.attr("id")+"']"),this.opts.element.focus(this.bind(function(){this.focus()})),this.focusser.prev().text(n.text()).attr("for",this.focusser.attr("id"));var s=this.opts.element.attr("title");this.opts.element.attr("title",s||n.text()),this.focusser.attr("tabindex",this.elementTabIndex),this.search.attr("id",this.focusser.attr("id")+"_search"),this.search.prev().text(e("label[for='"+this.focusser.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&229!=e.keyCode)if(e.which!==d.PAGE_UP&&e.which!==d.PAGE_DOWN)switch(e.which){case d.UP:case d.DOWN:return this.moveHighlight(e.which===d.UP?-1:1),void A(e);case d.ENTER:return this.selectHighlighted(),void A(e);case d.TAB:return void this.selectHighlighted({noFocus:!0});case d.ESC:return this.cancel(e),void A(e)}else A(e)})),this.search.on("blur",this.bind(function(e){document.activeElement===this.body.get(0)&&window.setTimeout(this.bind(function(){this.opened()&&this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==d.TAB&&!d.isControl(e)&&!d.isFunctionKey(e)&&e.which!==d.ESC){if(!1!==this.opts.openOnEnter||e.which!==d.ENTER){if(e.which==d.DOWN||e.which==d.UP||e.which==d.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),void A(e)}return e.which==d.DELETE||e.which==d.BACKSPACE?(this.opts.allowClear&&this.clear(),void A(e)):void 0}A(e)}})),_(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown touchstart","abbr",this.bind(function(e){var t;this.isInterfaceEnabled()&&(this.clear(),(t=e).preventDefault(),t.stopImmediatePropagation(),this.close(),this.selection&&this.selection.focus())})),t.on("mousedown touchstart",this.bind(function(n){h(t),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),A(n)})),i.on("mousedown touchstart",this.bind(function(){this.opts.shouldFocusInput(this)&&this.search.focus()})),t.on("focus",this.bind(function(e){A(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.hide(),this.setPlaceholder()},clear:function(t){var n=this.selection.data("select2-data");if(n){var r=e.Event("select2-clearing");if(this.opts.element.trigger(r),r.isDefaultPrevented())return;var i=this.getPlaceholderOption();this.opts.element.val(i?i.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),!1!==t&&(this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.setPlaceholder(),e.nextSearchTerm=e.opts.nextSearchTerm(n,e.search.val()))})}},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()!==t&&((e=this.getPlaceholderOption())!==t&&e.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val())},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var r=e.find("option").filter(function(){return this.selected&&!this.disabled});t(n.optionToData(r))}:"data"in t&&(t.initSelection=t.initSelection||function(n,r){var i=n.val(),o=null;t.query({matcher:function(e,n,r){var a=y(i,t.id(r));return a&&(o=r),a},callback:e.isFunction(r)?function(){r(o)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(t,n,r){var i=0,o=this;if(this.findHighlightableChoices().each2(function(e,t){if(y(o.id(t.data("select2-data")),o.opts.element.val()))return i=e,!1}),!1!==r&&(!0===n&&i>=0?this.highlight(i):this.highlight(0)),!0===n){var a=this.opts.minimumResultsForSearch;a>=0&&this.showSearch(function t(n){var r=0;return e.each(n,function(e,n){n.children?r+=t(n.children):r++}),r}(t.results)>=a)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(e,t){if(this.triggerSelect(e)){var n=this.opts.element.val(),r=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.close(),t&&t.noFocus||!this.opts.shouldFocusInput(this)||this.focusser.focus(),y(n,this.id(e))||this.triggerChange({added:e,removed:r})}},updateSelection:function(e){var n,r,i=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),i.empty(),null!==e&&(n=this.opts.formatSelection(e,i,this.opts.escapeMarkup)),n!==t&&i.append(n),(r=this.opts.formatSelectionCssClass(e,i))!==t&&i.addClass(r),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,n=!1,r=null,i=this,o=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(n=arguments[1]),this.select)this.select.val(e).find("option").filter(function(){return this.selected}).each2(function(e,t){return r=i.optionToData(t),!1}),this.updateSelection(r),this.setPlaceholder(),n&&this.triggerChange({added:r,removed:o});else{if(!e&&0!==e)return void this.clear(n);if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){i.opts.element.val(e?i.id(e):""),i.updateSelection(e),i.setPlaceholder(),n&&i.triggerChange({added:e,removed:o})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var n,r=!1;if(0===arguments.length)return(n=this.selection.data("select2-data"))==t&&(n=null),n;arguments.length>1&&(r=arguments[1]),e?(n=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),r&&this.triggerChange({added:e,removed:n})):this.clear(r)}}),i=P(n,{createContainer:function(){return e(document.createElement("div")).attr({class:"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <label for='' class='select2-offscreen'></label>","    <input type='text' autocomplete='new-password' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""))},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var r=[];e.find("option").filter(function(){return this.selected&&!this.disabled}).each2(function(e,t){r.push(n.optionToData(t))}),t(r)}:"data"in t&&(t.initSelection=t.initSelection||function(n,r){var i=v(n.val(),t.separator,t.transformVal),o=[];t.query({matcher:function(n,r,a){var s=e.grep(i,function(e){return y(e,t.id(a))}).length;return s&&o.push(a),s},callback:e.isFunction(r)?function(){for(var e=[],n=0;n<i.length;n++)for(var a=i[n],s=0;s<o.length;s++){var u=o[s];if(y(a,t.id(u))){e.push(u),o.splice(s,1);break}}r(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments),M.call(this,"searchContainer","selection")},initContainer:function(){var t,n=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(n);var r=this;this.selection.on("click",".select2-container:not(.select2-container-disabled) .select2-search-choice:not(.select2-locked)",function(t){r.search[0].focus(),r.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+o()),this.search.prev().text(e("label[for='"+this.opts.element.attr("id")+"']").text()).attr("for",this.search.attr("id")),this.opts.element.focus(this.bind(function(){this.focus()})),this.search.on("input paste",this.bind(function(){this.search.attr("placeholder")&&0==this.search.val().length||this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(n){if(this.isInterfaceEnabled()){++this.keydowns;var r=t.find(".select2-search-choice-focus"),i=r.prev(".select2-search-choice:not(.select2-locked)"),o=r.next(".select2-search-choice:not(.select2-locked)"),a=function(t){var n=0,r=0;if("selectionStart"in(t=e(t)[0]))n=t.selectionStart,r=t.selectionEnd-n;else if("selection"in document){t.focus();var i=document.selection.createRange();r=document.selection.createRange().text.length,i.moveStart("character",-t.value.length),n=i.text.length-r}return{offset:n,length:r}}(this.search);if(r.length&&(n.which==d.LEFT||n.which==d.RIGHT||n.which==d.BACKSPACE||n.which==d.DELETE||n.which==d.ENTER)){var s=r;return n.which==d.LEFT&&i.length?s=i:n.which==d.RIGHT?s=o.length?o:null:n.which===d.BACKSPACE?this.unselect(r.first())&&(this.search.width(10),s=i.length?i:o):n.which==d.DELETE?this.unselect(r.first())&&(this.search.width(10),s=o.length?o:null):n.which==d.ENTER&&(s=null),this.selectChoice(s),A(n),void(s&&s.length||this.open())}if((n.which===d.BACKSPACE&&1==this.keydowns||n.which==d.LEFT)&&0==a.offset&&!a.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),void A(n);if(this.selectChoice(null),this.opened())switch(n.which){case d.UP:case d.DOWN:return this.moveHighlight(n.which===d.UP?-1:1),void A(n);case d.ENTER:return this.selectHighlighted(),void A(n);case d.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case d.ESC:return this.cancel(n),void A(n)}if(n.which!==d.TAB&&!d.isControl(n)&&!d.isFunctionKey(n)&&n.which!==d.BACKSPACE&&n.which!==d.ESC){if(n.which===d.ENTER){if(!1===this.opts.openOnEnter)return;if(n.altKey||n.ctrlKey||n.shiftKey||n.metaKey)return}this.open(),n.which!==d.PAGE_UP&&n.which!==d.PAGE_DOWN||A(n),n.which===d.ENTER&&A(n)}}})),this.search.on("keyup",this.bind(function(e){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))})),this.container.on("click",n,this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",n,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.hide(),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),n=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&!1===this.search.hasClass("select2-focused")?(this.search.val(e).addClass("select2-default"),this.search.width(n>0?n:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.updateResults(!0),this.opts.shouldFocusInput(this)&&this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var n=[],r=[],i=this;e(t).each(function(){g(i.id(this),n)<0&&(n.push(i.id(this)),r.push(this))}),t=r,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){i.addSelectedChoice(this)}),i.postprocessResults()},tokenize:function(){var e=this.search.val();null!=(e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts))&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,n){this.triggerSelect(e)&&""!==e.text&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.clearSearch(),this.updateResults(),!this.select&&this.opts.closeOnSelect||this.postprocessResults(e,!1,!0===this.opts.closeOnSelect),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()?this.updateResults(!0):this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.updateResults(),this.search.select()),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),n&&n.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var r,i,o=!n.locked,a=e("<li class='select2-search-choice'>    <div></div>    <a href='#' class='select2-search-choice-close' tabindex='-1'></a></li>"),s=e("<li class='select2-search-choice select2-locked'><div></div></li>"),u=o?a:s,c=this.id(n),l=this.getVal();(r=this.opts.formatSelection(n,u.find("div"),this.opts.escapeMarkup))!=t&&u.find("div").replaceWith(e("<div></div>").html(r)),(i=this.opts.formatSelectionCssClass(n,u.find("div")))!=t&&u.addClass(i),o&&u.find(".select2-search-choice-close").on("mousedown",A).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),A(t),this.close(),this.focusSearch())})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),u.data("select2-data",n),u.insertBefore(this.searchContainer),l.push(c),this.setVal(l)},unselect:function(t){var n,r,i=this.getVal();if(0===(t=t.closest(".select2-search-choice")).length)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(n=t.data("select2-data")){var o=e.Event("select2-removing");if(o.val=this.id(n),o.choice=n,this.opts.element.trigger(o),o.isDefaultPrevented())return!1;for(;(r=g(this.id(n),i))>=0;)i.splice(r,1),this.setVal(i),this.select&&this.postprocessResults();return t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}),!0}},postprocessResults:function(e,t,n){var r=this.getVal(),i=this.results.find(".select2-result"),o=this.results.find(".select2-result-with-children"),a=this;i.each2(function(e,t){g(a.id(t.data("select2-data")),r)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),o.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&!1!==n&&!0===this.opts.closeOnSelect&&a.highlight(0),!this.opts.createSearchChoice&&!i.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&O(a.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+C(a.opts.formatNoMatches,a.opts.element,a.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-b(this.search)},resizeSearch:function(){var t,n,r,i,o=b(this.search);t=function(t){if(!a){var n=t[0].currentStyle||window.getComputedStyle(t[0],null);(a=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"})).attr("class","select2-sizer"),e(document.body).append(a)}return a.text(t.val()),a.width()}(this.search)+10,n=this.search.offset().left,(i=(r=this.selection.width())-(n-this.selection.offset().left)-o)<t&&(i=r-o),i<40&&(i=r-o),i<=0&&(i=t),this.search.width(Math.floor(i))},getVal:function(){var e;return this.select?null===(e=this.select.val())?[]:e:v(e=this.opts.element.val(),this.opts.separator,this.opts.transformVal)},setVal:function(t){var n;this.select?this.select.val(t):(n=[],e(t).each(function(){g(this,n)<0&&n.push(this)}),this.opts.element.val(0===n.length?"":n.join(this.opts.separator)))},buildChangeDetails:function(e,t){t=t.slice(0),e=e.slice(0);for(var n=0;n<t.length;n++)for(var r=0;r<e.length;r++)y(this.opts.id(t[n]),this.opts.id(e[r]))&&(t.splice(n,1),n>0&&n--,e.splice(r,1),r--);return{added:t,removed:e}},val:function(n,r){var i,o=this;if(0===arguments.length)return this.getVal();if((i=this.data()).length||(i=[]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(r&&this.triggerChange({added:this.data(),removed:i}));if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),r&&this.triggerChange(this.buildChangeDetails(i,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var n=e.map(t,o.id);o.setVal(n),o.updateSelection(t),o.clearSearch(),r&&o.triggerChange(o.buildChangeDetails(i,o.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(n.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,n){var r,i,o=this;if(0===arguments.length)return this.selection.children(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get();i=this.data(),t||(t=[]),r=e.map(t,function(e){return o.opts.id(e)}),this.setVal(r),this.updateSelection(t),this.clearSearch(),n&&this.triggerChange(this.buildChangeDetails(i,this.data()))}}),e.fn.select2=function(){var n,r,i,o,a,s=Array.prototype.slice.call(arguments,0),u=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],c=["opened","isFocused","container","dropdown"],l=["val","data"],d={search:"externalSearch"};return this.each(function(){if(0===s.length||"object"==typeof s[0])(n=0===s.length?{}:e.extend({},s[0])).element=e(this),"select"===n.element.get(0).tagName.toLowerCase()?a=n.element.prop("multiple"):(a=n.multiple||!1,"tags"in n&&(n.multiple=a=!0)),(r=a?new window.Select2.class.multi:new window.Select2.class.single).init(n);else{if("string"!=typeof s[0])throw"Invalid arguments to select2 plugin: "+s;if(g(s[0],u)<0)throw"Unknown method: "+s[0];if(o=t,(r=e(this).data("select2"))===t)return;if("container"===(i=s[0])?o=r.container:"dropdown"===i?o=r.dropdown:(d[i]&&(i=d[i]),o=r[i].apply(r,s.slice(1))),g(s[0],c)>=0||g(s[0],l)>=0&&1==s.length)return!1}}),o===t?this:o},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n,r){var i=[];return T(this.text(e),n.term,i,r),i.join("")},transformVal:function(t){return e.trim(t)},formatSelection:function(e,n,r){return e?r(this.text(e)):t},sortResults:function(e,t,n){return e},formatResultCssClass:function(e){return e.css},formatSelectionCssClass:function(e,n){return t},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e==t?null:e.id},text:function(t){return t&&this.data&&this.data.text?e.isFunction(this.data.text)?this.data.text(t):t[this.data.text]:t.text},matcher:function(e,t){return m(""+t).toUpperCase().indexOf(m(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:function(e,n,r,i){var o,a,s,u,c,l=e,d=!1;if(!i.createSearchChoice||!i.tokenSeparators||i.tokenSeparators.length<1)return t;for(;;){for(a=-1,s=0,u=i.tokenSeparators.length;s<u&&(c=i.tokenSeparators[s],!((a=e.indexOf(c))>=0));s++);if(a<0)break;if(o=e.substring(0,a),e=e.substring(a+c.length),o.length>0&&(o=i.createSearchChoice.call(this,o,n))!==t&&null!==o&&i.id(o)!==t&&null!==i.id(o)){for(d=!1,s=0,u=n.length;s<u;s++)if(y(i.id(o),i.id(n[s]))){d=!0;break}d||r(o)}}return l!==e?e:void 0},escapeMarkup:k,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(e){return null},nextSearchTerm:function(e,n){return t},searchInputPlaceholder:"",createSearchChoicePosition:"top",shouldFocusInput:function(e){return!("ontouchstart"in window||navigator.msMaxTouchPoints>0)||!(e.opts.minimumResultsForSearch<0)}},e.fn.select2.locales=[],e.fn.select2.locales.en={formatMatches:function(e){return 1===e?"One result is available, press enter to select it.":e+" results are available, use up and down arrow keys to navigate."},formatNoMatches:function(){return"No matches found"},formatAjaxError:function(e,t,n){return"Loading failed"},formatInputTooShort:function(e,t){var n=t-e.length;return"Please enter "+n+" or more character"+(1==n?"":"s")},formatInputTooLong:function(e,t){var n=e.length-t;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(e){return"Loading more results…"},formatSearching:function(){return"Searching…"}},e.extend(e.fn.select2.defaults,e.fn.select2.locales.en),e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:R,local:E,tags:N},util:{debounce:w,markMatch:T,escapeMarkup:k,stripDiacritics:m},class:{abstract:n,single:r,multi:i}}}function h(t){var n=e(document.createTextNode(""));t.before(n),n.before(t),n.remove()}function m(e){return e.replace(/[^\u0000-\u007E]/g,function(e){return f[e]||e})}function g(e,t){for(var n=0,r=t.length;n<r;n+=1)if(y(e,t[n]))return n;return-1}function y(e,n){return e===n||e!==t&&n!==t&&(null!==e&&null!==n&&(e.constructor===String?e+""==n+"":n.constructor===String&&n+""==e+""))}function v(e,t,n){var r,i,o;if(null===e||e.length<1)return[];for(i=0,o=(r=e.split(t)).length;i<o;i+=1)r[i]=n(r[i]);return r}function b(e){return e.outerWidth(!1)-e.width()}function _(n){var r="keyup-change-value";n.on("keydown",function(){e.data(n,r)===t&&e.data(n,r,n.val())}),n.on("keyup",function(){var i=e.data(n,r);i!==t&&n.val()!==i&&(e.removeData(n,r),n.trigger("keyup-change"))})}function w(e,n,r){var i;return r=r||t,function(){var t=arguments;window.clearTimeout(i),i=window.setTimeout(function(){n.apply(r,t)},e)}}function A(e){e.preventDefault(),e.stopPropagation()}function S(t,n,r){var i,o,a=[];(i=e.trim(t.attr("class")))&&e((i=""+i).split(/\s+/)).each2(function(){0===this.indexOf("select2-")&&a.push(this)}),(i=e.trim(n.attr("class")))&&e((i=""+i).split(/\s+/)).each2(function(){0!==this.indexOf("select2-")&&(o=r(this))&&a.push(o)}),t.attr("class",a.join(" "))}function T(e,t,n,r){if(t.trim().length){var i=m(e.toUpperCase()).indexOf(m(t.toUpperCase())),o=t.length;i<0?n.push(r(e)):(n.push(r(e.substring(0,i))),n.push("<span class='select2-match'>"),n.push(r(e.substring(i,i+o))),n.push("</span>"),n.push(r(e.substring(i+o,e.length))))}else n.push(r(e))}function k(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function R(n){var r,i=null,o=n.quietMillis||100,a=n.url,s=this;return function(u){window.clearTimeout(r),r=window.setTimeout(function(){var r=n.data,o=a,c=n.transport||e.fn.select2.ajaxDefaults.transport,l={type:n.type||"GET",cache:n.cache||!1,jsonpCallback:n.jsonpCallback||t,dataType:n.dataType||"json"},d=e.extend({},e.fn.select2.ajaxDefaults.params,l);r=r?r.call(s,u.term,u.page,u.context):null,o="function"==typeof o?o.call(s,u.term,u.page,u.context):o,i&&"function"==typeof i.abort&&i.abort(),n.params&&(e.isFunction(n.params)?e.extend(d,n.params.call(s)):e.extend(d,n.params)),e.extend(d,{url:o,dataType:n.dataType,data:r,success:function(e){var t=n.results(e,u.page,u);u.callback(t)},error:function(e,t,n){var r={hasError:!0,jqXHR:e,textStatus:t,errorThrown:n};u.callback(r)}}),i=c.call(s,d)},o)}}function E(t){var n,r,i=t,o=function(e){return""+e.text};e.isArray(i)&&(i={results:r=i}),!1===e.isFunction(i)&&(r=i,i=function(){return r});var a=i();return a.text&&(o=a.text,e.isFunction(o)||(n=a.text,o=function(e){return e[n]})),function(t){var n,r=t.term,a={results:[]};""!==r?(n=function(i,a){var s,u;if((i=i[0]).children){for(u in s={},i)i.hasOwnProperty(u)&&(s[u]=i[u]);s.children=[],e(i.children).each2(function(e,t){n(t,s.children)}),(s.children.length||t.matcher(r,o(s),i))&&a.push(s)}else t.matcher(r,o(i),i)&&a.push(i)},e(i().results).each2(function(e,t){n(t,a.results)}),t.callback(a)):t.callback(i())}}function N(n){var r=e.isFunction(n);return function(i){var o=i.term,a={results:[]},s=r?n(i):n;e.isArray(s)&&(e(s).each(function(){var e=this.text!==t,n=e?this.text:this;(""===o||i.matcher(o,n))&&a.results.push(e?this:{id:this,text:this})}),i.callback(a))}}function O(t,n){if(e.isFunction(t))return!0;if(!t)return!1;if("string"==typeof t)return!0;throw new Error(n+" must be a string, function, or falsy value")}function C(t,n){if(e.isFunction(t)){var r=Array.prototype.slice.call(arguments,2);return t.apply(n,r)}return t}function M(){var t=this;e.each(arguments,function(e,n){t[n].remove(),t[n]=null})}function P(t,n){var r=function(){};return(r.prototype=new t).constructor=r,r.prototype.parent=t.prototype,r.prototype=e.extend(r.prototype,n),r}}(jQuery),define("select2",["jquery"],function(e){return function(){return e.Select2}}(this)),define("app/monkeyPatch",["underscore","jquery","backbone","bootstrap","select2"],function(e,t,n){"use strict";var r=n.sync;n.sync=function(e,t,n){return n.syncMethod=e,r.call(this,e,t,n)},t.fn.modal.Constructor.prototype.enforceFocus=function(){},t.fn.modal.Constructor.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(e){27!==e.which||this.$element.hasClass("modal-no-keyboard")||this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},t.fn.modal.Constructor.prototype.backdrop=function(e){var n=this,r=n.$element.hasClass("fade")?"fade":"";if(n.isShown&&n.options.backdrop){var i=t.support.transition&&r;if(n.$backdrop=t('<div class="modal-backdrop '+r+'" />').prependTo(n.$element).on("click.dismiss.bs.modal",function(e){e.target===e.currentTarget&&("static"===n.options.backdrop||n.$element.hasClass("modal-static")?n.$element[0].focus.call(n.$element[0]):n.hide.call(n))}),i&&n.$backdrop[0].offsetWidth,n.$backdrop.addClass("in"),!e)return;i?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(t.fn.modal.Constructor.BACKDROP_TRANSITION_DURATION):e()}else if(!n.isShown&&n.$backdrop){n.$backdrop.removeClass("in");var o=function(){n.removeBackdrop(),e&&e()};t.support.transition&&n.$element.hasClass("fade")?n.$backdrop.one("bsTransitionEnd",o).emulateTransitionEnd(t.fn.modal.Constructor.BACKDROP_TRANSITION_DURATION):o()}else e&&e()},t.fn.modal.Constructor.prototype.checkScrollbar=function(){this.bodyIsOverflowing=document.body.scrollHeight>document.documentElement.clientHeight||"scroll"===t(document.body).css("overflow-y"),this.scrollbarWidth=this.measureScrollbar()},t.fn.popover.Constructor.prototype.hasContent=function(){return"function"==typeof this.options.hasContent?!!this.options.hasContent.call(this.$element[0]):!!this.options.hasContent||(!!this.getTitle()||!!this.getContent())},t.fn.popover.Constructor.prototype.tip=function(){if(this.$tip)return this.$tip;var e=this.options.template;return"function"==typeof e&&(e=e.call(this.$element[0],t.fn.popover.Constructor.DEFAULTS.template)),this.$tip="string"==typeof e?t(e):e,this.options.css&&this.$tip.css(this.options.css),this.options.contentCss&&this.$tip.find(".popover-content").first().css(this.options.contentCss),this.options.className&&this.$tip.addClass(this.options.className),this.$tip},t.fn.popover.Constructor.prototype.getTitle=function(){var e=this.$element,t=this.options;return t.title?"function"==typeof t.title?t.title.call(e[0]):t.title:e.attr("data-original-title")||""};var i=t(document.body);return t.fn.select2.defaults.dropdownContainer=function(e){var t=e.container.closest(".modal-body");if(0===t.length)return i;var n=t.closest(".modal-dialog");return 0===n.length?i:n},i.on("click","label[for]",function(e){var n=t("#"+e.currentTarget.htmlFor);n.data("select2")&&!n.parent().hasClass("has-required-select2")&&n.select2("focus")}),{}}),define("h5.pubsub/Subscriptions",["require","exports","module"],function(e,t,n){"use strict";n.exports=i;var r=[];function i(e){this.messageBroker=e,this.children={},this.subscriptions=[],this.subscriptionsPendingRemoval=[],this.sendingMessagesCount=0,this.removeSubscription=this.removeSubscription.bind(this)}i.TOKEN={SEPARATOR:".",ANY:"*",ALL:"**"},i.prototype.destroy=function(){for(var e=this.children,t=Object.keys(e),n=0,r=t.length;n<r;++n)e[t[n]].destroy();this.children=null,this.removeSubscriptions(),this.subscriptionsPendingRemoval=null,this.messageBroker=null},i.prototype.count=function(e,t){this.subscriptions.length&&(t[e]=this.subscriptions.length);var n=Object.keys(this.children),r=n.length;if(r){0!==e.length&&(e+=i.TOKEN.SEPARATOR);for(var o=0;o<r;++o){var a=n[o];this.children[a].count(e+a,t)}}},i.prototype.add=function(e){var t=this.splitTopic(e.getTopic());this.addSubscription(t,e)},i.prototype.remove=function(e){this.removeSubscriptions(this.splitTopic(e))},i.prototype.send=function(e,t,n){var r=this.splitTopic(e);this.sendMessage(r,e,t,n)},i.prototype.addSubscription=function(e,t){if(0===e.length)return this.subscriptions.push(t),t.on("cancel",this.removeSubscription),void(1===this.subscriptions.length&&this.messageBroker.emit("new topic",t.getTopic()));var n=this.children,r=e.shift();void 0===n[r]&&(n[r]=new i(this.messageBroker)),n[r].addSubscription(e,t)},i.prototype.removeSubscriptions=function(e){var t,n;if(void 0!==e&&0!==e.length){var r=e.shift();void 0!==this.children[r]&&this.children[r].removeSubscriptions(e)}else{var i=this.subscriptions;if(!i.length)return;this.subscriptions=[];var o=i[0].getTopic();for(t=0,n=i.length;t<n;++t)i[t].cancel();this.messageBroker.emit("empty topic",o)}},i.prototype.sendMessage=function(e,t,n,o){if(++this.sendingMessagesCount,void 0!==this.children[i.TOKEN.ALL]&&this.children[i.TOKEN.ALL].sendMessage(r,t,n,o),0===e.length)for(var a=0,s=this.subscriptions.length;a<s;++a)this.subscriptions[a].send(t,n,o);else{var u=e.shift();void 0!==this.children[i.TOKEN.ANY]&&this.children[i.TOKEN.ANY].sendMessage([].concat(e),t,n,o),void 0!==this.children[u]&&this.children[u].sendMessage(e,t,n,o)}--this.sendingMessagesCount,this.removePendingSubscriptions()},i.prototype.splitTopic=function(e){var t=e.split(i.TOKEN.SEPARATOR).filter(function(e){return 0!==e.length});if(0===t.length)throw new Error("Invalid subscription topic: "+e);return t},i.prototype.removeSubscription=function(e){if(this.messageBroker.emit("cancel",e),0!==this.subscriptions.length)return 1===this.subscriptions.length&&this.subscriptions[0]===e?(this.subscriptions.length=0,void this.messageBroker.emit("empty topic",e.getTopic())):void this.removeOrQueueRemoval(e)},i.prototype.removeOrQueueRemoval=function(e){0===this.sendingMessagesCount?this.subscriptions.splice(this.subscriptions.indexOf(e),1):this.subscriptionsPendingRemoval.push(e)},i.prototype.removePendingSubscriptions=function(){var e=this.subscriptionsPendingRemoval,t=e.length;if(t&&!this.sendingMessagesCount){var n=this.subscriptions;if(t===n.length)return e.length=0,void(n.length=0);var r,i,o=[];for(r=0;r<t;++r)o.push(n.indexOf(e[r]));for(o.sort(function(e,t){return t-e}),r=0,i=o.length;r<i;++r)n.splice(o[r],1);e.length=0}}}),define("h5.pubsub/Subscription",["require","exports","module"],function(e,t,n){"use strict";function r(e,t){this.cancelled=!1,this.id=e,this.topic=t,this.messageFilter=null,this.messageLimit=0,this.messageCount=0,this.doFilter=null,this.listeners={cancel:null,message:null}}n.exports=r,r.compileFilter=function(){throw new Error("Subscription.compileFilter() is not implemented!")},r.prototype.toJSON=function(){var e=this.getFilter();return"function"==typeof e&&(e=e.toString()),{id:this.getId(),topic:this.getTopic(),limit:this.getLimit(),filter:e}},r.prototype.getId=function(){return this.id},r.prototype.getTopic=function(){return this.topic},r.prototype.getFilter=function(){return this.messageFilter},r.prototype.setFilter=function(e){if(this.messageFilter=e,"function"==typeof e)this.doFilter=e;else if(this.doFilter=r.compileFilter(e),"function"!=typeof this.doFilter)throw new Error("Subscription.compileFilter() must return a function.");return this},r.prototype.getLimit=function(){return this.messageLimit},r.prototype.setLimit=function(e){if(e<1)throw new Error("Subscription limit must be greater than 0.");return this.messageLimit=e,this},r.prototype.getMessageCount=function(){return this.messageCount},r.prototype.on=function(e,t){if(this.cancelled)return this;var n=this.listeners[e],r=typeof n;if("undefined"===r)throw new Error("Unknown event: "+e);return"function"===r?this.listeners[e]=[n,t]:null===n?this.listeners[e]=t:this.listeners[e].push(t),this},r.prototype.off=function(e,t){if(this.cancelled)return this;var n=this.listeners[e],r=typeof n;if("undefined"===r)throw new Error("Unknown event: "+e);if("function"===r&&n===t)this.listeners[e]=null;else if("object"===r&&null!==n){for(var i=-1,o=n.length,a=0;a<o;++a)if(n[a]===t){i=a;break}-1!==i&&(n.splice(i,1),2===o&&(this.listeners[e]=n[0]))}return this},r.prototype.cancel=function(){this.cancelled||(this.cancelled=!0,this.emit("cancel",this),this.listeners=null,this.doFilter=null)},r.prototype.send=function(e,t,n){this.cancelled||null!==this.doFilter&&!this.doFilter(t,e,n,this)||(++this.messageCount,this.emit("message",t,e,n,this),this.messageCount===this.messageLimit&&this.cancel())},r.prototype.emit=function(e){var t=this.listeners[e];if(null!==t){var n=arguments.length;if("function"!=typeof t)for(var r=0,i=t.length;r<i;++r)5===n?t[r](arguments[1],arguments[2],arguments[3],arguments[4]):t[r](arguments[1]);else 5===n?t(arguments[1],arguments[2],arguments[3],arguments[4]):t(arguments[1])}}}),define("h5.pubsub/Sandbox",["require","exports","module"],function(e,t,n){"use strict";function r(e){this.broker=e,this.subscriptions={},this.removeSubscription=this.removeSubscription.bind(this)}n.exports=r,r.prototype.destroy=function(){var e=this.subscriptions;null!==e&&Object.keys(e).forEach(function(t){e[t].cancel()}),this.subscriptions=null,this.broker=null},r.prototype.sandbox=function(){return new r(this)},r.prototype.publish=function(e,t,n){return this.broker.publish(e,t,n),this},r.prototype.subscribe=function(e,t){var n=this.broker.subscribe(e,t);return n.on("cancel",this.removeSubscription),this.subscriptions[n.getId()]=n,n},r.prototype.unsubscribe=function(e){var t=[],n=this.subscriptions;for(var r in n)n.hasOwnProperty(r)&&n[r].getTopic()===e&&t.push(r);for(var i=0,o=t.length;i<o;++i)n[t[i]].cancel();return this},r.prototype.removeSubscription=function(e){delete this.subscriptions[e.getId()]}}),define("h5.pubsub/MessageBroker",["require","exports","module","./Subscriptions","./Subscription","./Sandbox"],function(e,t,n){"use strict";var r=e("./Subscriptions"),i=e("./Subscription"),o=e("./Sandbox");function a(){this.subscriptions=new r(this),this.nextSubscriptionId=0,this.listeners={subscribe:[],cancel:[],"new topic":[],"empty topic":[],message:[]}}n.exports=a,a.prototype.destroy=function(){this.subscriptions.destroy(),this.subscriptions=null,this.listeners=null},a.prototype.sandbox=function(){return new o(this)},a.prototype.publish=function(e,t,n){return void 0===n&&(n={}),this.emit("message",e,t,n),this.subscriptions.send(e,t,n),this},a.prototype.subscribe=function(e,t){var n=new i(this.getNextSubscriptionId(),e);return"function"==typeof t&&n.on("message",t),this.subscriptions.add(n),this.emit("subscribe",n),n},a.prototype.unsubscribe=function(e){return this.subscriptions.remove(e),this},a.prototype.count=function(){var e={};if(null===this.subscriptions)return e;return this.subscriptions.count("",e),e},a.prototype.on=function(e,t){var n=this.listeners[e];if("undefined"===typeof n)throw new Error("Unknown event: "+e);return n.push(t),this},a.prototype.off=function(e,t){var n=this.listeners[e];if("undefined"===typeof n)throw new Error("Unknown event: "+e);var r=n.indexOf(t);return-1!==r&&n.splice(r,1),this},a.prototype.emit=function(e,t){var n=this.listeners[e];if("undefined"===typeof n)throw new Error("Unknown event: "+e);if(!n.length)return this;var r=arguments.length;r>4&&(t=Array.prototype.slice.call(arguments)).shift();for(var i=0,o=n.length;i<o;++i){var a=n[i];switch(r){case 4:a(arguments[1],arguments[2],arguments[3]);break;case 3:a(arguments[1],arguments[2]);break;case 2:a(arguments[1]);break;default:a.apply(null,t)}}return this},a.prototype.getNextSubscriptionId=function(){return(this.nextSubscriptionId++).toString(36)}}),define("app/broker",["h5.pubsub/MessageBroker"],function(e){"use strict";var t=new e;return t.on("message",function(e,t){void 0===t?console.log("[%s]",e):console.log("[%s]",e,t)}),window.broker=t,t}),define("app/i18n",["underscore","moment","select2","app/broker"],function(e,t,n,r){"use strict";var i={},o=[];function a(e,t,n){try{return i[e][t](n)}catch(n){if(i[e]&&i[e][t])throw n;return r.publish("i18n.missingKey",{domain:e,key:t}),t}}function s(e,t){return void 0!==i[e]&&"function"==typeof i[e][t]}function u(t){var n={};if(null==t)return n;for(var r=Object.keys(t),i=0,o=r.length;i<o;++i){var a=r[i],s=t[a];if(null!==s&&"object"==typeof s)for(var c=u(s),l=Object.keys(c),d=0,p=l.length;d<p;++d)n[a+"->"+l[d]]=String(c[l[d]]);else n[a]="_"===a.charAt(0)?String(s):e.escape(String(s))}return n}return a.config=null,a.translate=a,a.register=function(e,t,n){i[e]=t,"string"==typeof n&&o.push(n),r.publish("i18n.registered",{domain:e,keys:t,moduleId:n})},a.reload=function(i,s){var u="en";e.isObject(a.config)&&(u=a.config.locale,a.config.locale=i),o.forEach(require.undef);var c=[].concat(o);"en"!==i&&c.unshift("moment-lang/"+i),c.unshift("select2-lang/"+i),require(c,function(){t.locale(i),n.lang(i),r.publish("i18n.reloaded",{oldLocale:u,newLocale:i}),e.isFunction(s)&&s()})},a.bound=function(e,t,n){function r(){return a(e,t,n)}return r.toString=r,r},a.has=s,a.flatten=u,a.forDomain=function(e){var t=function(t,n,r){return"object"==typeof n?a(e,t,n):"string"==typeof n||r?a(t,n,r):a(e,t)};return t.translate=t,t.bound=function(e,n,r){function i(){return t(e,n,r)}return i.toString=i,i},t.has=function(t,n){return n?s(t,n):s(e,t)},t.flatten=u,t},window.i18n=a,a}),define("socket.io",[],function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i=n(1),o=n(4),a=n(10),s=n(3)("socket.io-client");e.exports=t=c;var u=t.managers={};function c(e,t){"object"==(void 0===e?"undefined":r(e))&&(t=e,e=void 0),t=t||{};var n,o=i(e),c=o.source,l=o.id,d=o.path,p=u[l]&&d in u[l].nsps;return t.forceNew||t["force new connection"]||!1===t.multiplex||p?(s("ignoring socket cache for %s",c),n=a(c,t)):(u[l]||(s("new io instance for %s",c),u[l]=a(c,t)),n=u[l]),n.socket(o.path)}t.protocol=o.protocol,t.connect=c,t.Manager=n(10),t.Socket=n(37)},function(e,t,n){(function(t){"use strict";var r=n(2),i=n(3)("socket.io-client:url");e.exports=function(e,n){var o=e,n=n||t.location;null==e&&(e=n.protocol+"//"+n.host);"string"==typeof e&&("/"==e.charAt(0)&&(e="/"==e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(i("protocol-less url %s",e),e=void 0!==n?n.protocol+"//"+e:"https://"+e),i("parse %s",e),o=r(e));o.port||(/^(http|ws)$/.test(o.protocol)?o.port="80":/^(http|ws)s$/.test(o.protocol)&&(o.port="443"));o.path=o.path||"/";var a=-1!==o.host.indexOf(":")?"["+o.host+"]":o.host;return o.id=o.protocol+"://"+a+":"+o.port,o.href=o.protocol+"://"+a+(n&&n.port==o.port?"":":"+o.port),o}}).call(t,function(){return this}())},function(e,t){var n=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];e.exports=function(e){var t=e,i=e.indexOf("["),o=e.indexOf("]");-1!=i&&-1!=o&&(e=e.substring(0,i)+e.substring(i,o).replace(/:/g,";")+e.substring(o,e.length));for(var a=n.exec(e||""),s={},u=14;u--;)s[r[u]]=a[u]||"";return-1!=i&&-1!=o&&(s.source=t,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s}},function(e,t){"use strict";e.exports=function(){return function(){}}},function(e,t,n){var r=n(3)("socket.io-parser"),i=n(5),o=(n(6),n(7)),a=n(8),s=n(9);function u(){}function c(e){var n="",o=!1;return n+=e.type,t.BINARY_EVENT!=e.type&&t.BINARY_ACK!=e.type||(n+=e.attachments,n+="-"),e.nsp&&"/"!=e.nsp&&(o=!0,n+=e.nsp),null!=e.id&&(o&&(n+=",",o=!1),n+=e.id),null!=e.data&&(o&&(n+=","),n+=i.stringify(e.data)),r("encoded %j as %s",e,n),n}function l(){this.reconstructor=null}function d(e){this.reconPack=e,this.buffers=[]}function p(e){return{type:t.ERROR,data:"parser error"}}t.protocol=4,t.types=["CONNECT","DISCONNECT","EVENT","ACK","ERROR","BINARY_EVENT","BINARY_ACK"],t.CONNECT=0,t.DISCONNECT=1,t.EVENT=2,t.ACK=3,t.ERROR=4,t.BINARY_EVENT=5,t.BINARY_ACK=6,t.Encoder=u,t.Decoder=l,u.prototype.encode=function(e,n){(r("encoding packet %j",e),t.BINARY_EVENT==e.type||t.BINARY_ACK==e.type)?function(e,t){a.removeBlobs(e,function(e){var n=a.deconstructPacket(e),r=c(n.packet),i=n.buffers;i.unshift(r),t(i)})}(e,n):n([c(e)])},o(l.prototype),l.prototype.add=function(e){var n;if("string"==typeof e)n=function(e){var n={},o=0;if(n.type=Number(e.charAt(0)),null==t.types[n.type])return p();if(t.BINARY_EVENT==n.type||t.BINARY_ACK==n.type){for(var a="";"-"!=e.charAt(++o)&&(a+=e.charAt(o),o!=e.length););if(a!=Number(a)||"-"!=e.charAt(o))throw new Error("Illegal attachments");n.attachments=Number(a)}if("/"==e.charAt(o+1))for(n.nsp="";++o;){var s=e.charAt(o);if(","==s)break;if(n.nsp+=s,o==e.length)break}else n.nsp="/";var u=e.charAt(o+1);if(""!==u&&Number(u)==u){for(n.id="";++o;){var s=e.charAt(o);if(null==s||Number(s)!=s){--o;break}if(n.id+=e.charAt(o),o==e.length)break}n.id=Number(n.id)}if(e.charAt(++o))try{n.data=i.parse(e.substr(o))}catch(e){return p()}return r("decoded %s as %j",e,n),n}(e),t.BINARY_EVENT==n.type||t.BINARY_ACK==n.type?(this.reconstructor=new d(n),0===this.reconstructor.reconPack.attachments&&this.emit("decoded",n)):this.emit("decoded",n);else{if(!s(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");(n=this.reconstructor.takeBinaryData(e))&&(this.reconstructor=null,this.emit("decoded",n))}},l.prototype.destroy=function(){this.reconstructor&&this.reconstructor.finishedReconstruction()},d.prototype.takeBinaryData=function(e){if(this.buffers.push(e),this.buffers.length==this.reconPack.attachments){var t=a.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),t}return null},d.prototype.finishedReconstruction=function(){this.reconPack=null,this.buffers=[]}},function(e,t){"use strict";e.exports=JSON},function(e,t){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},function(e,t){function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},n.prototype.once=function(e,t){var n=this;function r(){n.off(e,r),t.apply(this,arguments)}return this._callbacks=this._callbacks||{},r.fn=t,this.on(e,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks[e];if(!r)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t,n){(function(e){var r=n(6),i=n(9);t.deconstructPacket=function(e){var t=[],n=e.data;var o=e;return o.data=function e(n){if(!n)return n;if(i(n)){var o={_placeholder:!0,num:t.length};return t.push(n),o}if(r(n)){for(var a=new Array(n.length),s=0;s<n.length;s++)a[s]=e(n[s]);return a}if("object"==typeof n&&!(n instanceof Date)){for(var u in a={},n)a[u]=e(n[u]);return a}return n}(n),o.attachments=t.length,{packet:o,buffers:t}},t.reconstructPacket=function(e,t){return e.data=function e(n){if(n&&n._placeholder)return t[n.num];if(r(n)){for(var i=0;i<n.length;i++)n[i]=e(n[i]);return n}if(n&&"object"==typeof n){for(var o in n)n[o]=e(n[o]);return n}return n}(e.data),e.attachments=void 0,e},t.removeBlobs=function(t,n){var o=0,a=t;!function t(s,u,c){if(!s)return s;if(e.Blob&&s instanceof Blob||e.File&&s instanceof File){o++;var l=new FileReader;l.onload=function(){c?c[u]=this.result:a=this.result,--o||n(a)},l.readAsArrayBuffer(s)}else if(r(s))for(var d=0;d<s.length;d++)t(s[d],d,s);else if(s&&"object"==typeof s&&!i(s))for(var p in s)t(s[p],p,s)}(a),o||n(a)}}).call(t,function(){return this}())},function(e,t){(function(t){e.exports=function(e){return t.Buffer&&t.Buffer.isBuffer(e)||t.ArrayBuffer&&e instanceof ArrayBuffer}}).call(t,function(){return this}())},function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},i=n(11),o=n(37),a=n(38),s=n(4),u=n(40),c=n(41),l=n(3)("socket.io-client:manager"),d=n(35),p=n(43),f=Object.prototype.hasOwnProperty;function h(e,t){if(!(this instanceof h))return new h(e,t);e&&"object"==(void 0===e?"undefined":r(e))&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.nsps={},this.subs=[],this.opts=t,this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(t.randomizationFactor||.5),this.backoff=new p({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this.readyState="closed",this.uri=e,this.connecting=[],this.lastPing=null,this.encoding=!1,this.packetBuffer=[],this.encoder=new s.Encoder,this.decoder=new s.Decoder,this.autoConnect=!1!==t.autoConnect,this.autoConnect&&this.open()}e.exports=h,h.prototype.emitAll=function(){for(var e in this.emit.apply(this,arguments),this.nsps)f.call(this.nsps,e)&&this.nsps[e].emit.apply(this.nsps[e],arguments)},h.prototype.updateSocketIds=function(){for(var e in this.nsps)f.call(this.nsps,e)&&(this.nsps[e].id=this.engine.id)},a(h.prototype),h.prototype.reconnection=function(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection},h.prototype.reconnectionAttempts=function(e){return arguments.length?(this._reconnectionAttempts=e,this):this._reconnectionAttempts},h.prototype.reconnectionDelay=function(e){return arguments.length?(this._reconnectionDelay=e,this.backoff&&this.backoff.setMin(e),this):this._reconnectionDelay},h.prototype.randomizationFactor=function(e){return arguments.length?(this._randomizationFactor=e,this.backoff&&this.backoff.setJitter(e),this):this._randomizationFactor},h.prototype.reconnectionDelayMax=function(e){return arguments.length?(this._reconnectionDelayMax=e,this.backoff&&this.backoff.setMax(e),this):this._reconnectionDelayMax},h.prototype.timeout=function(e){return arguments.length?(this._timeout=e,this):this._timeout},h.prototype.maybeReconnectOnOpen=function(){!this.reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()},h.prototype.open=h.prototype.connect=function(e){if(l("readyState %s",this.readyState),~this.readyState.indexOf("open"))return this;l("opening %s",this.uri),this.engine=i(this.uri,this.opts);var t=this.engine,n=this;this.readyState="opening",this.skipReconnect=!1;var r=u(t,"open",function(){n.onopen(),e&&e()}),o=u(t,"error",function(t){if(l("connect_error"),n.cleanup(),n.readyState="closed",n.emitAll("connect_error",t),e){var r=new Error("Connection error");r.data=t,e(r)}else n.maybeReconnectOnOpen()});if(!1!==this._timeout){var a=this._timeout;l("connect attempt will timeout after %d",a);var s=setTimeout(function(){l("connect attempt timed out after %d",a),r.destroy(),t.close(),t.emit("error","timeout"),n.emitAll("connect_timeout",a)},a);this.subs.push({destroy:function(){clearTimeout(s)}})}return this.subs.push(r),this.subs.push(o),this},h.prototype.onopen=function(){l("open"),this.cleanup(),this.readyState="open",this.emit("open");var e=this.engine;this.subs.push(u(e,"data",c(this,"ondata"))),this.subs.push(u(e,"ping",c(this,"onping"))),this.subs.push(u(e,"pong",c(this,"onpong"))),this.subs.push(u(e,"error",c(this,"onerror"))),this.subs.push(u(e,"close",c(this,"onclose"))),this.subs.push(u(this.decoder,"decoded",c(this,"ondecoded")))},h.prototype.onping=function(){this.lastPing=new Date,this.emitAll("ping")},h.prototype.onpong=function(){this.emitAll("pong",new Date-this.lastPing)},h.prototype.ondata=function(e){this.decoder.add(e)},h.prototype.ondecoded=function(e){this.emit("packet",e)},h.prototype.onerror=function(e){l("error",e),this.emitAll("error",e)},h.prototype.socket=function(e){var t=this.nsps[e];if(!t){t=new o(this,e),this.nsps[e]=t;var n=this;t.on("connecting",r),t.on("connect",function(){t.id=n.engine.id}),this.autoConnect&&r()}function r(){~d(n.connecting,t)||n.connecting.push(t)}return t},h.prototype.destroy=function(e){var t=d(this.connecting,e);~t&&this.connecting.splice(t,1),this.connecting.length||this.close()},h.prototype.packet=function(e){l("writing packet %j",e);var t=this;t.encoding?t.packetBuffer.push(e):(t.encoding=!0,this.encoder.encode(e,function(n){for(var r=0;r<n.length;r++)t.engine.write(n[r],e.options);t.encoding=!1,t.processPacketQueue()}))},h.prototype.processPacketQueue=function(){if(this.packetBuffer.length>0&&!this.encoding){var e=this.packetBuffer.shift();this.packet(e)}},h.prototype.cleanup=function(){var e;for(l("cleanup");e=this.subs.shift();)e.destroy();this.packetBuffer=[],this.encoding=!1,this.lastPing=null,this.decoder.destroy()},h.prototype.close=h.prototype.disconnect=function(){l("disconnect"),this.skipReconnect=!0,this.reconnecting=!1,"opening"==this.readyState&&this.cleanup(),this.backoff.reset(),this.readyState="closed",this.engine&&this.engine.close()},h.prototype.onclose=function(e){l("onclose"),this.cleanup(),this.backoff.reset(),this.readyState="closed",this.emit("close",e),this._reconnection&&!this.skipReconnect&&this.reconnect()},h.prototype.reconnect=function(){if(this.reconnecting||this.skipReconnect)return this;var e=this;if(this.backoff.attempts>=this._reconnectionAttempts)l("reconnect failed"),this.backoff.reset(),this.emitAll("reconnect_failed"),this.reconnecting=!1;else{var t=this.backoff.duration();l("will wait %dms before reconnect attempt",t),this.reconnecting=!0;var n=setTimeout(function(){e.skipReconnect||(l("attempting reconnect"),e.emitAll("reconnect_attempt",e.backoff.attempts),e.emitAll("reconnecting",e.backoff.attempts),e.skipReconnect||e.open(function(t){t?(l("reconnect attempt error"),e.reconnecting=!1,e.reconnect(),e.emitAll("reconnect_error",t.data)):(l("reconnect success"),e.onreconnect())}))},t);this.subs.push({destroy:function(){clearTimeout(n)}})}},h.prototype.onreconnect=function(){var e=this.backoff.attempts;this.reconnecting=!1,this.backoff.reset(),this.updateSocketIds(),this.emitAll("reconnect",e)}},function(e,t,n){e.exports=n(12)},function(e,t,n){e.exports=n(13),e.exports.parser=n(21)},function(e,t,n){(function(t){var r=n(14),i=n(30),o=n(3)("engine.io-client:socket"),a=n(35),s=n(21),u=n(2),c=n(36),l=n(31);function d(e,n){if(!(this instanceof d))return new d(e,n);n=n||{},e&&"object"==typeof e&&(n=e,e=null),e?(e=u(e),n.hostname=e.host,n.secure="https"==e.protocol||"wss"==e.protocol,n.port=e.port,e.query&&(n.query=e.query)):n.host&&(n.hostname=u(n.host).host),this.secure=null!=n.secure?n.secure:t.location&&"https:"==location.protocol,n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.agent=n.agent||!1,this.hostname=n.hostname||(t.location?location.hostname:"localhost"),this.port=n.port||(t.location&&location.port?location.port:this.secure?443:80),this.query=n.query||{},"string"==typeof this.query&&(this.query=l.decode(this.query)),this.upgrade=!1!==n.upgrade,this.path=(n.path||"/engine.io").replace(/\/$/,"")+"/",this.forceJSONP=!!n.forceJSONP,this.jsonp=!1!==n.jsonp,this.forceBase64=!!n.forceBase64,this.enablesXDR=!!n.enablesXDR,this.timestampParam=n.timestampParam||"t",this.timestampRequests=n.timestampRequests,this.transports=n.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.policyPort=n.policyPort||843,this.rememberUpgrade=n.rememberUpgrade||!1,this.binaryType=null,this.onlyBinaryUpgrades=n.onlyBinaryUpgrades,this.perMessageDeflate=!1!==n.perMessageDeflate&&(n.perMessageDeflate||{}),!0===this.perMessageDeflate&&(this.perMessageDeflate={}),this.perMessageDeflate&&null==this.perMessageDeflate.threshold&&(this.perMessageDeflate.threshold=1024),this.pfx=n.pfx||null,this.key=n.key||null,this.passphrase=n.passphrase||null,this.cert=n.cert||null,this.ca=n.ca||null,this.ciphers=n.ciphers||null,this.rejectUnauthorized=void 0===n.rejectUnauthorized?null:n.rejectUnauthorized;var r="object"==typeof t&&t;r.global===r&&n.extraHeaders&&Object.keys(n.extraHeaders).length>0&&(this.extraHeaders=n.extraHeaders),this.open()}e.exports=d,d.priorWebsocketSuccess=!1,i(d.prototype),d.protocol=s.protocol,d.Socket=d,d.Transport=n(20),d.transports=n(14),d.parser=n(21),d.prototype.createTransport=function(e){o('creating transport "%s"',e);var t=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}(this.query);return t.EIO=s.protocol,t.transport=e,this.id&&(t.sid=this.id),new r[e]({agent:this.agent,hostname:this.hostname,port:this.port,secure:this.secure,path:this.path,query:t,forceJSONP:this.forceJSONP,jsonp:this.jsonp,forceBase64:this.forceBase64,enablesXDR:this.enablesXDR,timestampRequests:this.timestampRequests,timestampParam:this.timestampParam,policyPort:this.policyPort,socket:this,pfx:this.pfx,key:this.key,passphrase:this.passphrase,cert:this.cert,ca:this.ca,ciphers:this.ciphers,rejectUnauthorized:this.rejectUnauthorized,perMessageDeflate:this.perMessageDeflate,extraHeaders:this.extraHeaders})},d.prototype.open=function(){var e;if(this.rememberUpgrade&&d.priorWebsocketSuccess&&-1!=this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length){var t=this;return void setTimeout(function(){t.emit("error","No transports available")},0)}e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)},d.prototype.setTransport=function(e){o("setting transport %s",e.name);var t=this;this.transport&&(o("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",function(){t.onDrain()}).on("packet",function(e){t.onPacket(e)}).on("error",function(e){t.onError(e)}).on("close",function(){t.onClose("transport close")})},d.prototype.probe=function(e){o('probing transport "%s"',e);var t=this.createTransport(e,{probe:1}),n=!1,r=this;function i(){if(r.onlyBinaryUpgrades){var i=!this.supportsBinary&&r.transport.supportsBinary;n=n||i}n||(o('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",function(i){if(!n)if("pong"==i.type&&"probe"==i.data){if(o('probe transport "%s" pong',e),r.upgrading=!0,r.emit("upgrading",t),!t)return;d.priorWebsocketSuccess="websocket"==t.name,o('pausing current transport "%s"',r.transport.name),r.transport.pause(function(){n||"closed"!=r.readyState&&(o("changing transport and sending upgrade packet"),p(),r.setTransport(t),t.send([{type:"upgrade"}]),r.emit("upgrade",t),t=null,r.upgrading=!1,r.flush())})}else{o('probe transport "%s" failed',e);var a=new Error("probe error");a.transport=t.name,r.emit("upgradeError",a)}}))}function a(){n||(n=!0,p(),t.close(),t=null)}function s(n){var i=new Error("probe error: "+n);i.transport=t.name,a(),o('probe transport "%s" failed because of error: %s',e,n),r.emit("upgradeError",i)}function u(){s("transport closed")}function c(){s("socket closed")}function l(e){t&&e.name!=t.name&&(o('"%s" works - aborting "%s"',e.name,t.name),a())}function p(){t.removeListener("open",i),t.removeListener("error",s),t.removeListener("close",u),r.removeListener("close",c),r.removeListener("upgrading",l)}d.priorWebsocketSuccess=!1,t.once("open",i),t.once("error",s),t.once("close",u),this.once("close",c),this.once("upgrading",l),t.open()},d.prototype.onOpen=function(){if(o("socket open"),this.readyState="open",d.priorWebsocketSuccess="websocket"==this.transport.name,this.emit("open"),this.flush(),"open"==this.readyState&&this.upgrade&&this.transport.pause){o("starting upgrade probes");for(var e=0,t=this.upgrades.length;e<t;e++)this.probe(this.upgrades[e])}},d.prototype.onPacket=function(e){if("opening"==this.readyState||"open"==this.readyState)switch(o('socket receive: type "%s", data "%s"',e.type,e.data),this.emit("packet",e),this.emit("heartbeat"),e.type){case"open":this.onHandshake(c(e.data));break;case"pong":this.setPing(),this.emit("pong");break;case"error":var t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emit("data",e.data),this.emit("message",e.data)}else o('packet received with socket readyState "%s"',this.readyState)},d.prototype.onHandshake=function(e){this.emit("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.onOpen(),"closed"!=this.readyState&&(this.setPing(),this.removeListener("heartbeat",this.onHeartbeat),this.on("heartbeat",this.onHeartbeat))},d.prototype.onHeartbeat=function(e){clearTimeout(this.pingTimeoutTimer);var t=this;t.pingTimeoutTimer=setTimeout(function(){"closed"!=t.readyState&&t.onClose("ping timeout")},e||t.pingInterval+t.pingTimeout)},d.prototype.setPing=function(){var e=this;clearTimeout(e.pingIntervalTimer),e.pingIntervalTimer=setTimeout(function(){o("writing ping packet - expecting pong within %sms",e.pingTimeout),e.ping(),e.onHeartbeat(e.pingTimeout)},e.pingInterval)},d.prototype.ping=function(){var e=this;this.sendPacket("ping",function(){e.emit("ping")})},d.prototype.onDrain=function(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emit("drain"):this.flush()},d.prototype.flush=function(){"closed"!=this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(o("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))},d.prototype.write=d.prototype.send=function(e,t,n){return this.sendPacket("message",e,t,n),this},d.prototype.sendPacket=function(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"!=this.readyState&&"closed"!=this.readyState){(n=n||{}).compress=!1!==n.compress;var i={type:e,data:t,options:n};this.emit("packetCreate",i),this.writeBuffer.push(i),r&&this.once("flush",r),this.flush()}},d.prototype.close=function(){if("opening"==this.readyState||"open"==this.readyState){this.readyState="closing";var e=this;this.writeBuffer.length?this.once("drain",function(){this.upgrading?r():t()}):this.upgrading?r():t()}function t(){e.onClose("forced close"),o("socket closing - telling transport to close"),e.transport.close()}function n(){e.removeListener("upgrade",n),e.removeListener("upgradeError",n),t()}function r(){e.once("upgrade",n),e.once("upgradeError",n)}return this},d.prototype.onError=function(e){o("socket error %j",e),d.priorWebsocketSuccess=!1,this.emit("error",e),this.onClose("transport error",e)},d.prototype.onClose=function(e,t){if("opening"==this.readyState||"open"==this.readyState||"closing"==this.readyState){o('socket close with reason: "%s"',e);clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),this.readyState="closed",this.id=null,this.emit("close",e,t),this.writeBuffer=[],this.prevBufferLen=0}},d.prototype.filterUpgrades=function(e){for(var t=[],n=0,r=e.length;n<r;n++)~a(this.transports,e[n])&&t.push(e[n]);return t}}).call(t,function(){return this}())},function(e,t,n){(function(e){var r=n(15),i=n(17),o=n(18),a=n(19);t.polling=function(t){var n=!1,a=!1,s=!1!==t.jsonp;if(e.location){var u="https:"==location.protocol,c=location.port;c||(c=u?443:80),n=t.hostname!=location.hostname||c!=t.port,a=t.secure!=u}if(t.xdomain=n,t.xscheme=a,"open"in new r(t)&&!t.forceJSONP)return new i(t);if(!s)throw new Error("JSONP disabled");return new o(t)},t.websocket=a}).call(t,function(){return this}())},function(e,t,n){var r=n(16);e.exports=function(e){var t=e.xdomain,n=e.xscheme,i=e.enablesXDR;try{if("undefined"!=typeof XMLHttpRequest&&(!t||r))return new XMLHttpRequest}catch(e){}try{if("undefined"!=typeof XDomainRequest&&!n&&i)return new XDomainRequest}catch(e){}if(!t)try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}},function(e,t){try{e.exports="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(t){e.exports=!1}},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(){}},function(e,t,n){(function(t){var r=n(20),i=n(21),o=n(31),a=n(32),s=n(33),u=n(3)("engine.io-client:websocket"),c=t.WebSocket||t.MozWebSocket,l=c;if(!l&&"undefined"==typeof window)try{l=n(34)}catch(e){}function d(e){e&&e.forceBase64&&(this.supportsBinary=!1),this.perMessageDeflate=e.perMessageDeflate,r.call(this,e)}e.exports=d,a(d,r),d.prototype.name="websocket",d.prototype.supportsBinary=!0,d.prototype.doOpen=function(){if(this.check()){var e=this.uri(),t={agent:this.agent,perMessageDeflate:this.perMessageDeflate};t.pfx=this.pfx,t.key=this.key,t.passphrase=this.passphrase,t.cert=this.cert,t.ca=this.ca,t.ciphers=this.ciphers,t.rejectUnauthorized=this.rejectUnauthorized,this.extraHeaders&&(t.headers=this.extraHeaders),this.ws=c?new l(e):new l(e,void 0,t),void 0===this.ws.binaryType&&(this.supportsBinary=!1),this.ws.supports&&this.ws.supports.binary?(this.supportsBinary=!0,this.ws.binaryType="buffer"):this.ws.binaryType="arraybuffer",this.addEventListeners()}},d.prototype.addEventListeners=function(){var e=this;this.ws.onopen=function(){e.onOpen()},this.ws.onclose=function(){e.onClose()},this.ws.onmessage=function(t){e.onData(t.data)},this.ws.onerror=function(t){e.onError("websocket error",t)}},"undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)&&(d.prototype.onData=function(e){var t=this;setTimeout(function(){r.prototype.onData.call(t,e)},0)}),d.prototype.write=function(e){var n=this;this.writable=!1;for(var r=e.length,o=0,a=r;o<a;o++)!function(e){i.encodePacket(e,n.supportsBinary,function(i){if(!c){var o={};if(e.options&&(o.compress=e.options.compress),n.perMessageDeflate)("string"==typeof i?t.Buffer.byteLength(i):i.length)<n.perMessageDeflate.threshold&&(o.compress=!1)}try{c?n.ws.send(i):n.ws.send(i,o)}catch(e){u("websocket closed before onclose event")}--r||s()})}(e[o]);function s(){n.emit("flush"),setTimeout(function(){n.writable=!0,n.emit("drain")},0)}},d.prototype.onClose=function(){r.prototype.onClose.call(this)},d.prototype.doClose=function(){void 0!==this.ws&&this.ws.close()},d.prototype.uri=function(){var e=this.query||{},t=this.secure?"wss":"ws",n="";return this.port&&("wss"==t&&443!=this.port||"ws"==t&&80!=this.port)&&(n=":"+this.port),this.timestampRequests&&(e[this.timestampParam]=s()),this.supportsBinary||(e.b64=1),(e=o.encode(e)).length&&(e="?"+e),t+"://"+(-1!==this.hostname.indexOf(":")?"["+this.hostname+"]":this.hostname)+n+this.path+e},d.prototype.check=function(){return!(!l||"__initialize"in l&&this.name===d.prototype.name)}}).call(t,function(){return this}())},function(e,t,n){var r=n(21),i=n(30);function o(e){this.path=e.path,this.hostname=e.hostname,this.port=e.port,this.secure=e.secure,this.query=e.query,this.timestampParam=e.timestampParam,this.timestampRequests=e.timestampRequests,this.readyState="",this.agent=e.agent||!1,this.socket=e.socket,this.enablesXDR=e.enablesXDR,this.pfx=e.pfx,this.key=e.key,this.passphrase=e.passphrase,this.cert=e.cert,this.ca=e.ca,this.ciphers=e.ciphers,this.rejectUnauthorized=e.rejectUnauthorized,this.extraHeaders=e.extraHeaders}e.exports=o,i(o.prototype),o.prototype.onError=function(e,t){var n=new Error(e);return n.type="TransportError",n.description=t,this.emit("error",n),this},o.prototype.open=function(){return"closed"!=this.readyState&&""!=this.readyState||(this.readyState="opening",this.doOpen()),this},o.prototype.close=function(){return"opening"!=this.readyState&&"open"!=this.readyState||(this.doClose(),this.onClose()),this},o.prototype.send=function(e){if("open"!=this.readyState)throw new Error("Transport not open");this.write(e)},o.prototype.onOpen=function(){this.readyState="open",this.writable=!0,this.emit("open")},o.prototype.onData=function(e){var t=r.decodePacket(e,this.socket.binaryType);this.onPacket(t)},o.prototype.onPacket=function(e){this.emit("packet",e)},o.prototype.onClose=function(){this.readyState="closed",this.emit("close")}},function(e,t,n){(function(e){var r=n(22),i=n(23),o=n(24),a=n(25),s=n(26),u=n(27),c=navigator.userAgent.match(/Android/i),l=/PhantomJS/i.test(navigator.userAgent),d=c||l;t.protocol=3;var p=t.packets={open:0,close:1,ping:2,pong:3,message:4,upgrade:5,noop:6},f=r(p),h={type:"error",data:"parser error"},m=n(29);function g(e,t,n){for(var r=new Array(e.length),i=s(e.length,n),o=function(e,n,i){t(n,function(t,n){r[e]=n,i(t,r)})},a=0;a<e.length;a++)o(a,e[a],i)}t.encodePacket=function(n,r,i,o){"function"==typeof r&&(o=r,r=!1),"function"==typeof i&&(o=i,i=null);var a=void 0===n.data?void 0:n.data.buffer||n.data;if(e.ArrayBuffer&&a instanceof ArrayBuffer)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=e.data,o=new Uint8Array(i),a=new Uint8Array(1+i.byteLength);a[0]=p[e.type];for(var s=0;s<o.length;s++)a[s+1]=o[s];return r(a.buffer)}(n,r,o);if(m&&a instanceof e.Blob)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);if(d)return function(e,n,r){if(!n)return t.encodeBase64Packet(e,r);var i=new FileReader;return i.onload=function(){e.data=i.result,t.encodePacket(e,n,!0,r)},i.readAsArrayBuffer(e.data)}(e,n,r);var i=new Uint8Array(1);i[0]=p[e.type];var o=new m([i.buffer,e.data]);return r(o)}(n,r,o);if(a&&a.base64)return function(e,n){var r="b"+t.packets[e.type]+e.data.data;return n(r)}(n,o);var s=p[n.type];return void 0!==n.data&&(s+=i?u.encode(String(n.data)):String(n.data)),o(""+s)},t.encodeBase64Packet=function(n,r){var i,o="b"+t.packets[n.type];if(m&&n.data instanceof e.Blob){var a=new FileReader;return a.onload=function(){var e=a.result.split(",")[1];r(o+e)},a.readAsDataURL(n.data)}try{i=String.fromCharCode.apply(null,new Uint8Array(n.data))}catch(e){for(var s=new Uint8Array(n.data),u=new Array(s.length),c=0;c<s.length;c++)u[c]=s[c];i=String.fromCharCode.apply(null,u)}return o+=e.btoa(i),r(o)},t.decodePacket=function(e,n,r){if("string"==typeof e||void 0===e){if("b"==e.charAt(0))return t.decodeBase64Packet(e.substr(1),n);if(r)try{e=u.decode(e)}catch(e){return h}var i=e.charAt(0);return Number(i)==i&&f[i]?e.length>1?{type:f[i],data:e.substring(1)}:{type:f[i]}:h}i=new Uint8Array(e)[0];var a=o(e,1);return m&&"blob"===n&&(a=new m([a])),{type:f[i],data:a}},t.decodeBase64Packet=function(t,n){var r=f[t.charAt(0)];if(!e.ArrayBuffer)return{type:r,data:{base64:!0,data:t.substr(1)}};var i=a.decode(t.substr(1));return"blob"===n&&m&&(i=new m([i])),{type:r,data:i}},t.encodePayload=function(e,n,r){"function"==typeof n&&(r=n,n=null);var o=i(e);if(n&&o)return m&&!d?t.encodePayloadAsBlob(e,r):t.encodePayloadAsArrayBuffer(e,r);if(!e.length)return r("0:");g(e,function(e,r){t.encodePacket(e,!!o&&n,!0,function(e){r(null,function(e){return e.length+":"+e}(e))})},function(e,t){return r(t.join(""))})},t.decodePayload=function(e,n,r){if("string"!=typeof e)return t.decodePayloadAsBinary(e,n,r);var i;if("function"==typeof n&&(r=n,n=null),""==e)return r(h,0,1);for(var o,a,s="",u=0,c=e.length;u<c;u++){var l=e.charAt(u);if(":"!=l)s+=l;else{if(""==s||s!=(o=Number(s)))return r(h,0,1);if(s!=(a=e.substr(u+1,o)).length)return r(h,0,1);if(a.length){if(i=t.decodePacket(a,n,!0),h.type==i.type&&h.data==i.data)return r(h,0,1);if(!1===r(i,u+o,c))return}u+=o,s=""}}return""!=s?r(h,0,1):void 0},t.encodePayloadAsArrayBuffer=function(e,n){if(!e.length)return n(new ArrayBuffer(0));g(e,function(e,n){t.encodePacket(e,!0,!0,function(e){return n(null,e)})},function(e,t){var r=t.reduce(function(e,t){var n;return e+(n="string"==typeof t?t.length:t.byteLength).toString().length+n+2},0),i=new Uint8Array(r),o=0;return t.forEach(function(e){var t="string"==typeof e,n=e;if(t){for(var r=new Uint8Array(e.length),a=0;a<e.length;a++)r[a]=e.charCodeAt(a);n=r.buffer}i[o++]=t?0:1;var s=n.byteLength.toString();for(a=0;a<s.length;a++)i[o++]=parseInt(s[a]);i[o++]=255;for(r=new Uint8Array(n),a=0;a<r.length;a++)i[o++]=r[a]}),n(i.buffer)})},t.encodePayloadAsBlob=function(e,n){g(e,function(e,n){t.encodePacket(e,!0,!0,function(e){var t=new Uint8Array(1);if(t[0]=1,"string"==typeof e){for(var r=new Uint8Array(e.length),i=0;i<e.length;i++)r[i]=e.charCodeAt(i);e=r.buffer,t[0]=0}var o=(e instanceof ArrayBuffer?e.byteLength:e.size).toString(),a=new Uint8Array(o.length+1);for(i=0;i<o.length;i++)a[i]=parseInt(o[i]);if(a[o.length]=255,m){var s=new m([t.buffer,a.buffer,e]);n(null,s)}})},function(e,t){return n(new m(t))})},t.decodePayloadAsBinary=function(e,n,r){"function"==typeof n&&(r=n,n=null);for(var i=e,a=[],s=!1;i.byteLength>0;){for(var u=new Uint8Array(i),c=0===u[0],l="",d=1;255!=u[d];d++){if(l.length>310){s=!0;break}l+=u[d]}if(s)return r(h,0,1);i=o(i,2+l.length),l=parseInt(l);var p=o(i,0,l);if(c)try{p=String.fromCharCode.apply(null,new Uint8Array(p))}catch(e){var f=new Uint8Array(p);p="";for(d=0;d<f.length;d++)p+=String.fromCharCode(f[d])}a.push(p),i=o(i,l)}var m=a.length;a.forEach(function(e,i){r(t.decodePacket(e,n,!0),i,m)})}}).call(t,function(){return this}())},function(e,t){e.exports=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t}},function(e,t,n){(function(t){var r=n(6);e.exports=function(e){return function e(n){if(!n)return!1;if(t.Buffer&&t.Buffer.isBuffer(n)||t.ArrayBuffer&&n instanceof ArrayBuffer||t.Blob&&n instanceof Blob||t.File&&n instanceof File)return!0;if(r(n)){for(var i=0;i<n.length;i++)if(e(n[i]))return!0}else if(n&&"object"==typeof n)for(var o in n.toJSON&&(n=n.toJSON()),n)if(Object.prototype.hasOwnProperty.call(n,o)&&e(n[o]))return!0;return!1}(e)}}).call(t,function(){return this}())},function(e,t){e.exports=function(e,t,n){var r=e.byteLength;if(t=t||0,n=n||r,e.slice)return e.slice(t,n);if(t<0&&(t+=r),n<0&&(n+=r),n>r&&(n=r),t>=r||t>=n||0===r)return new ArrayBuffer(0);for(var i=new Uint8Array(e),o=new Uint8Array(n-t),a=t,s=0;a<n;a++,s++)o[s]=i[a];return o.buffer}},function(e,t){!function(){"use strict";for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n=new Uint8Array(256),r=0;r<e.length;r++)n[e.charCodeAt(r)]=r;t.encode=function(t){var n,r=new Uint8Array(t),i=r.length,o="";for(n=0;n<i;n+=3)o+=e[r[n]>>2],o+=e[(3&r[n])<<4|r[n+1]>>4],o+=e[(15&r[n+1])<<2|r[n+2]>>6],o+=e[63&r[n+2]];return i%3==2?o=o.substring(0,o.length-1)+"=":i%3==1&&(o=o.substring(0,o.length-2)+"=="),o},t.decode=function(e){var t,r,i,o,a,s=.75*e.length,u=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);var l=new ArrayBuffer(s),d=new Uint8Array(l);for(t=0;t<u;t+=4)r=n[e.charCodeAt(t)],i=n[e.charCodeAt(t+1)],o=n[e.charCodeAt(t+2)],a=n[e.charCodeAt(t+3)],d[c++]=r<<2|i>>4,d[c++]=(15&i)<<4|o>>2,d[c++]=(3&o)<<6|63&a;return l}}()},function(e,t){function n(){}e.exports=function(e,t,r){var i=!1;return r=r||n,o.count=e,0===e?t():o;function o(e,n){if(o.count<=0)throw new Error("after called too many times");--o.count,e?(i=!0,t(e),t=r):0!==o.count||i||t(null,n)}}},function(e,t,n){var r;(function(e,i){!function(o){var a="object"==typeof t&&t,s=("object"==typeof e&&e&&e.exports,"object"==typeof i&&i);s.global!==s&&s.window;var u,c,l,d=String.fromCharCode;function p(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function f(e){if(e>=55296&&e<=57343)throw Error("Lone surrogate U+"+e.toString(16).toUpperCase()+" is not a scalar value")}function h(e,t){return d(e>>t&63|128)}function m(e){if(0==(4294967168&e))return d(e);var t="";return 0==(4294965248&e)?t=d(e>>6&31|192):0==(4294901760&e)?(f(e),t=d(e>>12&15|224),t+=h(e,6)):0==(4292870144&e)&&(t=d(e>>18&7|240),t+=h(e,12),t+=h(e,6)),t+=d(63&e|128)}function g(){if(l>=c)throw Error("Invalid byte index");var e=255&u[l];if(l++,128==(192&e))return 63&e;throw Error("Invalid continuation byte")}function y(){var e,t;if(l>c)throw Error("Invalid byte index");if(l==c)return!1;if(e=255&u[l],l++,0==(128&e))return e;if(192==(224&e)){if((t=(31&e)<<6|g())>=128)return t;throw Error("Invalid continuation byte")}if(224==(240&e)){if((t=(15&e)<<12|g()<<6|g())>=2048)return f(t),t;throw Error("Invalid continuation byte")}if(240==(248&e)&&(t=(15&e)<<18|g()<<12|g()<<6|g())>=65536&&t<=1114111)return t;throw Error("Invalid UTF-8 detected")}var v={version:"2.0.0",encode:function(e){for(var t=p(e),n=t.length,r=-1,i="";++r<n;)i+=m(t[r]);return i},decode:function(e){u=p(e),c=u.length,l=0;for(var t,n=[];!1!==(t=y());)n.push(t);return function(e){for(var t,n=e.length,r=-1,i="";++r<n;)(t=e[r])>65535&&(i+=d((t-=65536)>>>10&1023|55296),t=56320|1023&t),i+=d(t);return i}(n)}};void 0===(r=function(){return v}.call(t,n,t,e))||(e.exports=r)}()}).call(t,n(28)(e),function(){return this}())},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){(function(t){var n=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,r=function(){try{return 2===new Blob(["hi"]).size}catch(e){return!1}}(),i=r&&function(){try{return 2===new Blob([new Uint8Array([1,2])]).size}catch(e){return!1}}(),o=n&&n.prototype.append&&n.prototype.getBlob;function a(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var i=new Uint8Array(n.byteLength);i.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=i.buffer}e[t]=r}}}function s(e,t){t=t||{};var r=new n;a(e);for(var i=0;i<e.length;i++)r.append(e[i]);return t.type?r.getBlob(t.type):r.getBlob()}function u(e,t){return a(e),new Blob(e,t||{})}e.exports=r?i?t.Blob:u:o?s:void 0}).call(t,function(){return this}())},function(e,t){function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(t),this},n.prototype.once=function(e,t){var n=this;function r(){n.off(e,r),t.apply(this,arguments)}return this._callbacks=this._callbacks||{},r.fn=t,this.on(e,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks[e];if(!r)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t){t.encode=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t},t.decode=function(e){for(var t={},n=e.split("&"),r=0,i=n.length;r<i;r++){var o=n[r].split("=");t[decodeURIComponent(o[0])]=decodeURIComponent(o[1])}return t}},function(e,t){e.exports=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){"use strict";var n,r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),i=64,o={},a=0,s=0;function u(e){var t="";do{t=r[e%i]+t,e=Math.floor(e/i)}while(e>0);return t}function c(){var e=u(+new Date);return e!==n?(a=0,n=e):e+"."+u(a++)}for(;s<i;s++)o[r[s]]=s;c.encode=u,c.decode=function(e){var t=0;for(s=0;s<e.length;s++)t=t*i+o[e.charAt(s)];return t},e.exports=c},function(e,t){},function(e,t){var n=[].indexOf;e.exports=function(e,t){if(n)return e.indexOf(t);for(var r=0;r<e.length;++r)if(e[r]===t)return r;return-1}},function(e,t){(function(t){var n=/^[\],:{}\s]*$/,r=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,i=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,o=/(?:^|:|,)(?:\s*\[)+/g,a=/^\s+/,s=/\s+$/;e.exports=function(e){return"string"==typeof e&&e?(e=e.replace(a,"").replace(s,""),t.JSON&&JSON.parse?JSON.parse(e):n.test(e.replace(r,"@").replace(i,"]").replace(o,""))?new Function("return "+e)():void 0):null}}).call(t,function(){return this}())},function(e,t,n){"use strict";var r=n(4),i=n(38),o=n(39),a=n(40),s=n(41),u=n(3)("socket.io-client:socket"),c=n(42);e.exports=p;var l={connect:1,connect_error:1,connect_timeout:1,connecting:1,disconnect:1,error:1,reconnect:1,reconnect_attempt:1,reconnect_failed:1,reconnect_error:1,reconnecting:1,ping:1,pong:1},d=i.prototype.emit;function p(e,t){this.io=e,this.nsp=t,this.json=this,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.io.autoConnect&&this.open()}i(p.prototype),p.prototype.subEvents=function(){if(!this.subs){var e=this.io;this.subs=[a(e,"open",s(this,"onopen")),a(e,"packet",s(this,"onpacket")),a(e,"close",s(this,"onclose"))]}},p.prototype.open=p.prototype.connect=function(){return this.connected?this:(this.subEvents(),this.io.open(),"open"==this.io.readyState&&this.onopen(),this.emit("connecting"),this)},p.prototype.send=function(){var e=o(arguments);return e.unshift("message"),this.emit.apply(this,e),this},p.prototype.emit=function(e){if(l.hasOwnProperty(e))return d.apply(this,arguments),this;var t=o(arguments),n=r.EVENT;c(t)&&(n=r.BINARY_EVENT);var i={type:n,data:t,options:{}};return i.options.compress=!this.flags||!1!==this.flags.compress,"function"==typeof t[t.length-1]&&(u("emitting packet with ack id %d",this.ids),this.acks[this.ids]=t.pop(),i.id=this.ids++),this.connected?this.packet(i):this.sendBuffer.push(i),delete this.flags,this},p.prototype.packet=function(e){e.nsp=this.nsp,this.io.packet(e)},p.prototype.onopen=function(){u("transport is open - connecting"),"/"!=this.nsp&&this.packet({type:r.CONNECT})},p.prototype.onclose=function(e){u("close (%s)",e),this.connected=!1,this.disconnected=!0,delete this.id,this.emit("disconnect",e)},p.prototype.onpacket=function(e){if(e.nsp==this.nsp)switch(e.type){case r.CONNECT:this.onconnect();break;case r.EVENT:case r.BINARY_EVENT:this.onevent(e);break;case r.ACK:case r.BINARY_ACK:this.onack(e);break;case r.DISCONNECT:this.ondisconnect();break;case r.ERROR:this.emit("error",e.data)}},p.prototype.onevent=function(e){var t=e.data||[];u("emitting event %j",t),null!=e.id&&(u("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?d.apply(this,t):this.receiveBuffer.push(t)},p.prototype.ack=function(e){var t=this,n=!1;return function(){if(!n){n=!0;var i=o(arguments);u("sending ack %j",i);var a=c(i)?r.BINARY_ACK:r.ACK;t.packet({type:a,id:e,data:i})}}},p.prototype.onack=function(e){var t=this.acks[e.id];"function"==typeof t?(u("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):u("bad ack %s",e.id)},p.prototype.onconnect=function(){this.connected=!0,this.disconnected=!1,this.emit("connect"),this.emitBuffered()},p.prototype.emitBuffered=function(){var e;for(e=0;e<this.receiveBuffer.length;e++)d.apply(this,this.receiveBuffer[e]);for(this.receiveBuffer=[],e=0;e<this.sendBuffer.length;e++)this.packet(this.sendBuffer[e]);this.sendBuffer=[]},p.prototype.ondisconnect=function(){u("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")},p.prototype.destroy=function(){if(this.subs){for(var e=0;e<this.subs.length;e++)this.subs[e].destroy();this.subs=null}this.io.destroy(this)},p.prototype.close=p.prototype.disconnect=function(){return this.connected&&(u("performing disconnect (%s)",this.nsp),this.packet({type:r.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this},p.prototype.compress=function(e){return this.flags=this.flags||{},this.flags.compress=e,this}},function(e,t){function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}e.exports=n,n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks["$"+e];if(n)for(var r=0,i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},function(e,t){e.exports=function(e,t){for(var n=[],r=(t=t||0)||0;r<e.length;r++)n[r-t]=e[r];return n}},function(e,t){"use strict";e.exports=function(e,t,n){return e.on(t,n),{destroy:function(){e.removeListener(t,n)}}}},function(e,t){var n=[].slice;e.exports=function(e,t){if("string"==typeof t&&(t=e[t]),"function"!=typeof t)throw new Error("bind() requires a function");var r=n.call(arguments,2);return function(){return t.apply(e,r.concat(n.call(arguments)))}}},function(e,t,n){(function(t){var r=n(6);e.exports=function(e){return function e(n){if(!n)return!1;if(t.Buffer&&t.Buffer.isBuffer&&t.Buffer.isBuffer(n)||t.ArrayBuffer&&n instanceof ArrayBuffer||t.Blob&&n instanceof Blob||t.File&&n instanceof File)return!0;if(r(n)){for(var i=0;i<n.length;i++)if(e(n[i]))return!0}else if(n&&"object"==typeof n)for(var o in n.toJSON&&"function"==typeof n.toJSON&&(n=n.toJSON()),n)if(Object.prototype.hasOwnProperty.call(n,o)&&e(n[o]))return!0;return!1}(e)}}).call(t,function(){return this}())},function(e,t){function n(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}e.exports=n,n.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-n:e+n}return 0|Math.min(e,this.max)},n.prototype.reset=function(){this.attempts=0},n.prototype.setMin=function(e){this.ms=e},n.prototype.setMax=function(e){this.max=e},n.prototype.setJitter=function(e){this.jitter=e}}])}),define("app/core/SocketSandbox",["underscore"],function(e){"use strict";function t(e){if(this.socket=e,this.listeners={destroy:[]},e instanceof t){var n=this;this.socket.on("destroy",function(){n.destroy()})}}return t.prototype.destroy=function(){var t=this.listeners;if(null!=t){var n=t.destroy;if(e.isArray(n))for(var r=0,i=n.length;r<i;++r)n[r].call(this);delete this.listeners.destroy;for(var o=Object.keys(t),a=0,s=o.length;a<s;++a)for(var u=o[a],c=t[u],l=0,d=c.length;l<d;++l)this.socket.off(u,c[l]);this.listeners=null,this.socket=null}},t.prototype.sandbox=function(){return new t(this)},t.prototype.getId=function(){return!!this.socket&&this.socket.getId()},t.prototype.isConnected=function(){return!!this.socket&&this.socket.isConnected()},t.prototype.on=function(t,n){var r=this.listeners[t];return e.isUndefined(r)&&(r=this.listeners[t]=[]),r.push(n),"destroy"!==t&&this.socket.on(t,n),this},t.prototype.off=function(t,n){var r=this.listeners[t];if(e.isUndefined(r))return this;if(e.isUndefined(n))delete this.listeners[t];else{var i=e.indexOf(r,n);if(-1===i)return this;r.splice(i,1),0===r.length&&delete this.listeners[t]}return"destroy"!==t&&this.socket.off(t,n),this},t.prototype.emit=function(){var e=Array.prototype.slice.call(arguments),t=e.length-1;return e[t]=this.wrapCallback(e[t]),this.socket.emit.apply(this.socket,e),this},t.prototype.send=function(e,t){return this.socket.send(e,this.wrapCallback(t)),this},t.prototype.wrapCallback=function(t){if(!e.isFunction(t))return t;var n=this;return function(){null!==n.socket&&t.apply(this,arguments)}},t}),define("app/core/Socket",["app/core/SocketSandbox"],function(e){"use strict";function t(e){this.sio=e}return t.prototype.sandbox=function(){return new e(this)},t.prototype.getId=function(){return this.sio.id||null},t.prototype.isConnected=function(){return"open"===this.sio.io.readyState},t.prototype.isConnecting=function(){return"opening"===this.sio.io.readyState},t.prototype.connect=function(){this.sio.open()},t.prototype.reconnect=function(){this.connect()},t.prototype.on=function(e,t){return this.sio.on(e,t),this},t.prototype.off=function(e,t){return void 0===t?this.sio.removeAllListeners(e):this.sio.off(e,t),this},t.prototype.emit=function(){return this.sio.json.emit.apply(this.sio.json,arguments),this},t.prototype.send=function(e,t){return this.sio.json.send(e,t),this},t}),define("app/socket",["underscore","socket.io","app/broker","app/core/Socket"],function(e,t,n,r){"use strict";var i=new r(t({path:"/sio",transports:["websocket"],timeout:1e4,reconnectionDelay:500,autoConnect:!1,query:window.WMES_GET_COMMON_HEADERS?window.WMES_GET_COMMON_HEADERS():{}})),o=!1,a=!1;return i.on("connecting",function(){n.publish("socket.connecting",!1)}),i.on("connect",function(){o||(o=!0,n.publish("socket.connected",!1))}),i.on("connect_error",function(){o||n.publish("socket.connectFailed",!1)}),i.on("message",function(e){n.publish("socket.message",e)}),i.on("disconnect",function(){n.publish("socket.disconnected")}),i.on("reconnecting",function(){a=!0,n.publish("socket.connecting",!0)}),i.on("reconnect",function(){a=!1,n.publish("socket.connected",!0)}),i.on("reconnect_error",function(){a&&(a=!1,n.publish("socket.connectFailed",!0))}),i.on("error",function(){a&&n.publish("socket.connectFailed",!0)}),window.socket=i,i}),define("h5.rql/specialOperators",["require","exports","module"],function(e,t,n){"use strict";n.exports={eq:"=",ne:"=ne=",le:"=le=",ge:"=ge=",lt:"=lt=",gt:"=gt=",in:"=in=",nin:"=nin="}}),define("app/pubsub",["underscore","h5.pubsub/MessageBroker","app/broker","app/socket"],function(e,t,n,r){"use strict";var i=new t,o={},a=[],s=null,u=null;function c(t,r,i){if(r)n.publish("pubsub.subscribeFailed",{err:r,topics:t});else{i.length>0&&n.publish("pubsub.subscribeNotAllowed",{topics:i});var o=e.difference(t,i);o.length>0&&n.publish("pubsub.subscribed",{topics:o})}}function l(){r.isConnected()&&r.emit("pubsub.subscribe",a,c.bind(null,a)),a=[],s=null}function d(){var e=Object.keys(o);r.isConnected()&&r.emit("pubsub.unsubscribe",e),o={},u=null,n.publish("pubsub.unsubscribed",{topics:e})}return i.on("new topic",function(e){void 0!==o[e]&&delete o[e],r.isConnected()&&(a.push(e),null===s&&(s=setTimeout(l,0)))}),i.on("empty topic",function(e){r.isConnected()&&(o[e]=!0,null===u&&(u=setTimeout(d,0)))}),i.on("message",function(e,t,i){!0!==i.remote&&r.emit("pubsub.publish",e,t,i,function(r){r?n.publish("pubsub.publishFailed",{err:r,topic:e,message:t,meta:i}):n.publish("pubsub.published",{topic:e,message:t,meta:i})})}),r.on("connect",function(){var e=Object.keys(i.count());e.length&&r.emit("pubsub.subscribe",e,c.bind(null,e))}),r.on("pubsub.message",function(e,t,n){n.remote=!0,n.json&&"string"==typeof t&&(t=JSON.parse(t)),i.publish(e,t,n)}),window.pubsub=i,i}),define("app/core/util",["underscore"],function(e){"use strict";var t={inherits:function(t,n){e.assign(t,n);var r=function(){this.constructor=t};return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t},decodeUriComponent:function(e){return decodeURIComponent(e.replace(/\+/g," "))},defineSandboxedProperty:function(t,n,r){e.isObject(t._sandboxedProperties)||(t._sandboxedProperties={});var i=t._sandboxedProperties,o=t.options[n];if(e.isObject(o))return i[n]=o,t[n]=o,void delete t.options[n];i[n]=null,Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:function(){return null===i[n]&&(i[n]=r.sandbox()),i[n]},set:function(e){this[n]=e}})},cleanupSandboxedProperties:function(t){var n=t._sandboxedProperties;e.isObject(n)&&(Object.keys(n).forEach(function(t){var r=n[t];r&&e.isFunction(r.destroy)&&r.destroy()}),t._sandboxedProperties=null)},subscribeTopics:function(t,n,r,i){if(e.isFunction(r)&&(r=r.call(t)),e.isObject(r)&&e.size(r)){var o=t[n];e.each(r,function(n,r){e.isString(n)&&(n=t[n]),i&&(n=n.bind(t)),o.subscribe(r,n)})}},escapeRegExp:function(e,t){return e.replace(t?/([-[\]{}()*+!<=:?.\/\\^$|#\s,])/g:/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},unescapeRegExp:function(e,t){return e.replace(t?/\\([-[\]{}()*+!<=:?.\/\\^$|#\s,])/g:/\\([.*+?^=!:${}()|\[\]\/\\])/g,"$1")}};return t}),define("app/core/View",["underscore","jquery","backbone","backbone.layout","app/broker","app/socket","app/pubsub","app/i18n","./util"],function(e,t,n,r,i,o,a,s,u){"use strict";function c(t){var n=this;n.idPrefix=e.uniqueId("v"),n.options=t||{},n.timers={},n.promises=[],e.forEach(n.sections,function(e,t){n.sections[t]="string"!=typeof e||"#"===e?"#"+n.idPrefix+"-"+t:e.replace("#-","#"+n.idPrefix+"-")}),u.defineSandboxedProperty(n,"broker",i),u.defineSandboxedProperty(n,"pubsub",a),u.defineSandboxedProperty(n,"socket",o),Object.defineProperty(n,"t",{enumerable:!0,configurable:!0,get:function(){return delete n.t,n.t=s.forDomain(n.getDefaultNlsDomain()),n.t}}),r.call(n,t),u.subscribeTopics(n,"broker",n.localTopics,!0),n.remoteTopicsAfterSync?(!0===n.remoteTopicsAfterSync&&(n.remoteTopicsAfterSync="model"),"string"==typeof n.remoteTopicsAfterSync&&n[n.remoteTopicsAfterSync]&&n.listenToOnce(n[n.remoteTopicsAfterSync],"sync",u.subscribeTopics.bind(u,n,"pubsub",n.remoteTopics,!0))):u.subscribeTopics(n,"pubsub",n.remoteTopics,!0)}return u.inherits(c,r),c.prototype.delegateEvents=function(t){if(t||(t=e.result(this,"events")),!t)return this;this.undelegateEvents(),Object.keys(t).forEach(function(n){var r=t[n];if(e.isFunction(r)||(r=this[r]),e.isFunction(r)){var i=n.match(/^(\S+)\s*(.*)$/),o=i[1]+".delegateEvents"+this.cid,a=i[2];""===a?this.$el.on(o,r.bind(this)):(e.isString(this.idPrefix)&&(a=a.replace(/#-/g,"#"+this.idPrefix+"-")),this.$el.on(o,a,r.bind(this)))}},this)},c.prototype.listenTo=function(e){if(e)return r.prototype.listenTo.apply(this,arguments)},c.prototype.listenToOnce=function(e){if(e)return r.prototype.listenToOnce.apply(this,arguments)},c.prototype.getViews=function(e){return"string"==typeof e&&/^#-/.test(e)&&(e=e.replace("#-","#"+this.idPrefix+"-")),r.prototype.getViews.call(this,e)},c.prototype.setView=function(e,t,i,o){return"string"==typeof e&&/^#-/.test(e)&&(e=e.replace("#-","#"+this.idPrefix+"-")),e instanceof n.View||t instanceof n.View?r.prototype.setView.call(this,e,t,i,o):null},c.prototype.cleanup=function(){this.destroy(),this.cleanupSelect2(),u.cleanupSandboxedProperties(this),e.isObject(this.timers)&&(e.forEach(this.timers,clearTimeout),this.timers={}),this.cancelRequests()},c.prototype.destroy=function(){},c.prototype.cleanupSelect2=function(){var e=this;this.$(".select2-container").each(function(){e.$("#"+this.id.replace("s2id_","")).select2("destroy")})},c.prototype.beforeRender=function(){},c.prototype.serialize=function(){return e.assign(this.getCommonTemplateData(),this.getTemplateData())},c.prototype.getCommonTemplateData=function(){var e=this.getTemplateHelpers();return{idPrefix:this.idPrefix,helpers:e,t:e.t,id:e.id}},c.prototype.getTemplateData=function(){return{}},c.prototype.getTemplateHelpers=function(){var e=this.idPrefix;return{t:this.t,id:function(){return e+"-"+Array.prototype.slice.call(arguments).join("-")},props:this.props.bind(this)}},c.prototype.renderPartial=function(e,n){return t(this.renderPartialHtml(e,n))},c.prototype.renderPartialHtml=function(t,n){return t(e.assign(this.getCommonTemplateData(),n))},c.prototype.afterRender=function(){},c.prototype.isRendered=function(){return!0===this.hasRendered},c.prototype.isDetached=function(){return!t.contains(document.documentElement,this.el)},c.prototype.ajax=function(e){return this.promised(t.ajax(e))},c.prototype.promised=function(t){if(!t||!e.isFunction(t.abort))return t;this.promises.push(t);var n=this;return t.always(function(){Array.isArray(n.promises)&&n.promises.splice(n.promises.indexOf(t),1)}),t},c.prototype.cancelRequests=function(){this.promises.forEach(function(e){e.abort()}),this.promises=[]},c.prototype.cancelAnimations=function(e,t){this.$el.stop(!1!==e,!1!==t),this.$(":animated").stop(!1!==e,!1!==t)},c.prototype.$id=function(n){var r="#";e.isString(this.idPrefix)&&(r+=this.idPrefix+"-"),r+=n;var i=this.$el.find(r);return i.length?i:t(r)},c.prototype.getDefaultModel=function(){return this[this.modelProperty]||this.model||this.collection},c.prototype.getDefaultNlsDomain=function(){if(this.nlsDomain)return this.nlsDomain;var e=this.getDefaultModel();if(e){if(e.getNlsDomain)return e.getNlsDomain();if(e.nlsDomain)return e.nlsDomain}return"core"},c.prototype.props=function(t,n){var r=this;n||(t=(n=t).data);var i='<div class="props '+(n.first?"first":"")+'">',o=r.getDefaultNlsDomain();return[].concat(e.isArray(n)?n:n.props).forEach(function(a){"string"==typeof a&&(a={id:a});var u=!1!==a.escape&&"!"!==a.id.charAt(0),c=u?a.id:a.id.substring(1),l=a.className||"",d=a.valueClassName||"",p=a.nlsDomain||n.nlsDomain||o,f=a.label||s(p,"PROPERTY:"+c),h=e.isFunction(a.value)?a.value(t[c],a,r):e.isUndefined(a.value)?t[c]:a.value;e.isFunction(a.visible)&&!a.visible(h,a,r)||(null==a.visible||a.visible)&&(u&&(h=e.escape(h)),i+='<div class="prop '+l+'" data-prop="'+c+'"><div class="prop-name">'+f+'</div><div class="prop-value '+d+'">'+h+"</div></div>")}),i+"</div>"},c}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("moment-timezone",["moment"],t):"object"==typeof module&&module.exports?module.exports=t(require("moment")):t(e.moment)}(this,function(e){"use strict";if(void 0!==e.tz)return N("Moment Timezone "+e.tz.version+" was already loaded "+(e.tz.dataVersion?"with data from ":"without any data")+e.tz.dataVersion),e;var t,n={},r={},i={},o={},a=e.version.split("."),s=+a[0],u=+a[1];function c(e){return e>96?e-87:e>64?e-29:e-48}function l(e){var t=0,n=e.split("."),r=n[0],i=n[1]||"",o=1,a=0,s=1;for(45===e.charCodeAt(0)&&(t=1,s=-1);t<r.length;t++)a=60*a+c(r.charCodeAt(t));for(t=0;t<i.length;t++)o/=60,a+=c(i.charCodeAt(t))*o;return a*s}function d(e){for(var t=0;t<e.length;t++)e[t]=l(e[t])}function p(e,t){var n,r=[];for(n=0;n<t.length;n++)r[n]=e[t[n]];return r}function f(e){var t=e.split("|"),n=t[2].split(" "),r=t[3].split(""),i=t[4].split(" ");return d(n),d(r),d(i),function(e,t){for(var n=0;n<t;n++)e[n]=Math.round((e[n-1]||0)+6e4*e[n]);e[t-1]=1/0}(i,r.length),{name:t[0],abbrs:p(t[1].split(" "),r),offsets:p(n,r),untils:i,population:0|t[5]}}function h(e){e&&this._set(f(e))}function m(e){var t=e.toTimeString(),n=t.match(/\([a-z ]+\)/i);"GMT"===(n=n&&n[0]?(n=n[0].match(/[A-Z]/g))?n.join(""):void 0:(n=t.match(/[A-Z]{3,5}/g))?n[0]:void 0)&&(n=void 0),this.at=+e,this.abbr=n,this.offset=e.getTimezoneOffset()}function g(e){this.zone=e,this.offsetScore=0,this.abbrScore=0}function y(e,t){for(var n,r;r=6e4*((t.at-e.at)/12e4|0);)(n=new m(new Date(e.at+r))).offset===e.offset?e=n:t=n;return e}function v(e,t){return e.offsetScore!==t.offsetScore?e.offsetScore-t.offsetScore:e.abbrScore!==t.abbrScore?e.abbrScore-t.abbrScore:t.zone.population-e.zone.population}function b(e,t){var n,r;for(d(t),n=0;n<t.length;n++)r=t[n],o[r]=o[r]||{},o[r][e]=!0}function _(e){var t,n,r,a=e.length,s={},u=[];for(t=0;t<a;t++)for(n in r=o[e[t].offset]||{})r.hasOwnProperty(n)&&(s[n]=!0);for(t in s)s.hasOwnProperty(t)&&u.push(i[t]);return u}function w(){try{var e=Intl.DateTimeFormat().resolvedOptions().timeZone;if(e){var t=i[A(e)];if(t)return t;N("Moment Timezone found "+e+" from the Intl api, but did not have that data loaded.")}}catch(e){}var n,r,o,a=function(){var e,t,n,r=(new Date).getFullYear()-2,i=new m(new Date(r,0,1)),o=[i];for(n=1;n<48;n++)(t=new m(new Date(r,n,1))).offset!==i.offset&&(e=y(i,t),o.push(e),o.push(new m(new Date(e.at+6e4)))),i=t;for(n=0;n<4;n++)o.push(new m(new Date(r+n,0,1))),o.push(new m(new Date(r+n,6,1)));return o}(),s=a.length,u=_(a),c=[];for(r=0;r<u.length;r++){for(n=new g(T(u[r]),s),o=0;o<s;o++)n.scoreOffsetAt(a[o]);c.push(n)}return c.sort(v),c.length>0?c[0].zone.name:void 0}function A(e){return(e||"").toLowerCase().replace(/\//g,"_")}function S(e){var t,r,o,a;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)a=A(r=(o=e[t].split("|"))[0]),n[a]=e[t],i[a]=r,o[5]&&b(a,o[2].split(" "))}function T(e,t){e=A(e);var o,a=n[e];return a instanceof h?a:"string"==typeof a?(a=new h(a),n[e]=a,a):r[e]&&t!==T&&(o=T(r[e],T))?((a=n[e]=new h)._set(o),a.name=i[e],a):null}function k(e){var t,n,o,a;for("string"==typeof e&&(e=[e]),t=0;t<e.length;t++)o=A((n=e[t].split("|"))[0]),a=A(n[1]),r[o]=a,i[o]=n[0],r[a]=o,i[a]=n[1]}function R(e){S(e.zones),k(e.links),O.dataVersion=e.version}function E(e){return!(!e._a||void 0!==e._tzm)}function N(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}function O(t){var n=Array.prototype.slice.call(arguments,0,-1),r=arguments[arguments.length-1],i=T(r),o=e.utc.apply(null,n);return i&&!e.isMoment(t)&&E(o)&&o.add(i.parse(o),"minutes"),o.tz(r),o}(s<2||2===s&&u<6)&&N("Moment Timezone requires Moment.js >= 2.6.0. You are using Moment.js "+e.version+". See momentjs.com"),h.prototype={_set:function(e){this.name=e.name,this.abbrs=e.abbrs,this.untils=e.untils,this.offsets=e.offsets,this.population=e.population},_index:function(e){var t,n=+e,r=this.untils;for(t=0;t<r.length;t++)if(n<r[t])return t},parse:function(e){var t,n,r,i,o=+e,a=this.offsets,s=this.untils,u=s.length-1;for(i=0;i<u;i++)if(t=a[i],n=a[i+1],r=a[i?i-1:i],t<n&&O.moveAmbiguousForward?t=n:t>r&&O.moveInvalidForward&&(t=r),o<s[i]-6e4*t)return a[i];return a[u]},abbr:function(e){return this.abbrs[this._index(e)]},offset:function(e){return this.offsets[this._index(e)]}},g.prototype.scoreOffsetAt=function(e){this.offsetScore+=Math.abs(this.zone.offset(e.at)-e.offset),this.zone.abbr(e.at).replace(/[^A-Z]/g,"")!==e.abbr&&this.abbrScore++},O.version="0.5.9",O.dataVersion="",O._zones=n,O._links=r,O._names=i,O.add=S,O.link=k,O.load=R,O.zone=T,O.zoneExists=function e(t){return e.didShowError||(e.didShowError=!0,N("moment.tz.zoneExists('"+t+"') has been deprecated in favor of !moment.tz.zone('"+t+"')")),!!T(t)},O.guess=function(e){return t&&!e||(t=w()),t},O.names=function(){var e,t=[];for(e in i)i.hasOwnProperty(e)&&(n[e]||n[r[e]])&&i[e]&&t.push(i[e]);return t.sort()},O.Zone=h,O.unpack=f,O.unpackBase60=l,O.needsOffset=E,O.moveInvalidForward=!0,O.moveAmbiguousForward=!1;var C,M=e.fn;function P(e){return function(){return this._z?this._z.abbr(this):e.call(this)}}e.tz=O,e.defaultZone=null,e.updateOffset=function(t,n){var r,i=e.defaultZone;void 0===t._z&&(i&&E(t)&&!t._isUTC&&(t._d=e.utc(t._a)._d,t.utc().add(i.parse(t),"minutes")),t._z=i),t._z&&(r=t._z.offset(t),Math.abs(r)<16&&(r/=60),void 0!==t.utcOffset?t.utcOffset(-r,n):t.zone(r,n))},M.tz=function(t){return t?(this._z=T(t),this._z?e.updateOffset(this):N("Moment Timezone has no data for "+t+". See http://momentjs.com/timezone/docs/#/data-loading/."),this):this._z?this._z.name:void 0},M.zoneName=P(M.zoneName),M.zoneAbbr=P(M.zoneAbbr),M.utc=(C=M.utc,function(){return this._z=null,C.apply(this,arguments)}),e.tz.setDefault=function(t){return(s<2||2===s&&u<9)&&N("Moment Timezone setDefault() requires Moment.js >= 2.9.0. You are using Moment.js "+e.version+"."),e.defaultZone=t?T(t):null,e};var x=e.momentProperties;return"[object Array]"===Object.prototype.toString.call(x)?(x.push("_z"),x.push("_a")):x&&(x._z=null),R({version:"2016i",zones:["Africa/Abidjan|GMT|0|0||48e5","Africa/Khartoum|EAT|-30|0||51e5","Africa/Algiers|CET|-10|0||26e5","Africa/Lagos|WAT|-10|0||17e6","Africa/Maputo|CAT|-20|0||26e5","Africa/Cairo|EET EEST|-20 -30|010101010|1Cby0 Fb0 c10 8n0 8Nd0 gL0 e10 mn0|15e6","Africa/Casablanca|WET WEST|0 -10|01010101010101010101010101010101010101010|1Cco0 Db0 1zd0 Lz0 1Nf0 wM0 co0 go0 1o00 s00 dA0 vc0 11A0 A00 e00 y00 11A0 uM0 e00 Dc0 11A0 s00 e00 IM0 WM0 mo0 gM0 LA0 WM0 jA0 e00 Rc0 11A0 e00 e00 U00 11A0 8o0 e00 11A0|32e5","Europe/Paris|CET CEST|-10 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|11e6","Africa/Johannesburg|SAST|-20|0||84e5","Africa/Tripoli|EET CET CEST|-20 -10 -20|0120|1IlA0 TA0 1o00|11e5","Africa/Windhoek|WAST WAT|-20 -10|01010101010101010101010|1C1c0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 11B0|32e4","America/Adak|HST HDT|a0 90|01010101010101010101010|1BR00 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|326","America/Anchorage|AKST AKDT|90 80|01010101010101010101010|1BQX0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|30e4","America/Santo_Domingo|AST|40|0||29e5","America/Araguaina|BRT BRST|30 20|010|1IdD0 Lz0|14e4","America/Argentina/Buenos_Aires|ART|30|0|","America/Asuncion|PYST PYT|30 40|01010101010101010101010|1C430 1a10 1fz0 1a10 1fz0 1cN0 17b0 1ip0 17b0 1ip0 17b0 1ip0 19X0 1fB0 19X0 1fB0 19X0 1ip0 17b0 1ip0 17b0 1ip0|28e5","America/Panama|EST|50|0||15e5","America/Bahia|BRT BRST|30 20|010|1FJf0 Rb0|27e5","America/Bahia_Banderas|MST CDT CST|70 50 60|01212121212121212121212|1C1l0 1nW0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|84e3","America/Fortaleza|BRT|30|0||34e5","America/Managua|CST|60|0||22e5","America/Manaus|AMT|40|0||19e5","America/Bogota|COT|50|0||90e5","America/Denver|MST MDT|70 60|01010101010101010101010|1BQV0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|26e5","America/Campo_Grande|AMST AMT|30 40|01010101010101010101010|1BIr0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10|77e4","America/Cancun|CST CDT EST|60 50 50|010101010102|1C1k0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 Dd0|63e4","America/Caracas|VET VET|4u 40|01|1QMT0|29e5","America/Cayenne|GFT|30|0||58e3","America/Chicago|CST CDT|60 50|01010101010101010101010|1BQU0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|92e5","America/Chihuahua|MST MDT|70 60|01010101010101010101010|1C1l0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|81e4","America/Phoenix|MST|70|0||42e5","America/Los_Angeles|PST PDT|80 70|01010101010101010101010|1BQW0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|15e6","America/New_York|EST EDT|50 40|01010101010101010101010|1BQT0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|21e6","America/Rio_Branco|AMT ACT|40 50|01|1KLE0|31e4","America/Fort_Nelson|PST PDT MST|80 70 70|010101010102|1BQW0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0|39e2","America/Halifax|AST ADT|40 30|01010101010101010101010|1BQS0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|39e4","America/Godthab|WGT WGST|30 20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|17e3","America/Goose_Bay|AST ADT|40 30|01010101010101010101010|1BQQ1 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|76e2","America/Grand_Turk|EST EDT AST|50 40 40|0101010101012|1BQT0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|37e2","America/Guayaquil|ECT|50|0||27e5","America/Guyana|GYT|40|0||80e4","America/Havana|CST CDT|50 40|01010101010101010101010|1BQR0 1wo0 U00 1zc0 U00 1qM0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Rc0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0 Oo0 1zc0|21e5","America/La_Paz|BOT|40|0||19e5","America/Lima|PET|50|0||11e6","America/Mexico_City|CST CDT|60 50|01010101010101010101010|1C1k0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0 14p0 1lb0 14p0 1nX0 11B0 1nX0 11B0 1nX0 14p0 1lb0 14p0 1lb0|20e6","America/Metlakatla|PST AKST AKDT|80 90 80|012121212121|1PAa0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|14e2","America/Miquelon|PMST PMDT|30 20|01010101010101010101010|1BQR0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|61e2","America/Montevideo|UYST UYT|20 30|010101010101|1BQQ0 1ld0 14n0 1ld0 14n0 1o10 11z0 1o10 11z0 1o10 11z0|17e5","America/Noronha|FNT|20|0||30e2","America/North_Dakota/Beulah|MST MDT CST CDT|70 60 60 50|01232323232323232323232|1BQV0 1zb0 Oo0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0","America/Paramaribo|SRT|30|0||24e4","America/Port-au-Prince|EST EDT|50 40|010101010|1GI70 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|23e5","America/Santiago|CLST CLT|30 40|010101010101010101010|1C1f0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0|62e5","America/Sao_Paulo|BRST BRT|20 30|01010101010101010101010|1BIq0 1zd0 On0 1zd0 Rb0 1zd0 Lz0 1C10 Lz0 1C10 On0 1zd0 On0 1zd0 On0 1zd0 On0 1C10 Lz0 1C10 Lz0 1C10|20e6","America/Scoresbysund|EGT EGST|10 0|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|452","America/St_Johns|NST NDT|3u 2u|01010101010101010101010|1BQPv 1zb0 Op0 1zcX Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Rd0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0 Op0 1zb0|11e4","Antarctica/Casey|+11 +08|-b0 -80|01010|1BN30 40P0 KL0 blz0|10","Antarctica/Davis|+05 +07|-50 -70|0101|1BPw0 3Wn0 KN0|70","Antarctica/DumontDUrville|+10|-a0|0||80","Antarctica/Macquarie|AEDT MIST|-b0 -b0|01|1C140|1","Asia/Tashkent|+05|-50|0||23e5","Pacific/Auckland|NZDT NZST|-d0 -c0|01010101010101010101010|1C120 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00|14e5","Antarctica/Rothera|-03|30|0||130","Antarctica/Syowa|+03|-30|0||20","Antarctica/Troll|+00 +02|0 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|40","Asia/Almaty|+06|-60|0||15e5","Asia/Baghdad|AST|-30|0||66e5","Asia/Amman|EET EEST|-20 -30|010101010101010101010|1BVy0 1qM0 11A0 1o00 11A0 4bX0 Dd0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0|25e5","Asia/Kamchatka|+12 +11|-c0 -b0|010|1Dp30 WM0|18e4","Asia/Baku|+04 +05|-40 -50|0101010101010|1BWo0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00|27e5","Asia/Bangkok|ICT|-70|0||15e6","Asia/Barnaul|+06 +07|-60 -70|010101|1BWk0 1qM0 WM0 8Hz0 3rd0","Asia/Beirut|EET EEST|-20 -30|01010101010101010101010|1BWm0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0|22e5","Asia/Brunei|BNT|-80|0||42e4","Asia/Kolkata|IST|-5u|0||15e6","Asia/Chita|+09 +10 +08|-90 -a0 -80|010120|1BWh0 1qM0 WM0 8Hz0 3re0|33e4","Asia/Choibalsan|CHOT CHOST|-80 -90|0101010101010|1O8G0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0|38e3","Asia/Shanghai|CST|-80|0||23e6","Asia/Colombo|+0530|-5u|0||22e5","Asia/Dhaka|BDT|-60|0||16e6","Asia/Damascus|EET EEST|-20 -30|01010101010101010101010|1C0m0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0 WN0 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1nX0 11B0 1qL0|26e5","Asia/Dili|TLT|-90|0||19e4","Asia/Dubai|GST|-40|0||39e5","Asia/Famagusta|EET EEST +03|-20 -30 -30|010101010101012|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 15U0","Asia/Gaza|EET EEST|-20 -30|01010101010101010101010|1BVW1 SKX 1xd1 MKX 1AN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1220 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0|18e5","Asia/Hebron|EET EEST|-20 -30|0101010101010101010101010|1BVy0 Tb0 1xd1 MKX bB0 cn0 1cN0 1a00 1fA0 1cL0 1cN0 1nX0 1210 1nz0 1220 1qL0 WN0 1qL0 11B0 1nX0 11B0 1nX0 11B0 1qL0|25e4","Asia/Hong_Kong|HKT|-80|0||73e5","Asia/Hovd|HOVT HOVST|-70 -80|0101010101010|1O8H0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0|81e3","Asia/Irkutsk|+08 +09|-80 -90|01010|1BWi0 1qM0 WM0 8Hz0|60e4","Europe/Istanbul|EET EEST +03|-20 -30 -30|010101010101012|1BWp0 1qM0 Xc0 1qo0 WM0 1qM0 11A0 1o00 1200 1nA0 11A0 1tA0 U00 15w0|13e6","Asia/Jakarta|WIB|-70|0||31e6","Asia/Jayapura|WIT|-90|0||26e4","Asia/Jerusalem|IST IDT|-20 -30|01010101010101010101010|1BVA0 17X0 1kp0 1dz0 1c10 1aL0 1eN0 1oL0 10N0 1oL0 10N0 1oL0 10N0 1rz0 W10 1rz0 W10 1rz0 10N0 1oL0 10N0 1oL0|81e4","Asia/Kabul|AFT|-4u|0||46e5","Asia/Karachi|PKT|-50|0||24e6","Asia/Urumqi|XJT|-60|0||32e5","Asia/Kathmandu|NPT|-5J|0||12e5","Asia/Khandyga|+10 +11 +09|-a0 -b0 -90|010102|1BWg0 1qM0 WM0 17V0 7zD0|66e2","Asia/Krasnoyarsk|+07 +08|-70 -80|01010|1BWj0 1qM0 WM0 8Hz0|10e5","Asia/Kuala_Lumpur|MYT|-80|0||71e5","Asia/Magadan|+11 +12 +10|-b0 -c0 -a0|010120|1BWf0 1qM0 WM0 8Hz0 3Cq0|95e3","Asia/Makassar|WITA|-80|0||15e5","Asia/Manila|PHT|-80|0||24e6","Europe/Athens|EET EEST|-20 -30|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|35e5","Asia/Novokuznetsk|+07 +06|-70 -60|010|1Dp80 WM0|55e4","Asia/Novosibirsk|+06 +07|-60 -70|010101|1BWk0 1qM0 WM0 8Hz0 4eN0|15e5","Asia/Omsk|+06 +07|-60 -70|01010|1BWk0 1qM0 WM0 8Hz0|12e5","Asia/Pyongyang|KST KST|-90 -8u|01|1P4D0|29e5","Asia/Rangoon|MMT|-6u|0||48e5","Asia/Sakhalin|+10 +11|-a0 -b0|010101|1BWg0 1qM0 WM0 8Hz0 3rd0|58e4","Asia/Seoul|KST|-90|0||23e6","Asia/Singapore|SGT|-80|0||56e5","Asia/Srednekolymsk|+11 +12|-b0 -c0|01010|1BWf0 1qM0 WM0 8Hz0|35e2","Asia/Tbilisi|+04|-40|0||11e5","Asia/Tehran|IRST IRDT|-3u -4u|01010101010101010101010|1BTUu 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0 1cN0 1dz0 1cp0 1dz0 1cp0 1dz0 1cp0 1dz0|14e6","Asia/Thimphu|BTT|-60|0||79e3","Asia/Tokyo|JST|-90|0||38e6","Asia/Tomsk|+06 +07|-60 -70|010101|1BWk0 1qM0 WM0 8Hz0 3Qp0|10e5","Asia/Ulaanbaatar|ULAT ULAST|-80 -90|0101010101010|1O8G0 1cJ0 1cP0 1cJ0 1cP0 1fx0 1cP0 1cJ0 1cP0 1cJ0 1cP0 1cJ0|12e5","Asia/Ust-Nera|+11 +12 +10|-b0 -c0 -a0|010102|1BWf0 1qM0 WM0 17V0 7zD0|65e2","Asia/Vladivostok|+10 +11|-a0 -b0|01010|1BWg0 1qM0 WM0 8Hz0|60e4","Asia/Yakutsk|+09 +10|-90 -a0|01010|1BWh0 1qM0 WM0 8Hz0|28e4","Asia/Yekaterinburg|+05 +06|-50 -60|01010|1BWl0 1qM0 WM0 8Hz0|14e5","Asia/Yerevan|+04 +05|-40 -50|01010|1BWm0 1qM0 WM0 1qM0|13e5","Atlantic/Azores|AZOT AZOST|10 0|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|25e4","Europe/Lisbon|WET WEST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|27e5","Atlantic/Cape_Verde|CVT|10|0||50e4","Atlantic/South_Georgia|GST|20|0||30","Atlantic/Stanley|FKST FKT|30 40|010|1C6R0 U10|21e2","Australia/Sydney|AEDT AEST|-b0 -a0|01010101010101010101010|1C140 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|40e5","Australia/Adelaide|ACDT ACST|-au -9u|01010101010101010101010|1C14u 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1cM0 1fA0 1cM0 1cM0 1cM0 1cM0|11e5","Australia/Brisbane|AEST|-a0|0||20e5","Australia/Darwin|ACST|-9u|0||12e4","Australia/Eucla|ACWST|-8J|0||368","Australia/Lord_Howe|LHDT LHST|-b0 -au|01010101010101010101010|1C130 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1cMu 1cLu 1fAu 1cLu 1cMu 1cLu 1cMu|347","Australia/Perth|AWST|-80|0||18e5","Pacific/Easter|EASST EAST|50 60|010101010101010101010|1C1f0 1fB0 1nX0 G10 1EL0 Op0 1zb0 Rd0 1wn0 Rd0 46n0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0 1Nb0 Ap0|30e2","Europe/Dublin|GMT IST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|12e5","Etc/GMT+1|-01|10|0|","Etc/GMT+10|-10|a0|0|","Etc/GMT+11|-11|b0|0|","Etc/GMT+12|-12|c0|0|","Etc/GMT+2|-02|20|0|","Etc/GMT+4|-04|40|0|","Etc/GMT+5|-05|50|0|","Etc/GMT+6|-06|60|0|","Etc/GMT+7|-07|70|0|","Etc/GMT+8|-08|80|0|","Etc/GMT+9|-09|90|0|","Etc/GMT-1|+01|-10|0|","Etc/GMT-11|+11|-b0|0|","Etc/GMT-12|+12|-c0|0|","Etc/GMT-13|+13|-d0|0|","Etc/GMT-14|+14|-e0|0|","Etc/GMT-2|+02|-20|0|","Etc/GMT-7|+07|-70|0|","Etc/GMT-8|+08|-80|0|","Etc/GMT-9|+09|-90|0|","Etc/UCT|UCT|0|0|","Etc/UTC|UTC|0|0|","Europe/Astrakhan|+03 +04|-30 -40|010101|1BWn0 1qM0 WM0 8Hz0 3rd0","Europe/London|GMT BST|0 -10|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|10e6","Europe/Chisinau|EET EEST|-20 -30|01010101010101010101010|1BWo0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00|67e4","Europe/Kaliningrad|EET EEST +03|-20 -30 -30|01020|1BWo0 1qM0 WM0 8Hz0|44e4","Europe/Volgograd|+03 +04|-30 -40|01010|1BWn0 1qM0 WM0 8Hz0|10e5","Europe/Minsk|EET EEST +03|-20 -30 -30|0102|1BWo0 1qM0 WM0|19e5","Europe/Moscow|MSK MSD MSK|-30 -40 -40|01020|1BWn0 1qM0 WM0 8Hz0|16e6","Europe/Samara|+04 +03|-40 -30|010|1Dpb0 WM0|12e5","Europe/Simferopol|EET EEST MSK MSK|-20 -30 -40 -30|01010101023|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11z0 1nW0|33e4","Pacific/Honolulu|HST|a0|0||37e4","Indian/Chagos|IOT|-60|0||30e2","Indian/Christmas|CXT|-70|0||21e2","Indian/Cocos|CCT|-6u|0||596","Indian/Mahe|SCT|-40|0||79e3","Indian/Maldives|MVT|-50|0||35e4","Indian/Mauritius|MUT|-40|0||15e4","Indian/Reunion|RET|-40|0||84e4","Pacific/Majuro|MHT|-c0|0||28e3","MET|MET MEST|-10 -20|01010101010101010101010|1BWp0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00 11A0 1o00 11A0 1qM0 WM0 1qM0 WM0 1qM0 11A0 1o00 11A0 1o00","Pacific/Chatham|CHADT CHAST|-dJ -cJ|01010101010101010101010|1C120 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00|600","Pacific/Apia|SST SDT WSDT WSST|b0 a0 -e0 -d0|01012323232323232323232|1Dbn0 1ff0 1a00 CI0 AQ0 1cM0 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1a00 1fA0 1cM0 1fA0 1a00 1fA0 1a00|37e3","Pacific/Bougainville|PGT BST|-a0 -b0|01|1NwE0|18e4","Pacific/Chuuk|CHUT|-a0|0||49e3","Pacific/Efate|VUT|-b0|0||66e3","Pacific/Enderbury|PHOT|-d0|0||1","Pacific/Fakaofo|TKT TKT|b0 -d0|01|1Gfn0|483","Pacific/Fiji|FJST FJT|-d0 -c0|01010101010101010101010|1BWe0 1o00 Rc0 1wo0 Ao0 1Nc0 Ao0 1Q00 xz0 1SN0 uM0 1SM0 uM0 1VA0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1SM0|88e4","Pacific/Funafuti|TVT|-c0|0||45e2","Pacific/Galapagos|GALT|60|0||25e3","Pacific/Gambier|GAMT|90|0||125","Pacific/Guadalcanal|SBT|-b0|0||11e4","Pacific/Guam|ChST|-a0|0||17e4","Pacific/Kiritimati|LINT|-e0|0||51e2","Pacific/Kosrae|KOST|-b0|0||66e2","Pacific/Marquesas|MART|9u|0||86e2","Pacific/Pago_Pago|SST|b0|0||37e2","Pacific/Nauru|NRT|-c0|0||10e3","Pacific/Niue|NUT|b0|0||12e2","Pacific/Norfolk|NFT NFT|-bu -b0|01|1PoCu|25e4","Pacific/Noumea|NCT|-b0|0||98e3","Pacific/Palau|PWT|-90|0||21e3","Pacific/Pitcairn|PST|80|0||56","Pacific/Pohnpei|PONT|-b0|0||34e3","Pacific/Port_Moresby|PGT|-a0|0||25e4","Pacific/Rarotonga|CKT|a0|0||13e3","Pacific/Tahiti|TAHT|a0|0||18e4","Pacific/Tarawa|GILT|-c0|0||29e3","Pacific/Tongatapu|+13 +14|-d0 -e0|0101010101|1S4d0 s00 1VA0 uM0 1SM0 uM0 1SM0 uM0 1SM0|75e3","Pacific/Wake|WAKT|-c0|0||16e3","Pacific/Wallis|WFT|-c0|0||94"],links:["Africa/Abidjan|Africa/Accra","Africa/Abidjan|Africa/Bamako","Africa/Abidjan|Africa/Banjul","Africa/Abidjan|Africa/Bissau","Africa/Abidjan|Africa/Conakry","Africa/Abidjan|Africa/Dakar","Africa/Abidjan|Africa/Freetown","Africa/Abidjan|Africa/Lome","Africa/Abidjan|Africa/Monrovia","Africa/Abidjan|Africa/Nouakchott","Africa/Abidjan|Africa/Ouagadougou","Africa/Abidjan|Africa/Sao_Tome","Africa/Abidjan|Africa/Timbuktu","Africa/Abidjan|America/Danmarkshavn","Africa/Abidjan|Atlantic/Reykjavik","Africa/Abidjan|Atlantic/St_Helena","Africa/Abidjan|Etc/GMT","Africa/Abidjan|Etc/GMT+0","Africa/Abidjan|Etc/GMT-0","Africa/Abidjan|Etc/GMT0","Africa/Abidjan|Etc/Greenwich","Africa/Abidjan|GMT","Africa/Abidjan|GMT+0","Africa/Abidjan|GMT-0","Africa/Abidjan|GMT0","Africa/Abidjan|Greenwich","Africa/Abidjan|Iceland","Africa/Algiers|Africa/Tunis","Africa/Cairo|Egypt","Africa/Casablanca|Africa/El_Aaiun","Africa/Johannesburg|Africa/Maseru","Africa/Johannesburg|Africa/Mbabane","Africa/Khartoum|Africa/Addis_Ababa","Africa/Khartoum|Africa/Asmara","Africa/Khartoum|Africa/Asmera","Africa/Khartoum|Africa/Dar_es_Salaam","Africa/Khartoum|Africa/Djibouti","Africa/Khartoum|Africa/Juba","Africa/Khartoum|Africa/Kampala","Africa/Khartoum|Africa/Mogadishu","Africa/Khartoum|Africa/Nairobi","Africa/Khartoum|Indian/Antananarivo","Africa/Khartoum|Indian/Comoro","Africa/Khartoum|Indian/Mayotte","Africa/Lagos|Africa/Bangui","Africa/Lagos|Africa/Brazzaville","Africa/Lagos|Africa/Douala","Africa/Lagos|Africa/Kinshasa","Africa/Lagos|Africa/Libreville","Africa/Lagos|Africa/Luanda","Africa/Lagos|Africa/Malabo","Africa/Lagos|Africa/Ndjamena","Africa/Lagos|Africa/Niamey","Africa/Lagos|Africa/Porto-Novo","Africa/Maputo|Africa/Blantyre","Africa/Maputo|Africa/Bujumbura","Africa/Maputo|Africa/Gaborone","Africa/Maputo|Africa/Harare","Africa/Maputo|Africa/Kigali","Africa/Maputo|Africa/Lubumbashi","Africa/Maputo|Africa/Lusaka","Africa/Tripoli|Libya","America/Adak|America/Atka","America/Adak|US/Aleutian","America/Anchorage|America/Juneau","America/Anchorage|America/Nome","America/Anchorage|America/Sitka","America/Anchorage|America/Yakutat","America/Anchorage|US/Alaska","America/Argentina/Buenos_Aires|America/Argentina/Catamarca","America/Argentina/Buenos_Aires|America/Argentina/ComodRivadavia","America/Argentina/Buenos_Aires|America/Argentina/Cordoba","America/Argentina/Buenos_Aires|America/Argentina/Jujuy","America/Argentina/Buenos_Aires|America/Argentina/La_Rioja","America/Argentina/Buenos_Aires|America/Argentina/Mendoza","America/Argentina/Buenos_Aires|America/Argentina/Rio_Gallegos","America/Argentina/Buenos_Aires|America/Argentina/Salta","America/Argentina/Buenos_Aires|America/Argentina/San_Juan","America/Argentina/Buenos_Aires|America/Argentina/San_Luis","America/Argentina/Buenos_Aires|America/Argentina/Tucuman","America/Argentina/Buenos_Aires|America/Argentina/Ushuaia","America/Argentina/Buenos_Aires|America/Buenos_Aires","America/Argentina/Buenos_Aires|America/Catamarca","America/Argentina/Buenos_Aires|America/Cordoba","America/Argentina/Buenos_Aires|America/Jujuy","America/Argentina/Buenos_Aires|America/Mendoza","America/Argentina/Buenos_Aires|America/Rosario","America/Campo_Grande|America/Cuiaba","America/Chicago|America/Indiana/Knox","America/Chicago|America/Indiana/Tell_City","America/Chicago|America/Knox_IN","America/Chicago|America/Matamoros","America/Chicago|America/Menominee","America/Chicago|America/North_Dakota/Center","America/Chicago|America/North_Dakota/New_Salem","America/Chicago|America/Rainy_River","America/Chicago|America/Rankin_Inlet","America/Chicago|America/Resolute","America/Chicago|America/Winnipeg","America/Chicago|CST6CDT","America/Chicago|Canada/Central","America/Chicago|US/Central","America/Chicago|US/Indiana-Starke","America/Chihuahua|America/Mazatlan","America/Chihuahua|Mexico/BajaSur","America/Denver|America/Boise","America/Denver|America/Cambridge_Bay","America/Denver|America/Edmonton","America/Denver|America/Inuvik","America/Denver|America/Ojinaga","America/Denver|America/Shiprock","America/Denver|America/Yellowknife","America/Denver|Canada/Mountain","America/Denver|MST7MDT","America/Denver|Navajo","America/Denver|US/Mountain","America/Fortaleza|America/Belem","America/Fortaleza|America/Maceio","America/Fortaleza|America/Recife","America/Fortaleza|America/Santarem","America/Halifax|America/Glace_Bay","America/Halifax|America/Moncton","America/Halifax|America/Thule","America/Halifax|Atlantic/Bermuda","America/Halifax|Canada/Atlantic","America/Havana|Cuba","America/Los_Angeles|America/Dawson","America/Los_Angeles|America/Ensenada","America/Los_Angeles|America/Santa_Isabel","America/Los_Angeles|America/Tijuana","America/Los_Angeles|America/Vancouver","America/Los_Angeles|America/Whitehorse","America/Los_Angeles|Canada/Pacific","America/Los_Angeles|Canada/Yukon","America/Los_Angeles|Mexico/BajaNorte","America/Los_Angeles|PST8PDT","America/Los_Angeles|US/Pacific","America/Los_Angeles|US/Pacific-New","America/Managua|America/Belize","America/Managua|America/Costa_Rica","America/Managua|America/El_Salvador","America/Managua|America/Guatemala","America/Managua|America/Regina","America/Managua|America/Swift_Current","America/Managua|America/Tegucigalpa","America/Managua|Canada/East-Saskatchewan","America/Managua|Canada/Saskatchewan","America/Manaus|America/Boa_Vista","America/Manaus|America/Porto_Velho","America/Manaus|Brazil/West","America/Mexico_City|America/Merida","America/Mexico_City|America/Monterrey","America/Mexico_City|Mexico/General","America/New_York|America/Detroit","America/New_York|America/Fort_Wayne","America/New_York|America/Indiana/Indianapolis","America/New_York|America/Indiana/Marengo","America/New_York|America/Indiana/Petersburg","America/New_York|America/Indiana/Vevay","America/New_York|America/Indiana/Vincennes","America/New_York|America/Indiana/Winamac","America/New_York|America/Indianapolis","America/New_York|America/Iqaluit","America/New_York|America/Kentucky/Louisville","America/New_York|America/Kentucky/Monticello","America/New_York|America/Louisville","America/New_York|America/Montreal","America/New_York|America/Nassau","America/New_York|America/Nipigon","America/New_York|America/Pangnirtung","America/New_York|America/Thunder_Bay","America/New_York|America/Toronto","America/New_York|Canada/Eastern","America/New_York|EST5EDT","America/New_York|US/East-Indiana","America/New_York|US/Eastern","America/New_York|US/Michigan","America/Noronha|Brazil/DeNoronha","America/Panama|America/Atikokan","America/Panama|America/Cayman","America/Panama|America/Coral_Harbour","America/Panama|America/Jamaica","America/Panama|EST","America/Panama|Jamaica","America/Phoenix|America/Creston","America/Phoenix|America/Dawson_Creek","America/Phoenix|America/Hermosillo","America/Phoenix|MST","America/Phoenix|US/Arizona","America/Rio_Branco|America/Eirunepe","America/Rio_Branco|America/Porto_Acre","America/Rio_Branco|Brazil/Acre","America/Santiago|Antarctica/Palmer","America/Santiago|Chile/Continental","America/Santo_Domingo|America/Anguilla","America/Santo_Domingo|America/Antigua","America/Santo_Domingo|America/Aruba","America/Santo_Domingo|America/Barbados","America/Santo_Domingo|America/Blanc-Sablon","America/Santo_Domingo|America/Curacao","America/Santo_Domingo|America/Dominica","America/Santo_Domingo|America/Grenada","America/Santo_Domingo|America/Guadeloupe","America/Santo_Domingo|America/Kralendijk","America/Santo_Domingo|America/Lower_Princes","America/Santo_Domingo|America/Marigot","America/Santo_Domingo|America/Martinique","America/Santo_Domingo|America/Montserrat","America/Santo_Domingo|America/Port_of_Spain","America/Santo_Domingo|America/Puerto_Rico","America/Santo_Domingo|America/St_Barthelemy","America/Santo_Domingo|America/St_Kitts","America/Santo_Domingo|America/St_Lucia","America/Santo_Domingo|America/St_Thomas","America/Santo_Domingo|America/St_Vincent","America/Santo_Domingo|America/Tortola","America/Santo_Domingo|America/Virgin","America/Sao_Paulo|Brazil/East","America/St_Johns|Canada/Newfoundland","Antarctica/DumontDUrville|Etc/GMT-10","Antarctica/Rothera|Etc/GMT+3","Antarctica/Syowa|Etc/GMT-3","Asia/Almaty|Antarctica/Vostok","Asia/Almaty|Asia/Bishkek","Asia/Almaty|Asia/Qyzylorda","Asia/Almaty|Etc/GMT-6","Asia/Baghdad|Asia/Aden","Asia/Baghdad|Asia/Bahrain","Asia/Baghdad|Asia/Kuwait","Asia/Baghdad|Asia/Qatar","Asia/Baghdad|Asia/Riyadh","Asia/Bangkok|Asia/Ho_Chi_Minh","Asia/Bangkok|Asia/Phnom_Penh","Asia/Bangkok|Asia/Saigon","Asia/Bangkok|Asia/Vientiane","Asia/Dhaka|Asia/Dacca","Asia/Dubai|Asia/Muscat","Asia/Hong_Kong|Hongkong","Asia/Jakarta|Asia/Pontianak","Asia/Jerusalem|Asia/Tel_Aviv","Asia/Jerusalem|Israel","Asia/Kamchatka|Asia/Anadyr","Asia/Kathmandu|Asia/Katmandu","Asia/Kolkata|Asia/Calcutta","Asia/Kuala_Lumpur|Asia/Kuching","Asia/Makassar|Asia/Ujung_Pandang","Asia/Rangoon|Asia/Yangon","Asia/Seoul|ROK","Asia/Shanghai|Asia/Chongqing","Asia/Shanghai|Asia/Chungking","Asia/Shanghai|Asia/Harbin","Asia/Shanghai|Asia/Macao","Asia/Shanghai|Asia/Macau","Asia/Shanghai|Asia/Taipei","Asia/Shanghai|PRC","Asia/Shanghai|ROC","Asia/Singapore|Singapore","Asia/Tashkent|Antarctica/Mawson","Asia/Tashkent|Asia/Aqtau","Asia/Tashkent|Asia/Aqtobe","Asia/Tashkent|Asia/Ashgabat","Asia/Tashkent|Asia/Ashkhabad","Asia/Tashkent|Asia/Dushanbe","Asia/Tashkent|Asia/Oral","Asia/Tashkent|Asia/Samarkand","Asia/Tashkent|Etc/GMT-5","Asia/Tashkent|Indian/Kerguelen","Asia/Tbilisi|Etc/GMT-4","Asia/Tehran|Iran","Asia/Thimphu|Asia/Thimbu","Asia/Tokyo|Japan","Asia/Ulaanbaatar|Asia/Ulan_Bator","Asia/Urumqi|Asia/Kashgar","Australia/Adelaide|Australia/Broken_Hill","Australia/Adelaide|Australia/South","Australia/Adelaide|Australia/Yancowinna","Australia/Brisbane|Australia/Lindeman","Australia/Brisbane|Australia/Queensland","Australia/Darwin|Australia/North","Australia/Lord_Howe|Australia/LHI","Australia/Perth|Australia/West","Australia/Sydney|Australia/ACT","Australia/Sydney|Australia/Canberra","Australia/Sydney|Australia/Currie","Australia/Sydney|Australia/Hobart","Australia/Sydney|Australia/Melbourne","Australia/Sydney|Australia/NSW","Australia/Sydney|Australia/Tasmania","Australia/Sydney|Australia/Victoria","Etc/UCT|UCT","Etc/UTC|Etc/Universal","Etc/UTC|Etc/Zulu","Etc/UTC|UTC","Etc/UTC|Universal","Etc/UTC|Zulu","Europe/Astrakhan|Europe/Ulyanovsk","Europe/Athens|Asia/Nicosia","Europe/Athens|EET","Europe/Athens|Europe/Bucharest","Europe/Athens|Europe/Helsinki","Europe/Athens|Europe/Kiev","Europe/Athens|Europe/Mariehamn","Europe/Athens|Europe/Nicosia","Europe/Athens|Europe/Riga","Europe/Athens|Europe/Sofia","Europe/Athens|Europe/Tallinn","Europe/Athens|Europe/Uzhgorod","Europe/Athens|Europe/Vilnius","Europe/Athens|Europe/Zaporozhye","Europe/Chisinau|Europe/Tiraspol","Europe/Dublin|Eire","Europe/Istanbul|Asia/Istanbul","Europe/Istanbul|Turkey","Europe/Lisbon|Atlantic/Canary","Europe/Lisbon|Atlantic/Faeroe","Europe/Lisbon|Atlantic/Faroe","Europe/Lisbon|Atlantic/Madeira","Europe/Lisbon|Portugal","Europe/Lisbon|WET","Europe/London|Europe/Belfast","Europe/London|Europe/Guernsey","Europe/London|Europe/Isle_of_Man","Europe/London|Europe/Jersey","Europe/London|GB","Europe/London|GB-Eire","Europe/Moscow|W-SU","Europe/Paris|Africa/Ceuta","Europe/Paris|Arctic/Longyearbyen","Europe/Paris|Atlantic/Jan_Mayen","Europe/Paris|CET","Europe/Paris|Europe/Amsterdam","Europe/Paris|Europe/Andorra","Europe/Paris|Europe/Belgrade","Europe/Paris|Europe/Berlin","Europe/Paris|Europe/Bratislava","Europe/Paris|Europe/Brussels","Europe/Paris|Europe/Budapest","Europe/Paris|Europe/Busingen","Europe/Paris|Europe/Copenhagen","Europe/Paris|Europe/Gibraltar","Europe/Paris|Europe/Ljubljana","Europe/Paris|Europe/Luxembourg","Europe/Paris|Europe/Madrid","Europe/Paris|Europe/Malta","Europe/Paris|Europe/Monaco","Europe/Paris|Europe/Oslo","Europe/Paris|Europe/Podgorica","Europe/Paris|Europe/Prague","Europe/Paris|Europe/Rome","Europe/Paris|Europe/San_Marino","Europe/Paris|Europe/Sarajevo","Europe/Paris|Europe/Skopje","Europe/Paris|Europe/Stockholm","Europe/Paris|Europe/Tirane","Europe/Paris|Europe/Vaduz","Europe/Paris|Europe/Vatican","Europe/Paris|Europe/Vienna","Europe/Paris|Europe/Warsaw","Europe/Paris|Europe/Zagreb","Europe/Paris|Europe/Zurich","Europe/Paris|Poland","Europe/Volgograd|Europe/Kirov","Pacific/Auckland|Antarctica/McMurdo","Pacific/Auckland|Antarctica/South_Pole","Pacific/Auckland|NZ","Pacific/Chatham|NZ-CHAT","Pacific/Chuuk|Pacific/Truk","Pacific/Chuuk|Pacific/Yap","Pacific/Easter|Chile/EasterIsland","Pacific/Guam|Pacific/Saipan","Pacific/Honolulu|HST","Pacific/Honolulu|Pacific/Johnston","Pacific/Honolulu|US/Hawaii","Pacific/Majuro|Kwajalein","Pacific/Majuro|Pacific/Kwajalein","Pacific/Pago_Pago|Pacific/Midway","Pacific/Pago_Pago|Pacific/Samoa","Pacific/Pago_Pago|US/Samoa","Pacific/Pohnpei|Pacific/Ponape"]}),e}),define("app/time",["moment-timezone","app/socket","app/data/localStorage"],function(e,t,n){"use strict";var r={synced:!1,offset:parseFloat(n.getItem("TIME:OFFSET"))||0,zone:n.getItem("TIME:ZONE")||"Europe/Warsaw",appData:window.TIME||0};function i(e,t){for(e=String(e);e.length<t;)e="0"+e;return e}return delete window.TIME,r.sync=function(){var e=Date.now();t.emit("time",function(t,i){r.offset=(t-e+(t-Date.now()))/2,r.zone=i,r.synced=!0,n.setItem("TIME:OFFSET",r.offset.toString()),n.setItem("TIME:ZONE",r.zone)})},r.getServerMoment=function(){return e(Date.now()+r.offset).tz(r.zone)},r.getMoment=function(t,n){return e(t,n).tz(r.zone)},r.getMomentUtc=function(t,n){return e.utc(t,n)},r.format=function(e,t){var n=r.getMoment(e);return n.isValid()?n.format(t):null},r.utc={getMoment:function(t,n){return e.utc(t,n)},format:function(e,t){var n=r.getMomentUtc(e);return n.isValid()?n.format(t):null}},r.toTagData=function(e,t){if(!e)return{iso:"?",long:"?",human:"?",daysAgo:0};var n=r.getMoment(e),i=n.valueOf(),o=Date.now();return{iso:n.toISOString(),long:n.format("LLLL"),human:!0===t?n.from(i>o?i:o):n.fromNow(),daysAgo:-n.diff(o,"days")}},r.toSeconds=function(e){if("number"==typeof e)return e;if("string"!=typeof e)return 0;var t={g:3600,h:3600,m:60,s:1,ms:.001},n=e.trim(),r=parseInt(n,10),i=n.match(/([0-9]+):([0-9]+)(?::([0-9]+))?/);if(i)return r=3600*parseInt(i[1],10),r+=60*parseInt(i[2],10),i[3]&&(r+=parseInt(i[3],10)),r;if(!1===/^[0-9]+\.?[0-9]*$/.test(n)){var o,a=/([0-9\.]+)\s*(h|ms|m|s)[a-z]*/gi;for(r=0;null!==(o=a.exec(n));)r+=parseFloat(o[1])*t[o[2].toLowerCase()]}return r},r.toString=function(e,t,n){if("number"!=typeof e||e<=0||isNaN(e))return t?"00:00:00":"0s";e=Math.round(1e3*e)/1e3;var r="",o=Math.floor(e/3600);o>0?(r+=t?i(o,2)+":":" "+o+"h",e%=3600):t&&(r+="00:");var a=Math.floor(e/60);a>0?(r+=t?i(a,2)+":":" "+a+"min",e%=60):t&&(r+="00:");var s=e;return s>=1?(r+=t?i(Math[n?"floor":"round"](s),2):" "+Math[n?"floor":"round"](s)+"s",n&&s%1!=0&&(r+=t?"."+i(Math.round(s%1*1e3),3):" "+Math.round(s%1*1e3)+"ms")):s>0&&""===r?r+=" "+1e3*s+"ms":t&&(r+="00"),t?r:r.substr(1)},t.on("connect",function(){r.sync()}),t.isConnected()&&r.sync(),window.time=r,r}),define("h5.rql/Term",["require","exports","module"],function(e,t,n){"use strict";n.exports=function(e,t){this.name=e||null,this.args=t||[]}}),define("h5.rql/specialTerms",["require","exports","module"],function(e,t,n){"use strict";function r(e,t,n){e.fields={};for(var r="select"===t,i=0,o=n.length;i<o;++i){var a=n[i];Array.isArray(a)&&(a=a.join(".")),e.fields[a]=r}}n.exports={select:r,exclude:r,sort:function(e,t,n){e.sort={};for(var r=0,i=n.length;r<i;++r){var o=n[r];Array.isArray(o)&&(o=o.join(".")),"-"===o[0]?e.sort[o.substr(1)]=-1:"+"===o[0]?e.sort[o.substr(1)]=1:e.sort[o]=1}},limit:function(e,t,n){var r=parseInt(n[0],10),i=0;n.length>1&&(i=parseInt(n[1],10));e.limit=isNaN(r)?-1:r,e.skip=isNaN(i)||i<0?0:i}}}),define("h5.rql/autoConvertedMap",["require","exports","module"],function(e,t,n){"use strict";n.exports={true:!0,false:!1,null:null,undefined:void 0,Infinity:1/0,"-Infinity":-1/0}}),define("h5.rql/serializers/stringSerializer",["require","exports","module","../specialTerms","../specialOperators","../autoConvertedMap"],function(e,t,n){var r=e("../specialTerms"),i=e("../specialOperators"),o=e("../autoConvertedMap");function a(e,t,n,r,s){if(Array.isArray(n))!function(e,t,n){e.push("(");for(var r=0,i=n.length;r<i;++r)a(e,t,n[r],i),r<i-1&&e.push(",");e.push(")")}(e,t,n);else if(null!==n&&"object"==typeof n&&"string"==typeof n.name&&Array.isArray(n.args)){if(i.hasOwnProperty(n.name)&&n.args.length>1)return a(e,t,n.args[0],0),e.push(i[n.name]),void a(e,t,n.args[1],0);var u=",";"and"===n.name?u="&":"or"===n.name&&!0!==s&&(u="|"),function(e,t,n,r,i){var o=r.args.length;","===n?e.push(r.name,"("):1!==i&&e.push("(");for(var s=0;s<o;++s)a(e,t,r.args[s],o),s<o-1&&e.push(n);","!==n&&1===i||e.push(")")}(e,t,u,n,r)}else!function(e,t,n){switch(typeof n){case"undefined":e.push("undefined");break;case"boolean":e.push(n?"true":"false");break;case"number":e.push(n.toString(10));break;case"object":!function(e,t,n){if(null===n)e.push("null");else if(n instanceof Date)e.push("epoch:",n.getTime().toString());else if(n instanceof RegExp){var r=n.toString(),i=r.lastIndexOf("/");""===r.substr(i+1)&&(r=r.substr(1,i-1)),e.push("re:",t.encode(r))}else"function"==typeof n.convertToRqlValue?e.push(n.convertToRqlValue(t.encode)):e.push(t.encode(n.toString()))}(e,t,n);break;default:0===n.length?e.push("string:"):isNaN(+n)?o.hasOwnProperty(n)?e.push("string:",n):e.push(t.encode(n)):e.push("string:",n.toString())}}(e,t,n)}function s(e){return e=encodeURIComponent(e),/[\(\)]/.test(e)&&(e=e.replace(/\(/g,"%28").replace(/\)/g,"%29")),e}function u(e){return s(s(e))}t.fromQuery=function(e,t){var n=[],i={encode:t&&t.doubleEncode?u:s};return function(e,t){var n=Object.keys(t);0!==n.length&&e.push(t[n[0]]?"&select(":"&exclude(",n.join(","),")")}(n,e.fields),function(e,t){var n=Object.keys(t),r=n.length;if(0!==r){e.push("&sort(");for(var i=0;i<r;++i){var o=n[i];-1===t[o]&&e.push("-"),e.push(o),i<r-1&&e.push(",")}e.push(")")}}(n,e.sort),function(e,t,n){-1!==t&&(e.push("&limit(",t),0!==n&&e.push(",",n),e.push(")"))}(n,e.limit,e.skip),function(e,t,n){var i=n.args.length;if(0!==i)if("and"===n.name)for(var o=0;o<i;++o){var s=n.args[o];r.hasOwnProperty(s.name)||(e.push("&"),a(e,t,s,i,!0))}else e.push("&"),a(e,t,n,i,!0)}(n,i,e.selector),n.join("").substr(1)}}),define("h5.rql/Query",["require","exports","module","./Term","./serializers/stringSerializer"],function(e,t,n){"use strict";var r=e("./Term"),i=e("./serializers/stringSerializer");function o(){this.selector=new r("and"),this.fields={},this.skip=0,this.limit=-1,this.sort={}}n.exports=o,o.fromObject=function(e){if(e instanceof o)return e;var t=new o;return e?(e.selector&&(t.selector=e.selector),e.fields&&(t.fields=e.fields),e.skip&&(t.skip=e.skip),e.limit&&(t.limit=e.limit),e.sort&&(t.sort=e.sort),t):t},o.prototype.toString=function(e){return i.fromQuery(this,e)},o.prototype.isEmpty=function(){return 0===this.skip&&-1===this.limit&&0===Object.keys(this.fields).length&&0===Object.keys(this.sort).length&&0===this.selector.args.length}}),define("h5.rql/valueConverters",["require","exports","module","./autoConvertedMap"],function(e,t,n){"use strict";var r=e("./autoConvertedMap");function i(e,t){if(r.hasOwnProperty(e))return r[e];var n=+e;return isNaN(n)||n.toString()!==e?(e=decodeURIComponent(e),t.options.jsonQueryCompatible&&"'"===e[0]&&"'"===e[e.length-1]?JSON.parse('"'+e.substring(1,e.length-1)+'"'):e):n}function o(e){e=decodeURIComponent(e);var t,n=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/.exec(e);if(t=null!==n?new Date(Date.UTC(+n[1],+n[2]-1,+n[3],+n[4],+n[5],+n[6])):new Date(e),isNaN(t.getTime()))throw new Error("Invalid date: "+e);return t}n.exports={default:i,auto:i,number:function(e){var t=+e;if(isNaN(t))throw new Error("Invalid number: "+e);return t},epoch:function(e){var t=new Date(+e);if(isNaN(t.getTime()))throw new Error("Invalid date: "+e);return t},isodate:function(e){return e=decodeURIComponent(e),e="0000".substr(0,4-e.length)+e,o(e+="0000-01-01T00:00:00Z".substring(e.length))},date:o,boolean:function(e){return!!e},string:function(e){return decodeURIComponent(e)},re:function(e){var t=e=decodeURIComponent(e),n="";if("/"===e[0]){var r=e.lastIndexOf("/");t=e.substr(1,r-1),n=e.substr(r+1)}return new RegExp(t,n)},glob:function(e){return e=".*"===(e=".*"===(e=decodeURIComponent(e).replace(/([\\\|\(\)\[\]\{\}\^\$\*\+\?\.<>])/g,"\\$1").replace(/\\\*/g,".*").replace(/\\\?/g,".?")).substr(0,2)?e.substr(2):"^"+e).substr(e.length-2)?e.substr(0,e.length-2):e+"$",new RegExp(e,"i")}}}),define("h5.rql/Parser",["require","exports","module","./Term","./valueConverters"],function(e,t,n){"use strict";var r=e("./Term"),i=e("./valueConverters");n.exports=c;var o=/^[\+\*\$\-:\w%\._!'~]$/,a=/[\+\*\$\-:\w%\._!'~]*\/[\+\*\$\-:\w%\._!'~\/]*/g,s=new RegExp("(\\([\\+\\*\\$\\-:\\w%\\._,]+\\)|[\\+\\*\\$\\-:\\w%\\._]*|)([<>!]?=(?:[\\w]*=)?|>|<)(\\([\\+\\*\\$\\-:\\w%\\._,!'~]*\\)|[\\+\\*\\$\\-:\\w%\\._!'~]*|)","g"),u={"=":"eq","==":"eq",">":"gt",">=":"ge","<":"lt","<=":"le","!=":"ne"};function c(e){this.options=e instanceof c.Options?e:new c.Options(e)}c.Options=function(e){"object"==typeof e&&null!==e||(e={}),this.jsonQueryCompatible=!0===e.jsonQueryCompatible,this.fiqlCompatible=!e.hasOwnProperty("fiqlCompatible")||!0===e.fiqlCompatible,this.allowSlashedArrays=!0===e.allowSlashedArrays,this.allowEmptyValues=!0===e.allowEmptyValues,this.defaultValueConverter="function"==typeof e.defaultValueConverter?e.defaultValueConverter:i.default,this.specialTerms=Array.isArray(e.specialTerms)?e.specialTerms:[],this.emptyValue=e.hasOwnProperty("emptyValue")?e.emptyValue:""},c.prototype.parse=function(e,t){var n="object"==typeof t&&null!==t,i=this.options.specialTerms,a=null,s=new r,u=[],c=!0;this.options.jsonQueryCompatible&&(e=this.makeJsonQueryCompatible(e)),this.options.allowSlashedArrays&&(e=this.convertSlashedArrays(e)),this.options.fiqlCompatible&&(e=this.convertFiql(e));for(var l=0,d=e.length;l<d;++l){var p=e[l];switch(p){case"(":u.push(s),s=new r(a),n&&null!==a&&-1!==i.indexOf(a)&&(delete t[a],t[a]=s.args),a=null,c=!0;break;case",":if(!1===c){if(!this.options.allowEmptyValues)throw new Error("Empty value at position "+l+" is not allowed.");a=this.options.emptyValue}null!==a&&(s.args.push(this.convertStringToValue(a)),a=null),c=!1;break;case")":null!==a&&(s.args.push(this.convertStringToValue(a)),a=null);var f=null===s.name?s.args:s;(s=u.pop()).args.push(f),c=!0;break;case"&":case"|":var h="&"===p?"and":"or";if(null!==s.name&&s.name!==h)throw new Error("Can not mix conjunctions within a group at position "+l+", use parenthesises around each set of the same conjunctions (& and |)");s.name="&"===p?"and":"or",null!==a&&(s.args.push(this.convertStringToValue(a)),a=null);break;default:if(!o.test(p))throw new Error("Invalid character at position "+l+": '"+p+"' ("+p.charCodeAt(0)+")");null===a?a=p:a+=p,c=!0}}return null!==a&&s.args.push(this.convertStringToValue(a)),null===s.name&&(s.name="and"),"and"===s.name&&1===s.args.length&&s.args[0]instanceof r&&"and"===s.args[0].name&&(s=s.args[0]),s},c.prototype.makeJsonQueryCompatible=function(e){return this.options.jsonQueryCompatible&&(e=e.replace(/%3C=/g,"=le=").replace(/%3E=/g,"=ge=").replace(/%3C/g,"=lt=").replace(/%3E/g,"=gt=")),e},c.prototype.convertSlashedArrays=function(e){return-1!==e.indexOf("/")?e.replace(a,function(e){return"("+e.replace(/\//g,",")+")"}):e},c.prototype.convertFiql=function(e){return e.replace(s,function(e,t,n,r){return(n=n.length<3?u[n]:n.substring(1,n.length-1))+"("+t+","+r+")"})},c.prototype.convertStringToValue=function(e){var t,n=e.indexOf(":");if(-1!==n){var r=e.substr(0,n);if(void 0===(t=i[r]))throw new Error("Unknown value converter: "+r);e=e.substr(n+1)}else t=this.options.defaultValueConverter;return t(e,this)}}),define("h5.rql/index",["require","exports","module","./Term","./Query","./Parser","./specialTerms","./valueConverters"],function(e,t,n){"use strict";var r=e("./Term"),i=e("./Query"),o=e("./Parser"),a=e("./specialTerms"),s=e("./valueConverters");t.Term=r,t.Query=i,t.Parser=o,t.specialTerms=a,t.valueConverters=s,t.parser=null,t.parse=function(e){null===t.parser&&(t.parser=new o({jsonQueryCompatible:!0,fiqlCompatible:!0,allowEmptyValues:!1,allowSlashedArrays:!0,specialTerms:Object.keys(a)}));var n=new i,r={};for(var s in n.selector=t.parser.parse(e,r),r)r.hasOwnProperty(s)&&a.hasOwnProperty(s)&&a[s](n,s,r[s]);return n}}),define("app/core/PaginationData",["underscore","backbone"],function(e,t){"use strict";return t.Model.extend({defaults:{totalCount:-1,urlTemplate:"?page=${page}&limit=${limit}",page:1,skip:0,limit:10},initialize:function(){this.on("change",this.recalcAttrs,this);var e=this.attributes;e.page<1&&(e.page=1),e.skip<0&&(e.skip=0),e.limit<1&&(e.limit=1),0!==e.skip?this.recalcPage():1!==e.page?this.recalcSkip():this.adjustSkipToLimit()},sync:function(){throw new Error("Not supported!")},recalcAttrs:function(){var t=this.changedAttributes();e.has(t,"total")||e.has(t,"skip")||e.has(t,"limit")?this.recalcPage():e.has(t,"page")&&this.recalcSkip()},recalcPage:function(){this.adjustSkipToLimit();var e=this.attributes;e.page=e.skip/e.limit+1},recalcSkip:function(){var e=this.attributes;e.skip=(e.page-1)*e.limit},adjustSkipToLimit:function(){var e=this.attributes;e.skip>=e.total&&(e.skip=e.total<2?1:e.total-1);var t=e.skip%e.limit;0!==t&&(e.skip-=t)}})}),define("app/core/Model",["backbone"],function(e){"use strict";return e.Model.extend({idAttribute:"_id",urlRoot:"/",clientUrlRoot:null,topicPrefix:null,privilegePrefix:null,nlsDomain:null,labelAttribute:null,genClientUrl:function(e){if(null===this.clientUrlRoot)throw new Error("`clientUrlRoot` was not specified");var t=this.clientUrlRoot;return"base"===e?t:(t+="/",this.isNew()?t+=encodeURIComponent(this.cid):t+=encodeURIComponent(this.id),"string"==typeof e&&(t+=";"+e),t)},getTopicPrefix:function(){return this.topicPrefix},getPrivilegePrefix:function(){return this.privilegePrefix},getNlsDomain:function(){return this.nlsDomain||"core"},getLabelAttribute:function(){return this.labelAttribute||this.idAttribute},getLabel:function(){return String(this.get(this.getLabelAttribute()))},sync:function(t,n,r){var i="read"===t;i&&this.cancelCurrentReadRequest(n);var o=e.Model.prototype.sync.call(this,t,n,r);return i&&this.setUpCurrentReadRequest(n,o),o},cancelCurrentReadRequest:function(e){e.currentReadRequest&&(e.currentReadRequest.abort(),e.currentReadRequest=null)},setUpCurrentReadRequest:function(e,t){t.always(function(){e.currentReadRequest===t&&(e.currentReadRequest=null)}),e.currentReadRequest=t}})}),define("app/core/Collection",["underscore","backbone","h5.rql/index","./util","./PaginationData","./Model"],function(e,t,n,r,i,o){"use strict";function a(n,r){e.isObject(r)||(r={}),this.rqlQuery=this.createRqlQuery(r.rqlQuery||this.rqlQuery),-1337===this.rqlQuery.limit&&(this.rqlQuery.limit=this.getDefaultPageLimit()),this.paginationData=!1!==r.paginate&&!1!==this.paginate?new i:null,this.url||(this.url=this.model.prototype.urlRoot),t.Collection.call(this,n,r),this.paginationData&&this.listenTo(this.paginationData,"change:page",this.onPageChanged)}return r.inherits(a,t.Collection),a.prototype.model=o,a.prototype.parse=function(e){return e||(e={totalCount:0,collection:[]}),this.paginationData&&this.paginationData.set(this.getPaginationData(e)),Array.isArray(e.collection)?e.collection:[]},a.prototype.sync=function(e,n,r){return"read"!==e||r.data||(r.data=this.rqlQuery.toString()),t.Collection.prototype.sync.call(this,e,n,r)},a.prototype.genClientUrl=function(e){if(null===this.model.prototype.clientUrlRoot)throw new Error("Model's `clientUrlRoot` was not specified");var t=this.model.prototype.clientUrlRoot;return"string"==typeof e&&(t+=";"+e),t},a.prototype.getTopicPrefix=function(){return this.topicPrefix||this.model.prototype.topicPrefix},a.prototype.getPrivilegePrefix=function(){return this.privilegePrefix||this.model.prototype.privilegePrefix},a.prototype.getNlsDomain=function(){return this.nlsDomain||this.model.prototype.nlsDomain},a.prototype.getLabel=function(e){var t=this.get(e);return t?t.getLabel():null},a.prototype.createRqlQuery=function(t){return e.isString(t)?t=n.parse(t):e.isFunction(t)?t=t.call(this,n):e.isObject(t)&&(t=n.Query.fromObject(t)),t&&!t.isEmpty()?t:e.isString(this.rqlQuery)?n.parse(this.rqlQuery):e.isFunction(this.rqlQuery)?this.rqlQuery.call(this,n):e.isObject(this.rqlQuery)?n.Query.fromObject(this.rqlQuery):new n.Query},a.prototype.getPaginationData=function(e){return{totalCount:e.totalCount||0,urlTemplate:this.genPaginationUrlTemplate(),skip:this.rqlQuery.skip,limit:this.rqlQuery.limit}},a.prototype.genPaginationUrlTemplate=function(){var e=this.rqlQuery,t=e.skip,n=e.limit;e.skip="${skip}",e.limit="${limit}";var r=this.genClientUrl()+"?"+e.toString();return e.skip=t,e.limit=n,r},a.prototype.onPageChanged=function(e,t){this.rqlQuery.skip=(t-1)*this.rqlQuery.limit,this.fetch({reset:!0})},a.prototype.getDefaultPageLimit=function(){var e=32,t=34;e=this.theadHeight>8?this.theadHeight:32+20*((this.theadHeight||1)-1),"number"==typeof this.rowHeight?t=this.rowHeight>8?this.rowHeight:31+20*(this.rowHeight-1):!1===this.rowHeight&&(t=31);var n=window.innerHeight-99-106-54-e;return Math.max(10,Math.floor(n/t))},a.prototype.findRqlTerm=function(t,n){return e.find(this.rqlQuery.selector.args,function(e){return e.args[0]===t&&(Array.isArray(n)?-1!==n.indexOf(e.name):!n||e.name===n)})},a}),define("app/divisions/Division",["../i18n","../time","../core/Model"],function(e,t,n){"use strict";return n.extend({urlRoot:"/divisions",clientUrlRoot:"#divisions",topicPrefix:"divisions",privilegePrefix:"DICTIONARIES",nlsDomain:"divisions",labelAttribute:"_id",defaults:{type:"prod"},serialize:function(){var n=this.toJSON();return n.type=e("divisions","TYPE:"+n.type),n.deactivatedAt=n.deactivatedAt?t.format(n.deactivatedAt,"LL"):"",n},isActive:function(e){var t=this.get("deactivatedAt");return!t||(e||Date.now())<Date.parse(t)}})}),define("app/divisions/DivisionCollection",["../core/Collection","./Division"],function(e,t){"use strict";return e.extend({model:t,rqlQuery:"sort(_id)",comparator:"_id"})}),define("app/data/createStorage",["app/time","app/broker","app/pubsub","./localStorage"],function(e,t,n,r){"use strict";return n.subscribe("dictionaries.updated",function(e){var n=e.topic,r=e.message,i=e.meta;i.remote=!0,i.json&&"string"==typeof r&&(r=JSON.parse(r)),t.publish(n,r,i)}),function(n,i,o){var a={time:e.appData,data:window[n]||null},s=JSON.parse(r.getItem(n)||'{"time":0,"data":null}'),u=s&&s.time>a.time||!a.data?s:a,c=new o(u.data);function l(){c.updatedAt=Date.now(),r.setItem(n,JSON.stringify({time:c.updatedAt,data:c.models})),t.publish(i+".synced")}return c.updatedAt=u.time,u!==a&&s.data||l(),c.on("add",l),c.on("remove",l),c.on("destroy",l),c.on("change",l),c.on("sync",l),c.on("reset",l),t.subscribe(i+".added",function(e){c.add(e.model)}),t.subscribe(i+".edited",function(e){var t=c.get(e.model._id);t?t.set(e.model):c.add(e.model)}),t.subscribe(i+".deleted",function(e){c.remove(e.model._id)}),c}}),define("app/data/divisions",["app/divisions/DivisionCollection","./createStorage"],function(e,t){"use strict";return t("DIVISIONS","divisions",e)}),define("app/core/util/colorLabel",[],function(){"use strict";var e={};function t(t){if(void 0!==e[t])return e[t];var n=0,r=0,i=0,o=t.match(/^#([a-fA-F0-9]{3,6})$/);if(o){var a=o[1];3===a.length?(n=a.substr(0,1),r=a.substr(1,1),i=a.substr(2,1),n+=n,r+=r,i+=i):(n=a.substr(0,2),r=a.substr(2,2),i=a.substr(4,2)),n=parseInt(n,16),r=parseInt(r,16),i=parseInt(i,16)}else(o=t.match(/([0-9]+).*?([0-9]+).*?([0-9]+)/))&&(n=parseInt(o[1],10),r=parseInt(o[2],10),i=parseInt(o[3],10));return e[t]=1-(.299*n+.587*r+.114*i)/255<.3,e[t]}function n(e){"string"==typeof e&&(e={color:e});var n=["label","color"];e.className&&(n=n.concat(e.className));var r=e.title||"",i=e.color.toUpperCase(),o=e.label||i;return t(i)&&n.push("is-contrast"),'<span class="'+n.join(" ")+'" title="'+r+'" style="background: '+i+'">'+o+"</span>"}return n.requiresContrast=t,n}),define("app/aors/Aor",["../core/Model","app/core/util/colorLabel"],function(e,t){"use strict";return e.extend({urlRoot:"/aors",clientUrlRoot:"#aors",topicPrefix:"aors",privilegePrefix:"DICTIONARIES",nlsDomain:"aors",labelAttribute:"name",defaults:{name:null,description:null,color:"#f08f44",refColor:"#ffa85c",refValue:0},serialize:function(){var e=this.toJSON();return e.color=t(e.color),e.refColor=t(e.refColor),e.refValue=e.refValue&&e.refValue.toLocaleString?e.refValue.toLocaleString():"0",e}})}),define("app/aors/AorCollection",["../core/Collection","./Aor"],function(e,t){"use strict";return e.extend({model:t,rqlQuery:"sort(name)",comparator:"name"})}),define("app/data/aors",["app/aors/AorCollection","./createStorage"],function(e,t){"use strict";return t("AORS","aors",e)}),define("app/downtimeReasons/DowntimeReason",["../i18n","../core/Model","../data/aors","app/core/util/colorLabel"],function(e,t,n,r){"use strict";var i=["assembly","press","paintShop","wh-pickup","wh-dist"];return t.extend({urlRoot:"/downtimeReasons",clientUrlRoot:"#downtimeReasons",topicPrefix:"downtimeReasons",privilegePrefix:"DICTIONARIES",nlsDomain:"downtimeReasons",labelAttribute:"label",defaults:function(){return{label:null,type:"other",subdivisionTypes:i,opticsPosition:-1,pressPosition:-1,auto:!1,scheduled:!1,color:"#ff0000",refColor:"#aa0000",refValue:0,aors:[],defaultAor:!1}},serialize:function(){var t=this.nlsDomain,i=this.toJSON();return i.scheduled=e("core","BOOL:"+i.scheduled),i.auto=e("core","BOOL:"+i.auto),i.type=e(t,"type:"+i.type),i.color=r(i.color),i.refColor=r(i.refColor),i.refValue=i.refValue&&i.refValue.toLocaleString?i.refValue.toLocaleString():"0",i.subdivisionTypes&&i.subdivisionTypes.length?i.subdivisionTypes=i.subdivisionTypes.map(function(n){return e(t,"subdivisionType:"+n)}).join("; "):i.subdivisionTypes=e(t,"subdivisionType:none"),i.aors=i.aors.map(function(e){var t=n.get(e);return t?t.getLabel():e}),i.defaultAor=e("core","BOOL:"+i.defaultAor),i},serializeRow:function(){var t=this.serialize();return t.aors=t.aors.length?t.aors.join("; "):e(this.nlsDomain,"aors:all"),t}},{SUBDIVISION_TYPES:i})}),define("app/downtimeReasons/DowntimeReasonCollection",["underscore","../core/Collection","./DowntimeReason"],function(e,t,n){"use strict";return t.extend({model:n,rqlQuery:"sort(_id)",comparator:"_id",findBySubdivisionType:function(t){return Array.isArray(t)?this.filter(function(n){return e.some(n.get("subdivisionTypes"),function(n){return e.includes(t,n)})}):this.filter(function(e){return-1!==e.get("subdivisionTypes").indexOf(t)})},findFirstBreakIdBySubdivisionType:function(e){var t=this.find(function(t){return"break"===t.get("type")&&-1!==t.get("subdivisionTypes").indexOf(e)});return t?t.id:null}})}),define("app/data/downtimeReasons",["app/downtimeReasons/DowntimeReasonCollection","./createStorage"],function(e,t){"use strict";return t("DOWNTIME_REASONS","downtimeReasons",e)}),define("app/subdivisions/Subdivision",["underscore","app/i18n","app/time","app/data/aors","app/data/downtimeReasons","app/data/divisions","app/core/Model"],function(e,t,n,r,i,o,a){"use strict";return a.extend({urlRoot:"/subdivisions",clientUrlRoot:"#subdivisions",topicPrefix:"subdivisions",privilegePrefix:"DICTIONARIES",nlsDomain:"subdivisions",labelAttribute:"name",defaults:function(){return{division:null,type:"assembly",name:null,prodTaskTags:null,aor:null,autoDowntimes:[],deactivatedAt:null}},serialize:function(a){var s=this.toJSON(),u=o.get(s.division);u&&(s.division=a&&a.renderOrgUnitPath?a.renderOrgUnitPath(u,!0,!1):u.getLabel()),s.deactivatedAt=s.deactivatedAt?n.format(s.deactivatedAt,"LL"):"",s.type=t("subdivisions","TYPE:"+s.type),s.prodTaskTags=s.prodTaskTags&&s.prodTaskTags.length?s.prodTaskTags.join("; "):null;var c=r.get(s.aor);return s.aor=c?c.getLabel():"",s.autoDowntimes=e.map(s.autoDowntimes,function(e){var t=i.get(e.reason);return t?{reason:t.getLabel(),when:e.when,time:(e.time||[]).map(function(e){return{d:e.d,h:(e.h<10?"0":"")+e.h,m:(e.m<10?"0":"")+e.m}})}:null}).filter(function(e){return!!e}),s},serializeRow:function(e){var t=this.serialize(e);return t.autoDowntimes=0===t.autoDowntimes.length?"":t.autoDowntimes.map(function(e){return e.reason}).join("; "),t},isActive:function(e){var t=this.get("deactivatedAt");return!t||(e||Date.now())<Date.parse(t)},getSubdivision:function(){return this}})}),define("app/subdivisions/SubdivisionCollection",["../core/Collection","./Subdivision"],function(e,t){"use strict";return e.extend({model:t,rqlQuery:"sort(division,name)",comparator:"division"})}),define("app/data/subdivisions",["app/subdivisions/SubdivisionCollection","./createStorage"],function(e,t){"use strict";return t("SUBDIVISIONS","subdivisions",e)}),define("app/core/views/DialogView",["underscore","../View"],function(e,t){"use strict";return t.extend({events:{"click .dialog-answer":function(t){var n=this.$(t.target).closest(".dialog-answer").attr("data-answer");e.isString(n)&&n.length>0&&(this.disableAnswers(),this.trigger("answered",n),!1!==this.options.autoHide&&e.isFunction(this.closeDialog)&&this.closeDialog())}},serialize:function(){return e.assign(t.prototype.serialize.apply(this,arguments),this.model)},onDialogShown:function(e){this.closeDialog=e.closeDialog.bind(e)},disableAnswers:function(){this.$(".btn[data-answer]").prop("disabled",!0)},enableAnswers:function(){this.$(".btn[data-answer]").prop("disabled",!1)},closeDialog:function(){}})}),define("app/core/util/getShiftStartInfo",["app/time"],function(e){"use strict";return function(t,n){var r=n&&n.shiftLength||8,i=n&&"number"==typeof n.startHour?n.startHour:6,o=(n&&n.utc?e.utc:e).getMoment(t),a=o.valueOf(),s=1,u=24/r;for(o.hours()<i&&o.subtract(24,"hours"),o.hours(i).startOf("hours");s<=u;++s){var c=o.valueOf(),l=o.hours()+r;l>=24&&(l-=24),o.add(r,"hours");var d=o.hours();d!==l&&o.add(l-d,"hours");var p=o.valueOf();if(a>=c&&a<p)return{moment:e.getMoment(c),no:s,startTime:c,endTime:p,startHour:i,length:r,count:u}}throw new Error("Could not resolve the shift start info!")}}),define("app/core/templates/forms/dateTimeRange",["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){void 0!==e&&null!==e&&(__output+=e)}with(locals||{})formGroup&&(__append('\n<div class="form-group '),__append(hidden?"hidden":""),__append('" data-filter="'),__append(property),__append('">\n')),__append('\n<div id="'),__append(idPrefix),__append("-dateTimeRange-"),__append(property),__append('" class="dateTimeRange" data-property="'),__append(property),__append('" data-utc="'),__append(utc),__append('" data-set-time="'),__append(setTime),__append('" data-type="'),__append(type),__append('" data-start-hour="'),__append(startHour),__append('" data-shift-length="'),__append(shiftLength),__append('">\n  <div class="dateTimeRange-labels">\n    '),labels.forEach(function(e){__append('\n    <div class="dateTimeRange-label '),__append(e.dropdown||e.ranges?"dropdown":""),__append(" "),__append(e.input?"dateTimeRange-is-input":""),__append('">\n      <label\n        class="control-label '),__append(e.dropdown||e.ranges?"dropdown-toggle":""),__append('"\n        '),__append(e.dropdown||e.ranges?'data-toggle="dropdown"':""),__append("\n        "),e.input&&(__append('for="'),__append(idPrefix),__append("-"),__append(e.input.name),__append("-"),__append(e.input.value),__append('"')),__append("\n      >\n        "),e.input&&(__append('\n        <input id="'),__append(idPrefix),__append("-"),__append(e.input.name),__append("-"),__append(e.input.value),__append('" class="dateTimeRange-label-input" type="'),__append(e.input.type),__append('" name="'),__append(e.input.name),__append('" value="'),__append(e.input.value),__append('">\n        ')),__append("\n        "),__append(e.text),__append("\n        "),(e.dropdown||e.ranges)&&__append('<span class="caret"></span>'),__append("\n      </label>\n      "),e.ranges?(__append('\n      <table class="dropdown-menu dateTimeRange-ranges">\n        '),Object.keys(e.ranges).forEach(function(n){__append("\n        <tr>\n          <th>"),__append(t("core","dateTimeRange:"+n)),__append("</th>\n          "),e.ranges[n].forEach(function(e){__append("\n          <td>\n            "),e&&(__append('\n            <a href="javascript:void(0)" data-date-time-group="'),__append(n),__append('" data-date-time-range="'),__append(e),__append('">\n              '),t.has("core","dateTimeRange:"+n+":"+e)?(__append("\n              "),__append(t("core","dateTimeRange:"+n+":"+e)),__append("\n              ")):t.has("core","dateTimeRange:"+e)?(__append("\n              "),__append(t("core","dateTimeRange:"+e)),__append("\n              ")):(__append("\n              "),__append(e),__append("\n              ")),__append("\n            </a>\n            ")),__append("\n          </td>\n          ")}),__append("\n        </tr>\n        ")}),__append('\n        <tr>\n          <td colspan="999" class="dateTimeRange-help">'),__append(t("core","dateTimeRange:help")),__append("</td>\n        </tr>\n      </table>\n      ")):e.dropdown&&(__append('\n      <ul class="dropdown-menu">\n        '),e.dropdown.forEach(function(e){__append("\n        <li><a "),__append(e.attrs),__append(">"),__append(e.text),__append("</a></li>\n        ")}),__append("\n      </ul>\n      ")),__append("\n    </div>\n    ")}),__append('\n  </div>\n  <div class="dateTimeRange-fields">\n    <div class="dateTimeRange-field dateTimeRange-from">\n      '),/date|month/.test(type)&&(__append('\n        <input id="'),__append(idPrefix),__append('-from-date" name="from-date" class="form-control" type="'),__append(/month/.test(type)?"month":"date"),__append('" placeholder="'),__append(t("core","dateTimeRange:placeholder:date")),__append('" min="'),__append(minDate),__append('" max="'),__append(maxDate),__append('" '),__append(required.date[0]?"required":""),__append(">\n      ")),__append("\n      "),/time/.test(type)&&(__append('\n      <input id="'),__append(idPrefix),__append('-from-time" name="from-time" class="form-control" type="time" placeholder="'),__append(t("core","dateTimeRange:placeholder:time")),__append('" '),__append(required.time[0]?"required":""),__append(">\n      ")),__append('\n    </div>\n    <div class="dateTimeRange-separator">'),__append(separator),__append('</div>\n    <div class="dateTimeRange-field dateTimeRange-to">\n      '),/date|month/.test(type)&&(__append('\n      <input id="'),__append(idPrefix),__append('-to-date" name="to-date" class="form-control" type="'),__append(/month/.test(type)?"month":"date"),__append('" placeholder="'),__append(t("core","dateTimeRange:placeholder:date")),__append('" min="'),__append(minDate),__append('" max="'),__append(maxDate),__append('" '),__append(required.date[1]?"required":""),__append(">\n      ")),__append("\n      "),/time/.test(type)&&(__append('\n      <input id="'),__append(idPrefix),__append('-to-time" name="to-time" class="form-control" type="time" placeholder="'),__append(t("core","dateTimeRange:placeholder:time")),__append('" '),__append(required.time[1]?"required":""),__append(">\n      ")),__append("\n    </div>\n  </div>\n</div>\n"),formGroup&&__append("\n</div>\n"),__append("\n");return __output}}),define("app/core/util/forms/dateTimeRange",["underscore","jquery","app/i18n","app/time","app/core/util/getShiftStartInfo","app/core/templates/forms/dateTimeRange"],function(e,t,n,r,i,o){"use strict";var a={date:"YYYY-MM-DD",month:"YYYY-MM","date+time":"YYYY-MM-DD",time:"HH:mm:ss"},s={shifts:["+0+1","-1+0","1","2","3"],days:["+0+1","-1+0","-7+0","-14+0","-28+0"],weeks:["+0+1","-1+0","-2+0","-3+0","-4+0"],months:["+0+1","-1+0","-2+0","-3+0","-6+0"],quarters:["+0+1","1","2","3","4",null],years:["+0+1","-1+0",null,null,null]},u=!1;function c(e){var n=e.currentTarget,r=document.getElementById(n.htmlFor);r&&requestAnimationFrame(function(){r.disabled||t(r).prop("checked",!0).trigger("change")})}function l(i){u||(t(document).on("click",".dateTimeRange-is-input > .dropdown-toggle",c),u=!0);var l=i.type||"date",d={idPrefix:i.idPrefix||"v",property:i.property||"date",formGroup:!1!==i.formGroup,hidden:!0===i.hidden,utc:i.utc?1:0,setTime:!1!==i.setTime?1:0,type:l,startHour:i.startHour||0,shiftLength:i.shiftLength||8,minDate:i.minDate||window.PRODUCTION_DATA_START_DATE||"",maxDate:""===i.maxDate?"":i.maxDate||r.getMoment().add(1,"years").format(a[l]),labels:[],separator:i.separator||"–",required:{date:[!1,!1],time:[!1,!1]}};if(i.required){var p=d.required;"boolean"==typeof i.required?(p.date=[i.required,i.required],p.time=[i.required,i.required]):Array.isArray(i.required)?(p.date=[!!i.required[0],!!i.required[1]],p.time=[!!i.required[0],!!i.required[1]]):(Array.isArray(i.required.date)?p.date=[!!i.required.date[0],!!i.required.date[1]]:p.date=[!!i.required.date,!!i.required.date],Array.isArray(i.required.time)?p.time=[!!i.required.time[0],!!i.required.time[1]]:p.time=[!!i.required.time,!!i.required.time])}return i.labels?Array.isArray(i.labels)?d.labels=[].concat(i.labels):d.labels.push(i.labels):d.labels.push({ranges:!0}),d.labels=d.labels.map(function(t){return{text:t.text||n("core","dateTimeRange:label:"+d.type),dropdown:function(e){return Array.isArray(e.dropdown)?e.dropdown.map(function(e){return"object"==typeof e.attrs&&(e.attrs=Object.keys(e.attrs).map(function(t){return t+'="'+e.attrs[t]+'"'}).join(" ")),e}):null}(t),input:t.input||null,ranges:function(t){if(!0===t.ranges&&(t.ranges=""),"string"!=typeof t.ranges)return null;var n={shifts:!1,days:!0,weeks:!0,months:!0,quarters:!0,years:!0};t.ranges.split(" ").some(function(e){return/^[^+\-]/.test(e)})&&Object.keys(n).forEach(function(e){n[e]=!1});var r=e.assign({},s);return t.ranges.split(" ").forEach(function(e){var t="-"===e.charAt(0)?"-":"+",i=e.replace(/^[^a-z]+/,"").split(":"),o=i.shift(),a=i.length?i[0].split("_"):[];n[o]="+"===t,a.length&&(r[o]=a)}),Object.keys(n).forEach(function(e){r[e]&&n[e]?n[e]=r[e]:delete n[e]}),n}(t)}}),o(d)}return l.handleRangeEvent=function(e){var t=this.$(e.target).closest("a[data-date-time-range]"),n=t.closest(".dateTimeRange"),r=n[0].dataset.type,o="1"===n[0].dataset.utc,s=+n[0].dataset.startHour,u=+n[0].dataset.shiftLength,c=t[0].dataset.dateTimeGroup,l=t[0].dataset.dateTimeRange,d=c,p=1,f=i(Date.now(),{utc:o,startHour:s,shiftLength:u}),h=f.moment,m=null;if(h.hours()<s&&h.subtract(24,"hours"),"shifts"===c?(d="hours",p=u):h.startOf("day"),/^[0-9]+$/.test(l))"shifts"===c?(h.subtract((f.no-1)*f.length,"hours").add((+l-1)*f.length,"hours"),m=h.clone().add(f.length,"hours")):("0"===l?h.startOf(d):h.startOf("year").add(l-1,d),m=h.clone().add(1,d));else{var g=l.match(/^([+-])([0-9]+)([+-])([0-9]+)$/)||[0,"+","0","+","1"];m=h.startOf(d).clone()["+"===g[3]?"add":"subtract"](+g[4]*p,d),h=h["+"===g[1]?"add":"subtract"](+g[2]*p,d)}"shifts"!==c&&(h.hours(s),m.hours(s));var y=a[r];n.find('input[name="from-date"]').val(h.format(y)).trigger("change"),n.find('input[name="from-time"]').val(h.format("HH:mm:ss")).trigger("change"),n.find('input[name="to-date"]').val(m.format(y)).trigger("change"),n.find('input[name="to-time"]').val(m.format("HH:mm:ss")).trigger("change");var v=this.$('[name="interval"]');if(v.length){var b={},_=[];v.each(function(){this.disabled||this.parentNode.classList.contains("disabled")||(b[this.value]=this,_.push(this.value))});var w=function(e,t){var n=36e5;if(e<=8*n)return"hour";var r=24*n;if(e<=9e7)return"shift";if("weeks"===t&&e>11988e5&&e<=243e7)return"week";var i=31*r;return e<=26892e5?"day":e<2.5*i?"week":e>12*i?"year":"month"}(m.valueOf()-h.valueOf(),c);b[w]||(w=_[_.length-1]),w&&v.filter('[value="'+w+'"]').parent().click()}e.altKey&&this.$('[type="submit"]').click()},l.serialize=function(e){var t=e.$(".dateTimeRange"),n=t[0].dataset.type,i=a[n],o="1"===t[0].dataset.utc,s="1"===t[0].dataset.setTime,u=t[0].dataset.startHour,c=t.find('input[name="from-date"]'),l=t.find('input[name="from-time"]'),d=t.find('input[name="to-date"]'),p=t.find('input[name="to-time"]'),f=c.val(),h=l.val(),m=d.val(),g=p.val();(!c.length||f.length<7)&&(f="1970-01-01"),(!d.length||m.length<7)&&(m="1970-01-01"),7===f.length&&(f+="-01"),7===m.length&&(m+="-01");var y=s?(1===u.length?"0":"")+u+":00":"00:00:00";(!l.length||h.length<5)&&(h=y),(!p.length||g.length<5)&&(g=y),5===h.length&&(h+=":00"),5===g.length&&(g+=":00");var v=(o?r.utc:r).getMoment(f+" "+h,"YYYY-MM-DD HH:mm:ss"),b=(o?r.utc:r).getMoment(m+" "+g,"YYYY-MM-DD HH:mm:ss");return _(v)?(c.val(""),l.val(""),v=null):(c.val(v.format(i)),l.val(v.format("HH:mm:ss"))),_(b)?(d.val(""),p.val(""),b=null):(d.val(b.format(i)),p.val(b.format("HH:mm:ss"))),{property:t[0].dataset.property,from:v,to:b};function _(e){return!e.isValid()||"time"!==n&&1970===e.year()}},l.formToRql=function(e,t){var n=l.serialize(e);n.from&&t.push({name:"ge",args:[n.property,n.from.valueOf()]}),n.to&&t.push({name:"lt",args:[n.property,n.to.valueOf()]})},l.rqlToForm=function(e,t,n){var i,o=this.$(".dateTimeRange")[0].dataset,s=a[o.type],u=("1"===o.utc?r.utc:r).getMoment(t.args[1]);"ge"===t.name||"gt"===t.name?i="from":"le"!==t.name&&"lt"!==t.name||(i="to"),i&&u.isValid()&&(n[i+"-date"]=u.format(s),n[i+"-time"]=u.format("HH:mm:ss"))},l}),define("app/core/util/forms",["./forms/dateTimeRange"],function(e){"use strict";return{dateTimeRange:e}}),define("app/core/templates/embedded/appsDialog",["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){void 0!==e&&null!==e&&(__output+=e)}with(locals||{})__append('<div class="embedded-appsDialog-apps" style="margin-top: -'),__append(71*apps.length/2),__append('px">\n  '),apps.forEach(function(e){__append('\n  <button data-app="'),__append(e),__append('" class="btn btn-default btn-block">'),__append(t("core","embedded:apps:"+e)),__append("</button>\n  ")}),__append("\n</div>\n");return __output}}),define("app/core/templates/embedded/confirmDialog",["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){void 0!==e&&null!==e&&(__output+=e)}with(locals||{})__append("<div>\n  "),__append(t("core","embedded:"+action+":message")),__append('\n  <div class="form-actions">\n    <button class="btn btn-lg btn-danger dialog-answer" type="button" autofocus data-answer="yes">'),__append(t("core","embedded:"+action+":yes")),__append('</button>\n    <button class="btn btn-lg btn-link cancel" type="button">'),__append(t("core","embedded:"+action+":no")),__append("</button>\n  </div>\n</div>\n");return __output}}),define("app/core/templates/embedded/actions",["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){void 0!==e&&null!==e&&(__output+=e)}with(locals||{})__append('<div class="dropup embedded-actions '),__append(left?"embedded-left":"embedded-right"),__append('" data-app="'),__append(app),__append('">\n  <button data-action="switch" class="btn btn-default btn-lg" type="button" title="'),__append(t("core","embedded:actions:switch")),__append('">\n    <i class="fa fa-window-restore"></i>\n  </button>\n  <button class="btn btn-default btn-lg dropdown-toggle" type="button" data-toggle="dropdown">\n    <i class="fa fa-cogs"></i>\n  </button>\n  <ul class="dropdown-menu '),__append(left?"":"dropdown-menu-right"),__append('">\n    <li><a data-action="switch"><i class="fa fa-window-restore"></i><span>'),__append(t("core","embedded:actions:switch")),__append('</span></a></li>\n    <li><a data-action="refresh"><i class="fa fa-refresh"></i><span>'),__append(t("core","embedded:actions:refresh")),__append('</span></a></li>\n    <li><a data-action="config"><i class="fa fa-wrench"></i><span>'),__append(t("core","embedded:actions:config")),__append('</span></a></li>\n    <li><a data-action="reboot"><i class="fa fa-undo"></i><span>'),__append(t("core","embedded:actions:reboot")),__append('</span></a></li>\n    <li><a data-action="shutdown"><i class="fa fa-power-off"></i><span>'),__append(t("core","embedded:actions:shutdown")),__append('</span></a></li>\n    <li class="dev hidden"><a data-action="restartBrowser"><i class="fa"></i><span>'),__append(t("core","embedded:actions:restartBrowser")),__append('</span></a></li>\n    <li class="dev hidden"><a data-action="resetBrowser"><i class="fa"></i><span>'),__append(t("core","embedded:actions:resetBrowser")),__append('</span></a></li>\n    <li class="dev hidden"><a data-action="noKiosk"><i class="fa"></i><span>'),__append(t("core","embedded:actions:noKiosk")),__append("</span></a></li>\n  </ul>\n</div>\n");return __output}}),define("app/core/util/embedded",["require","jquery","app/i18n","app/viewport","app/core/View","app/core/views/DialogView","app/core/templates/embedded/appsDialog","app/core/templates/embedded/confirmDialog","app/core/templates/embedded/actions"],function(e,t,n,r,i,o,a,s,u){"use strict";var c=window.IS_EMBEDDED||window.parent!==window||-1!==window.location.href.indexOf("_embedded=1"),l=null;return window.addEventListener("message",function(t){var n=t.data||{};switch(n.type){case"apps":r=n.data,clearTimeout(l),Array.isArray(r.apps)&&0!==r.apps.length&&(1===r.apps.length?window.parent.postMessage({type:"switch",app:window.WMES_APP_ID},"*"):(o=r.apps,(s=e("app/viewport")).showDialog(new i({events:{"click [data-app]":function(e){s.closeAllDialogs(),window.parent.postMessage({type:"switch",app:window.WMES_APP_ID,newApp:e.currentTarget.dataset.app},"*")}},dialogClassName:"embedded-appsDialog",template:a,getTemplateData:function(){return{apps:o}}}))))}var r,o,s}),{actions:{switch:function(){window.parent.postMessage({type:"apps"},"*"),l&&clearTimeout(l),l=setTimeout(function(){window.parent.postMessage({type:"switch",app:window.WMES_APP_ID},"*")},250)},config:function(){window.parent.postMessage({type:"config"},"*")},refresh:function(){window.parent.postMessage({type:"refresh"},"*")},resetBrowser:function(){window.parent.postMessage({type:"resetBrowser"},"*")},restartBrowser:function(){window.parent.postMessage({type:"restartBrowser"},"*")},noKiosk:function(){window.parent.postMessage({type:"noKiosk"},"*")},reboot:function(){var t=new o({dialogClassName:"embedded-confirmDialog",template:s,model:{action:"reboot"}});t.once("answered",function(e){"yes"===e&&window.parent.postMessage({type:"reboot"},"*")}),e("app/viewport").showDialog(t,n("core","embedded:reboot:title"))},shutdown:function(){var t=new o({dialogClassName:"embedded-confirmDialog",template:s,model:{action:"shutdown"}});t.once("answered",function(e){"yes"===e&&window.parent.postMessage({type:"shutdown"},"*")}),e("app/viewport").showDialog(t,n("core","embedded:shutdown:title"))}},isEnabled:function(){return c},ready:function(e){c&&window.parent.postMessage({type:"ready",app:e||window.WMES_APP_ID},"*")},render:function(e,n){if(c){var r=0,i=null,o=this.actions,a=t(u({app:window.WMES_APP_ID,left:n&&!0===n.left}));a.on("click","[data-action]",function(e){var t=o[e.currentTarget.dataset.action];t&&t(),e.preventDefault()}),a.on("show.bs.dropdown",function(){r+=1,clearTimeout(i),i=setTimeout(function(){r=0},2e3),s(r<3)}),a.on("hidden.bs.dropdown",function(){s(!0)}),t(".embedded-actions").remove(),(n&&n.container||e.$el).append(a)}function s(e){a.find(".dev").toggleClass("hidden",e)}}}}),define("app/user",["underscore","app/i18n","app/broker","app/socket","app/data/divisions","app/data/subdivisions","app/core/util/embedded"],function(e,t,n,r,i,o,a){"use strict";var s=[],u=0,c={};r.on("user.reload",function(e){c.reload(e)}),r.on("user.deleted",function(){window.location.reload()});var l=e.assign(window.GUEST_USER||{},{name:t.bound("core","GUEST_USER_NAME")});return delete window.GUEST_USER,c.idProperty="id",c.data=l,c.lang=window.APP_LOCALE||window.appLocale||"pl",c.noReload=!1,c.isReloadLocked=function(){return s.length>0},c.lockReload=function(){return s.push(++u)},c.unlockReload=function(e){s=s.filter(function(t){return t!==e})},c.reload=function(r){r||(r={}),!1===r.loggedIn&&(r.name=t("core","GUEST_USER_NAME")),"unspecified"===r.orgUnitType&&(r.orgUnitType=null,r.orgUnitId=null);var i=e.omit(r,["privilegesMap","privilegesString"]),o=e.omit(c.data,["privilegesMap","privilegesString"]);if(!e.isEqual(i,o)){var a=c.isLoggedIn();Object.keys(r).length>0&&(c.data=r),c.data.privilegesMap=null,c.noReload?c.noReload=!1:n.publish("user.reloaded"),a&&!c.isLoggedIn()?n.publish("user.loggedOut"):!a&&c.isLoggedIn()&&n.publish("user.loggedIn")}},c.isLoggedIn=function(){return!0===c.data.loggedIn},c.getLabel=function(e){return c.data.name?String(c.data.name):c.data.lastName&&c.data.firstName?c.data.lastName===c.data.firstName?c.data.lastName:e?c.data.firstName+" "+c.data.lastName:c.data.lastName+" "+c.data.firstName:c.data.login},c.getInfo=function(){var e={};return e[c.idProperty]=c.data._id,e.ip=c.data.ip||c.data.ipAddress||"0.0.0.0",e.cname=window.COMPUTERNAME,e.label=c.getLabel(),e},c.isAllowedTo=function(e){if(!1===c.data.active)return!1;if(c.data.super)return!0;if(!c.data.privileges)return!1;var t=Array.prototype.slice.call(arguments),n=(1===t.length?[e]:t).map(function(e){return Array.isArray(e)?e:[e]}),r=c.isLoggedIn();if(!n.length)return r;for(var i=0,o=n.length;i<o;++i){for(var s=n[i],u=0,l=s.length,d=0;d<l;++d){var p=s[d];if("string"==typeof p)if("USER"===p)u+=r?1:0;else if("LOCAL"===p)u+=c.data.local?1:0;else if("EMBEDDED"===p)u+=a.isEnabled()?1:0;else if(/^FN:/.test(p)){var f=p.substring(3);if(-1!==f.indexOf("*"))u+=new RegExp("^"+f.replace(/\*/g,".*?")+"$").test(c.data.prodFunction)?1:0;else u+=c.data.prodFunction===f?1:0}else u+=c.hasPrivilege(s[d])?1:0;else l-=1}if(u===l)return!0}return!1},c.hasAccessToAor=function(e){return!e||c.data.super||!c.data.aors||!c.data.aors.length||-1!==c.data.aors.indexOf(e)},c.hasAccessToSubdivision=function(e){if(!e)return!0;if("division"===c.data.orgUnitType){var t=o.get(e);return t&&c.data.orgUnitId===t.get("division")}return"subdivision"!==c.data.orgUnitType||c.data.orgUnitId===e},c.auth=function(){var e=Array.prototype.slice.call(arguments);return function(t,n,r){c.isAllowedTo.apply(c,e)?r():c.isLoggedIn()?require(["app/viewport","app/core/pages/ErrorPage"],function(e,r){e.showPage(new r({model:{code:403,req:t,previousUrl:n}}))}):require(["app/viewport","app/users/pages/LogInFormPage"],function(e,t){e.showPage(new t)})}},c.getDivision=function(){var e=null;switch(c.data.orgUnitType){case"division":e=c.data.orgUnitId;break;case"subdivision":var t=o.get(c.data.orgUnitId);t&&(e=t.get("division"))}return i.get(e)||null},c.getSubdivision=function(){return"subdivision"!==c.data.orgUnitType?null:o.get(c.data.orgUnitId)||null},c.hasPrivilege=function(t){return c.data.privilegesMap||(Array.isArray(c.data.privileges)||(c.data.privileges=[]),c.data.privilegesString="|"+c.data.privileges.join("|"),c.data.privilegesMap={},e.forEach(c.data.privileges,function(e){c.data.privilegesMap[e]=!0})),"*"===t.charAt(t.length-1)?-1!==c.data.privilegesString.indexOf("|"+t.substr(0,t.length-1)):!0===c.data.privilegesMap[t]},c.getGuestUserData=function(){return window.GUEST_USER||{id:null,login:"guest",name:t.bound("core","GUEST_USER_NAME"),loggedIn:!1,super:!1,privileges:[]}},c.getRootUserData=function(){return window.ROOT_USER||{id:null,login:"root",name:"root",loggedIn:!0,super:!0,privileges:[]}},c.can={viewOrders:function(){return c.isAllowedTo("LOCAL","ORDERS:VIEW")},commentOrders:function(){return c.isAllowedTo("ORDERS:MANAGE","ORDERS:COMMENT","PLANNING:PLANNER","PLANNING:WHMAN","PAINT_SHOP:PAINTER","WH:VIEW","FN:master","FN:leader")}},window.user=c,c}),define("app/core/templates/messages",["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){void 0!==e&&null!==e&&(__output+=e)}with(locals||{})__append('<ol class="messages"></ol>\n');return __output}}),define("app/core/templates/message",["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){void 0!==e&&null!==e&&(__output+=e)}with(locals||{})__append('<div class="message message-'),__append(type),__append(" "),__append(sticky?"message-sticky":""),__append(" "),__append(className),__append('">'),__append(text),__append("</div>\n");return __output}}),define("app/core/views/MessagesView",["underscore","jquery","app/i18n","../View","app/core/templates/messages","app/core/templates/message"],function(e,t,n,r,i,o){"use strict";var a=r.extend({template:i,events:{"click .message":function(e){e.currentTarget.parentNode===this.el&&e.currentTarget.getAttribute("data-view")===this.idPrefix&&this.hide(t(e.currentTarget))}},localTopics:{"router.executing":function(){this.hide()}}});return a.prototype.initialize=function(){this.$loadingMessage=null,this.$savingMessage=null,this.loadingTimer=null,this.loadingCounter=0,this.savingTimer=null,this.savingCounter=0,this.hideTimers=[],this.loading=this.loading.bind(this),this.loaded=this.loaded.bind(this),this.saving=this.saving.bind(this),this.saved=this.saved.bind(this)},a.prototype.destroy=function(){this.$loadingMessage=null,null!==this.loadingTimer&&(clearTimeout(this.loadingTimer),this.loadingTimer=null),this.$savingMessage=null,null!==this.savingTimer&&(clearTimeout(this.savingTimer),this.savingTimer=null),this.hideTimers.length>0&&(this.hideTimers.forEach(clearTimeout),this.hideTimers=null),this.$('.message[data-view="'+this.idPrefix+'"]').remove()},a.prototype.show=function(e){var n=t(o({className:e.className||"",type:e.type||"info",text:e.text,sticky:!!e.sticky}));return this.$el.append(n.attr("data-view",this.idPrefix)),this.moveDown(n),n.attr("data-top",n.position().top).css("margin-left",-n.width()/2+"px"),e.immediate?n.css("opacity",1):n.animate({opacity:1}),this.scheduleHiding(n,e.time),n},a.prototype.hide=function(e,t){if(e){if(e.hasClass("message-hiding"))return;e.addClass("message-hiding")}else e=this.$('.message[data-view="'+this.idPrefix+'"]:not(.message-sticky)'),this.$loadingMessage=null;1===e.length&&(this.moveUp(e),this.removeHideTimer(e)),t?e.remove():e.animate({opacity:0},function(){e.remove()})},a.prototype.loading=function(){this.loadingCounter+=1,null===this.loadingTimer&&(this.loadingTimer=setTimeout(this.showLoadingMessage.bind(this),0))},a.prototype.loaded=function(){this.hideLoadingMessage()},a.prototype.loadingFailed=function(t){this.hideLoadingMessage(),this.show({type:"error",time:1e4,text:e.isString(t)?t:n("core","MSG:LOADING_FAILURE")})},a.prototype.showLoadingMessage=function(){this.loadingTimer=null,null===this.$loadingMessage&&(this.$loadingMessage=this.show({type:"warning",text:n("core","MSG:LOADING"),immediate:!0}))},a.prototype.hideLoadingMessage=function(){this.loadingCounter>0&&--this.loadingCounter,0===this.loadingCounter&&(null!==this.loadingTimer&&(clearTimeout(this.loadingTimer),this.loadingTimer=null),null!==this.$loadingMessage&&(this.hide(this.$loadingMessage),this.$loadingMessage=null))},a.prototype.saving=function(){this.savingCounter+=1,null===this.savingTimer&&(this.savingTimer=setTimeout(this.showSavingMessage.bind(this),0))},a.prototype.saved=function(){this.hideSavingMessage()},a.prototype.savingFailed=function(t){this.hideSavingMessage(),this.show({type:"error",time:5e3,text:e.isString(t)?t:n("core","MSG:SAVING_FAILURE")})},a.prototype.showSavingMessage=function(){this.savingTimer=null,null===this.$savingMessage&&(this.$savingMessage=this.show({type:"warning",text:n("core","MSG:SAVING"),immediate:!0}))},a.prototype.hideSavingMessage=function(){this.savingCounter>0&&--this.savingCounter,0===this.savingCounter&&(null!==this.savingTimer&&(clearTimeout(this.savingTimer),this.savingTimer=null),null!==this.$savingMessage&&(this.hide(this.$savingMessage),this.$savingMessage=null))},a.prototype.moveDown=function(e){this.moveTopBy(this.$('.message[data-view="'+this.idPrefix+'"]'),e,this.getMoveOffset(e))},a.prototype.moveUp=function(e){this.moveTopBy(e.prevAll(".message"),e,-this.getMoveOffset(e))},a.prototype.moveTopBy=function(e,n,r){e.each(function(){if(this!==n[0]){var e=t(this),i=parseInt(e.attr("data-top"),10)+r;e.attr("data-top",i),e.animate({top:i+"px"})}})},a.prototype.getMoveOffset=function(e){return e.outerHeight()+8},a.prototype.scheduleHiding=function(t,n){if(e.isNumber(n)){n<1e3&&(n=1e3);var r=setTimeout(this.hide.bind(this,t),n);t.data("hideTimer",r),this.hideTimers.push(r)}},a.prototype.removeHideTimer=function(t){var n=t.data("hideTimer");e.isUndefined(n)||(clearTimeout(n),t.data("hideTimer",void 0),this.hideTimers.splice(this.hideTimers.indexOf(n),1))},a}),define("app/core/templates/dialogContainer",["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){void 0!==e&&null!==e&&(__output+=e)}with(locals||{})__append('<div class="modal fade viewport-dialog" tabindex="-1">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close cancel">×</button>\n        <h3 class="modal-title"></h3>\n      </div>\n      <div class="modal-body"></div>\n    </div>\n  </div>\n</div>\n');return __output}}),define("app/core/Viewport",["require","underscore","jquery","./View","./util","./views/MessagesView","app/core/templates/dialogContainer"],function(e,t,n,r,i,o,a){"use strict";var s=function(e){return new e};function u(e){r.call(this,e),this.msg=e.messagesView?e.messagesView:new o({el:this.el}),this.document=e.document||window.document,this.layouts={},this.currentLayout=null,this.currentLayoutName=null,this.defaultLayoutName=null,this.currentPage=null,this.$dialog=null,this.dialogQueue=[],this.currentDialog=null,this.pageCounter=0,this.closeDialog=this.closeDialog.bind(this),this.$el.on("click",".viewport-dialog .cancel",this.closeDialog)}return i.inherits(u,r),u.prototype.cleanup=function(){this.broker.destroy(),this.msg.remove(),this.$dialog.remove(),this.currentPage&&this.currentPage.remove(),this.currentLayout&&this.currentLayout.remove(),this.currentDialog&&this.currentDialog.remove(),t.invoke(this.dialogQueue.filter(t.isObject),"remove"),this.$el.off("click",".viewport-dialog .cancel",this.closeDialog),this.broker=null,this.msg=null,this.$dialog=null,this.currentLayout=null,this.currentDialog=null,this.dialogQueue=null,this.layouts=null},u.prototype.afterRender=function(){if(null!==this.$dialog)return this.closeDialog();this.$dialog=n(a()).appendTo(this.el).modal({show:!1,backdrop:!0}),this.$dialog.on("shown.bs.modal",this.onDialogShown.bind(this)),this.$dialog.on("hidden.bs.modal",this.onDialogHidden.bind(this))},u.prototype.setDefaultLayout=function(e){return this.defaultLayoutName=e,this},u.prototype.registerLayout=function(e,t){return this.defaultLayoutName||(this.defaultLayoutName=e),this.layouts[e]=t,this},u.prototype.loadPage=function(n,r){this.msg.loading(),t.isFunction(r)||(r=s);var i=this,o=++this.pageCounter;e([].concat(n),function(){o===i.pageCounter&&i.showPage(r.apply(null,arguments)),i.msg.loaded()},function(e){o===i.pageCounter&&(i.msg.loadingFailed(),i.broker.publish("viewport.page.loadingFailed",{page:null,xhr:{status:0,responseText:e.stack||e.message}}))})},u.prototype.showPage=function(e){var r=this,i=r.defaultLayoutName;if("string"==typeof e.layoutName?i=e.layoutName:"function"==typeof e.layoutName&&(i=e.layoutName(r)),!t.isObject(r.layouts[i]))throw new Error("Unknown layout: "+i);function o(){for(var r=[],i=0;i<arguments.length;++i){var o=arguments[i];Array.isArray(o)?r.push.apply(r,o):r.push(o)}return e.trigger("beforeLoad",e,r),n.when.apply(n,t.map(r,e.promised,e))}function a(){r.broker.publish("viewport.page.loaded",{page:e}),e.trigger("afterLoad",e),null!==r.currentPage&&r.currentPage.remove(),r.currentPage=e;var n=r.setLayout(i);t.isFunction(n.setUpPage)&&n.setUpPage(e),t.isFunction(e.setUpLayout)&&e.setUpLayout(n),t.isObject(e.view)&&e.setView(e.view),n.setView(n.pageContainerSelector,e),r.isRendered()?n.isRendered()?e.render():n.render():r.render(),r.broker.publish("viewport.page.shown",e)}function s(t){e.remove(),r.broker.publish("viewport.page.loadingFailed",{page:e,xhr:t})}++r.pageCounter,r.broker.publish("viewport.page.loading",{page:e}),t.isFunction(e.load)?e.load(o).then(a,s):o().then(a,s)},u.prototype.showDialog=function(e,n){if(null!==this.currentDialog)return this.dialogQueue.push(e,n),this;var r=!0,i=e.afterRender,o=this;e.afterRender=function(){var n=o.$dialog.find(".modal-body");n.children()[0]!==e.el&&n.empty().append(e.el),r&&(r=!1,o.$dialog.modal("show")),t.isFunction(i)&&i.apply(e,arguments)},this.currentDialog=e;var a=this.$dialog.find(".modal-header");return n?(a.find(".modal-title").html(n),a.show()):a.hide(),e.dialogClassName&&this.$dialog.addClass(t.result(e,"dialogClassName")),e.render(),this},u.prototype.closeDialog=function(e){return null===this.currentDialog?this:(this.$dialog.modal("hide"),e&&e.preventDefault&&e.preventDefault(),this)},u.prototype.closeDialogs=function(e,t){this.dialogQueue=this.dialogQueue.filter(t||e),"function"==typeof e&&this.currentDialog&&e(this.currentDialog)&&this.closeDialog()},u.prototype.closeAllDialogs=function(){this.dialogQueue=[],this.closeDialog()},u.prototype.setLayout=function(e){if(e===this.currentLayoutName)return t.isFunction(this.currentLayout.reset)&&this.currentLayout.reset(),this.currentLayout;var n=this.layouts[e],r=this.options.selector||"";return t.isObject(this.currentLayout)&&this.removeView(r),this.currentLayoutName=e,this.currentLayout=n(),this.setView(r,this.currentLayout),this.trigger("layout:change",this.currentLayoutName,this.currentLayout),this.currentLayout},u.prototype.onDialogShown=function(){this.currentDialog&&(this.currentDialog.$("[autofocus]").focus(),t.isFunction(this.currentDialog.onDialogShown)&&this.currentDialog.onDialogShown(this),this.broker.publish("viewport.dialog.shown",this.currentDialog),this.currentDialog.trigger("dialog:shown"))},u.prototype.onDialogHidden=function(){this.currentDialog&&(this.currentDialog.dialogClassName&&this.$dialog.removeClass(t.result(this.currentDialog,"dialogClassName")),t.isFunction(this.currentDialog.remove)&&(this.currentDialog.trigger("dialog:hidden"),this.currentDialog.remove(),this.broker.publish("viewport.dialog.hidden",this.currentDialog)),this.currentDialog=null,this.dialogQueue.length&&this.showDialog(this.dialogQueue.shift(),this.dialogQueue.shift()))},u}),define("app/viewport",["app/broker","app/core/Viewport"],function(e,t){"use strict";var n=new t({el:document.body,selector:"#app-viewport"});return e.subscribe("router.executing",function(){window.scrollTo(0,0)}),e.subscribe("viewport.page.loaded",function(){window.parent!==window&&window.parent.postMessage({type:"viewport.page.embeddedLoaded",app:window.WMES_APP_ID,loaded:!0},"*")}),e.subscribe("viewport.page.loadingFailed",function(){window.parent!==window&&window.parent.postMessage({type:"viewport.page.embeddedLoaded",app:window.WMES_APP_ID,loaded:!1},"*")}),window.addEventListener("message",function(t){var n=t.data;switch(n.type){case"viewport.page.embeddedLoaded":e.publish("viewport.page.embeddedLoaded",{app:n.app,loaded:n.loaded})}}),window.viewport=n,Object.defineProperty(window,"page",{get:function(){return n.currentPage}}),Object.defineProperty(window,"dialog",{get:function(){return n.currentDialog}}),Object.defineProperty(window,"model",{get:function(){var e=n.currentDialog||n.currentPage;return e&&e.model||e.collection}}),n}),define("app/core/Request",["h5.rql/index","./util"],function(e,t){"use strict";var n=/^\/(.*?)(?:\?(.*?))?(?:#(.*?))?$/;function r(e){"/"!==e[0]&&(e="/"+e);var t=e.match(n);this.url=e,this.path=("/"===t[1][0]?"":"/")+t[1],this.queryString=t[2]||"",this.fragment=t[3]||"",this.params={},this.query={},this.rql={},this.defineGetters()}return r.prototype.defineGetters=function(){Object.defineProperty(this,"query",{enumerable:!0,configurable:!0,get:function(){return this.parseQueryString()},set:function(e){this.query=e}}),Object.defineProperty(this,"rql",{enumerable:!0,configurable:!0,get:function(){return this.parseRqlString()},set:function(e){this.rql=e}})},r.prototype.parseQueryString=function(){delete this.query;for(var e=this.queryString.split("&"),n={},r=0,i=e.length;r<i;++r){var o=e[r],a=o.indexOf("=");if(-1!==a){var s=t.decodeUriComponent(o.substr(0,a)),u=t.decodeUriComponent(o.substr(a+1));n[s]=u}}return this.query=n,n},r.prototype.parseRqlString=function(){return delete this.rql,this.rql=e.parse(this.queryString),this.rql},r}),define("app/core/Router",["underscore","./util","./Request"],function(e,t,n){"use strict";var r=/([:*])([\w\-]+)?/g,i=/[\-\[\]{}()+?.,\\\^$|#\s]/g;function o(e){this.broker=e,this.routes=[],this.dispatching=!1,this.dispatchQueue=[],this.currentRequest=null,this.previousUrl=null}function a(n,r){return function(i){var o=n.exec(i.path);if(null===o)return!1;var a=o.length;if(1===a)return!0;var s,u=e.isArray(r)?r.length:0;if(a===u+1)for(s=0;s<u;++s)i.params[r[s]]=t.decodeUriComponent(o[s+1]);else for(s=0;s<a;++s)i.params[s]=t.decodeUriComponent(o[s]);return!0}}return o.prototype.getCurrentRequest=function(){return this.currentRequest},o.prototype.setCurrentRequest=function(e){this.currentRequest=new n(e)},o.prototype.map=function(e){var t=Array.prototype.slice.call(arguments);t.shift(),this.routes.unshift(this.createMatcher(e),t)},o.prototype.navigate=function(t,n){this.broker.publish("router.navigate",e.assign({url:t},n))},o.prototype.replace=function(e){this.broker.publish("router.navigate",{url:e,trigger:!0,replace:!0})},o.prototype.update=function(e){this.broker.publish("router.navigate",{url:e,trigger:!1,replace:!0})},o.prototype.dispatch=function(t){if(!e.isUndefined(t))if(null===t&&(t="/"),this.dispatching)this.dispatchQueue.push(t);else{this.dispatching=!0;var r=new n(t);this.broker.publish("router.dispatching",r);var i=this.match(r);if(null===i){this.dispatching=!1;var o=this.dispatchQueue.shift();e.isUndefined(o)?this.broker.publish("router.404",{req:r}):this.dispatch(o)}else this.broker.publish("router.matched",{handlers:i,req:r}),e.defer(this.execute.bind(this,i,r))}},o.prototype.match=function(e){for(var t=this.routes,n=0,r=t.length;n<r;n+=2){if((0,t[n])(e))return t[n+1]}return null},o.prototype.execute=function(e,t){this.currentRequest=t,this.broker.publish("router.executing",{handlers:e,req:t});var n=this.previousUrl;!function r(i){i+1<e.length?e[i](t,n,r.bind(null,i+1)):e[i](t,n)}(0),this.previousUrl=t.url,this.dispatching=!1,this.dispatch(this.dispatchQueue.shift())},o.prototype.createMatcher=function(t){if(t instanceof RegExp)return a(t);if(""===(t=t.trim())||"/"===t)return function(e){return""===e.path||"/"===e.path};var n=[],o=!1,s=t.replace(i,"\\$&");return s=s.replace(r,function(t,r,i){return o=!0,e.isUndefined(i)?"*"===r?".*":t:(n.push(i),"*"===r?"(.*?)":"([^/#?;]*)")}),o?a(new RegExp("^"+s+"$"),n):function(e){return e.path===t}},o}),define("app/core/templates/error",["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){void 0!==e&&null!==e&&(__output+=e)}with(locals||{})__append('<div class="well">\n  <p>'),__append(message),__append("</p>\n  "),notify&&(__append('\n  <hr style="margin: 0 0 10px 0">\n  <p id="'),__append(idPrefix),__append('-notify"><a href="#">'),__append(t("core","ERROR:notify:message")),__append("</a></p>\n  ")),__append("\n</div>\n");return __output}}),define("app/core/pages/ErrorPage",["underscore","app/i18n","../View","app/core/templates/error","app/data/localStorage"],function(e,t,n,r,i){"use strict";return n.extend({pageId:"error",events:{"click #-notify > a":function(){var e=this,t=e.buildMail();return e.$id("notify").html('<i class="fa fa-spinner fa-spin"></i>'),e.trySendMail("/mail;send",t,function(n){n?e.trySendMail(e.senderUrl,t,e.handleMailSent.bind(e)):e.handleMailSent()}),!1},"click a[data-reload]":function(){return window.location.reload(),!1}},breadcrumbs:function(){return[t.bound("core","ERROR:"+this.resolveCode()+":title")]},initialize:function(){var e=this,i=e.resolveCode();try{e.adminEmail=atob(window.ADMIN_EMAIL),e.senderUrl=atob(window.REMOTE_MAIL_SENDER_URL),e.secretKey=atob(window.REMOTE_MAIL_SECRET_KEY),e.notify=0!==i}catch(t){e.notify=!1}e.view=new n({template:function(){var n=require("app/user");return 403!==i||n.isLoggedIn()||(i+=":guest"),r({idPrefix:e.idPrefix,message:t("core","ERROR:"+i+":message"),notify:e.notify})},afterRender:function(){403===i&&e.checkUser()}})},resolveCode:function(){var e=this.model.code;return t.has("core","ERROR:"+e+":title")?e:e>=400&&e<500?400:e>=500?500:0},trySendMail:function(e,n,r){var i=require("app/user");this.ajax({method:"POST",url:e,data:JSON.stringify({secretKey:this.secretKey,to:this.adminEmail,subject:t("core","ERROR:notify:subject",{APP_NAME:t("core","APP_NAME"),code:this.model.code,user:i.getLabel()}),html:n}),success:function(){r()},error:function(){r(!0)}})},handleMailSent:function(e){this.$id("notify").html(t("core","ERROR:notify:"+(e?"failure":"success")))},buildMail:function(){var t=require("app/user"),n=[],r=function(e){return JSON.stringify(e,null,2)},o=function(e,t){n.push("<b>"+e+"=</b><br>",'<pre style="margin-top: 0; margin-bottom: 10px">'+String(t).trim()+"</pre>")};return o("date",(new Date).toLocaleString()),o("user",'<a href="'+window.location.origin+"/#users/"+t.data._id+'">'+t.getLabel()+"</a><br>"+r(e.assign({cname:window.COMPUTERNAME},e.omit(t.data,"privilegesMap")))),o("router.currentRequest",this.model.req?this.model.req.url:"?"),o("router.referrer",this.model.previousUrl||"?"),o("router.recent",r(JSON.parse(i.getItem("WMES_RECENT_LOCATIONS")||"[]"))),o("response.code",this.model.code),o("response.body",this.model.xhr?this.model.xhr.responseText:""),o("window.location.href",window.location.href),o("window.navigator",r(e.pick(window.navigator,["language","languages","cookieEnabled","onLine","platform","userAgent"]))),o("window.screen",r(e.assign(e.pick(window.screen,["availHeight","availWidth","width","height"])),(window.innerWidth,window.innerHeight))),n.join("")},checkUser:function(){var e=require("app/user");this.ajax({url:"/users/self"}).done(function(t){t._id!==e.data._id&&window.location.reload()})}})}),define("app/router",["backbone","h5.rql/specialOperators","app/broker","app/viewport","app/time","app/core/Router","app/core/pages/ErrorPage","app/data/localStorage"],function(e,t,n,r,i,o,a,s){"use strict";e.Router.prototype._extractParameters=function(e,t){return e.exec(t).slice(1)};var u=new o(n),c=new e.Router;c.route("*catchall","catchall",function(e){u.dispatch(e)}),n.subscribe("router.navigate",function(e){var t=e.url,n=t.charAt(0);"#"!==n&&"/"!==n||(t=t.substr(1));var r=!0===e.trigger,i=!0===e.replace;c.navigate(t,{trigger:r,replace:i}),!r&&i&&u.setCurrentRequest(t)});function l(){var e=JSON.parse(s.getItem("WMES_RECENT_LOCATIONS")||"[]");e.unshift({date:new Date,href:window.location.href}),e.length>10&&e.pop(),s.setItem("WMES_RECENT_LOCATIONS",JSON.stringify(e))}return n.subscribe("router.404",function(e){var t=e.req;"/404"===t.path?r.showPage(new a({model:{code:404,req:t,previousUrl:u.previousUrl}})):u.dispatch("/404")}),n.subscribe("viewport.page.loadingFailed",function(e){r.showPage(new a({model:{code:e.xhr?e.xhr.status:0,req:u.currentRequest,previousUrl:u.previousUrl,xhr:e.xhr}}))}),l(),window.addEventListener("hashchange",l),window.router=u,u}),define("app/updater/views/RestartMessageView",["app/core/View"],function(e){"use strict";return e.extend({destroy:function(){this.el.ownerDocument.body.style.marginBottom=""},afterRender:function(){this.el.ownerDocument.body.style.marginBottom=this.$el.outerHeight()+15+"px",this.rendered?this.el.style.display="block":this.rendered=!0}})}),define("app/updater/templates/browserUpdate",["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){void 0!==e&&null!==e&&(__output+=e)}with(locals||{})__append('<div class="updater-browserUpdate">\n  <p>'),__append(t("updater","browserUpdate:message")),__append("</p>\n  <p>"),__append(t("updater","browserUpdate:"+platform+":message")),__append("</p>\n  "),"windows"===platform&&(__append('\n  <p style="text-align: center">\n    <a id="'),__append(idPrefix),__append('-downloadUrl" class="btn btn-primary btn-block btn-lg" href="/files/ChromeStandaloneSetup64.exe">\n      '),__append(t("updater","browserUpdate:windows:download")),__append("\n    </a>\n  </p>\n  ")),__append("\n  "),"android"===platform&&(__append('\n  <p style="text-align: center">\n    <a class="btn btn-primary btn-block btn-lg" href="https://play.google.com/store/apps/details?id=com.android.chrome&hl=pl">\n      '),__append(t("updater","browserUpdate:android:download")),__append("\n    </a>\n  </p>\n  ")),__append("\n  <h3>"),__append(t("updater","browserUpdate:failure:header")),__append("</h3>\n  "),__append(t("updater","browserUpdate:failure:message")),__append("\n</div>\n");return __output}}),define("app/updater/views/BrowserUpdateDialogView",["app/viewport","app/core/View","app/updater/templates/browserUpdate"],function(e,t,n){"use strict";return t.extend({template:n,dialogClassName:"updater-browserUpdate-dialog",events:{"click a":function(){e.closeDialog()}},getTemplateData:function(){var e=window.navigator.userAgent;return{platform:-1!==e.indexOf("Android")?"android":-1!==e.indexOf("Mac OS")?"mac":-1!==e.indexOf("Linux")?"linux":"windows"}},afterRender:function(){var e=this,t=e.ajax({method:"HEAD",url:"https://test.wmes.pl/ping"});t.done(function(){200===t.statusCode&&e.$id("downloadUrl").prop("href","https://dl.google.com/tag/s/appguid%3D%7B8A69D345-D564-463C-AFF1-A69D9E530F96%7D%26iid%3D%7BB7F24988-6715-F843-972C-481E05CBA4B5%7D%26lang%3Dpl%26browser%3D4%26usagestats%3D0%26appname%3DGoogle%2520Chrome%26needsadmin%3Dprefers%26ap%3Dx64-stable-statsdef_1%26installdataindex%3Dempty/update2/installers/ChromeSetup.exe")}),window.sessionStorage.setItem("WMES_BROWSER_UPDATE","1")}})}),define("app/updater/templates/addressUpdate",["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){void 0!==e&&null!==e&&(__output+=e)}with(locals||{})__append('<div class="updater-addressUpdate">\n  '),__append(t("updater","addressUpdate:message",{network:network})),__append("\n  <p>"),__append(t("updater","addressUpdate:old",{oldAddress:oldAddress})),__append("</p>\n  <p>"),__append(t("updater","addressUpdate:new",{newAddress:newAddress})),__append('</p>\n  <p style="text-align: center">\n    <button id="'),__append(idPrefix),__append('-go" class="btn btn-primary btn-block btn-lg" type="button">\n      '),__append(t("updater","addressUpdate:go")),__append("\n    </button>\n  </p>\n</div>\n");return __output}}),define("app/updater/views/AddressUpdateDialogView",["app/user","app/viewport","app/core/View","app/updater/templates/addressUpdate"],function(e,t,n,r){"use strict";return n.extend({template:r,dialogClassName:"updater-addressUpdate-dialog",events:{"click #-go":function(){e.isLoggedIn()?window.location.href="/addressUpdate/redirect?hash="+encodeURIComponent(window.location.hash||"#"):window.location.href="https://ket.wmes.pl/"+window.location.hash}},getTemplateData:function(){var t="domain";return 0===(e.data.ipAddress||window.location.hostname).indexOf("192.168")&&(t="factory"),{network:t,oldAddress:window.location.origin,newAddress:"https://ket.wmes.pl"}},afterRender:function(){window.sessionStorage.setItem("WMES_ADDRESS_UPDATE","1")}})}),define("app/updater/templates/backendRestart",["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){void 0!==e&&null!==e&&(__output+=e)}with(locals||{})__append('<div class="updater-restart updater-restart-backend">\n  <i class="fa fa-exclamation-triangle updater-restart-icon"></i><span class="updater-restart-message">'),__append(t("updater","restart:backend")),__append("</span>\n</div>\n");return __output}}),define("app/updater/templates/frontendRestart",["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){void 0!==e&&null!==e&&(__output+=e)}with(locals||{})__append('<div class="updater-restart updater-restart-frontend">\n  <i class="fa fa-exclamation-circle updater-restart-icon"></i><span class="updater-restart-message">'),__append(t("updater","restart:frontend")),__append("</span>\n</div>\n");return __output}}),function(){"use strict";var e=/(^.*(^|\/)nls(\/|$))([^\/]*)\/?([^\/]*)/;function t(e,t,n,r,i,o){t[e]&&(n.push(e),!0!==t[e]&&1!==t[e]||r.push(i+e+"/"+o))}function n(e,t,n,r,i){var o=r+t+"/"+i;require._fileExists(e.toUrl(o+".js"))&&n.push(o)}function r(e,t,n){var i;for(i in t)!t.hasOwnProperty(i)||e.hasOwnProperty(i)&&!n?"object"==typeof t[i]&&(!e[i]&&t[i]&&(e[i]={}),r(e[i],t[i],n)):e[i]=t[i]}define("i18n",["module"],function(i){var o=i.config?i.config():{};return{version:"2.0.4",load:function(i,a,s,u){(u=u||{}).locale&&(o.locale=u.locale);var c,l,d,p=e.exec(i),f=p[1],h=p[4],m=p[5],g=h.split("-"),y=[],v={},b="";if(p[5]?c=(f=p[1])+m:(c=i,m=p[4],(h=o.locale)||(h=o.locale="undefined"==typeof navigator?"root":(navigator.language||navigator.userLanguage||"root").toLowerCase()),g=h.split("-")),u.isBuild){for(y.push(c),n(a,"root",y,f,m),l=0;l<g.length;l++)d=g[l],n(a,b+=(b?"-":"")+d,y,f,m);a(y,function(){s()})}else a([c],function(e){var n,i=[];for(t("root",e,i,y,f,m),l=0;l<g.length;l++)n=g[l],t(b+=(b?"-":"")+n,e,i,y,f,m);a(y,function(){var t,n,o;for(t=i.length-1;t>-1&&i[t];t--)!0!==(n=e[o=i[t]])&&1!==n||(n=a(f+o+"/"+m)),r(v,n);s(v)})})}}})}(),define("app/nls/locale/en",[],function(){return{}.en=function(e){return 1===e?"one":"other"}}),define("app/nls/updater",["app/nls/locale/en"],function(e){var t={lc:{pl:function(t){return e(t)},en:function(t){return e(t)}},c:function(e,t){if(!e)throw new Error("MessageFormat: Data required for '"+t+"'.")},n:function(e,t,n){if(isNaN(e[t]))throw new Error("MessageFormat: '"+t+"' isn't a number.");return e[t]-(n||0)},v:function(e,n){return t.c(e,n),e[n]},p:function(e,n,r,i,o){return t.c(e,n),e[n]in o?o[e[n]]:(n=t.lc[i](e[n]-r))in o?o[n]:o.other},s:function(e,n,r){return t.c(e,n),e[n]in r?r[e[n]]:r.other}};return{root:{"restart:backend":function(e){return"Application server is being restarted! Communication with the server might not work for a short while..."},"restart:frontend":function(e){return"A new version of the application is available! <a href='javascript:window.location.reload()'>Click here to reload the browser</a>..."},"browserUpdate:title":function(e){return"Browser out of date"},"browserUpdate:failure:header":function(e){return"I can't update my browser"},"browserUpdate:failure:message":function(e){return"<ul><li>If you can't change your browser because of compatibility issues, think about installing a second browser for browsing and keep the old one for compatibility.<li>Ask your admin to update your browser if you cannot install updates yourself.</ul>"},"browserUpdate:message":function(e){return"Your web browser is out of date. In the future, the version you are using will not be supported. Update your browser for more security, speed and the best experience on this site."},"browserUpdate:windows:message":function(e){return"Click the following button to download the installation file for the latest version of your browser:"},"browserUpdate:windows:download":function(e){return"DOWNLOAD THE INSTALLATION FILE"},"browserUpdate:android:message":function(e){return"Click the following button to go to the Google Chrome app in the Google Play store:"},"browserUpdate:android:download":function(e){return"GO TO GOOGLE PLAY"},"addressUpdate:title":function(e){return"Address out of date"},"addressUpdate:message":function(e){return"<p>You are currently in the "+t.s(e,"network",{factory:"factory",other:"domain"})+" network and you are using an out of date address to the WMES.</p><p>Consider using the new, easier to remember address and update all of your shortcuts and bookmarks!</p>"},"addressUpdate:old":function(e){return"Old address: "+t.v(e,"oldAddress")},"addressUpdate:new":function(e){return"New address: <a href='"+t.v(e,"newAddress")+"'>"+t.v(e,"newAddress")+"</a>"},"addressUpdate:go":function(e){return"GO TO THE NEW ADDRESS"}},pl:!0}}),define("app/nls/locale/pl",[],function(){return{}.pl=function(e){return 1==e?"one":e%10>=2&&e%10<=4&&(e%100<12||e%100>14)&&e==Math.floor(e)?"few":e%10==0||1!=e&&e%10==1||(e%10>=5&&e%10<=9||e%100>=12&&e%100<=14)&&e==Math.floor(e)?"many":"other"}}),define("app/nls/pl/updater",["app/nls/locale/pl"],function(e){var t={lc:{pl:function(t){return e(t)},en:function(t){return e(t)}},c:function(e,t){if(!e)throw new Error("MessageFormat: Data required for '"+t+"'.")},n:function(e,t,n){if(isNaN(e[t]))throw new Error("MessageFormat: '"+t+"' isn't a number.");return e[t]-(n||0)},v:function(e,n){return t.c(e,n),e[n]},p:function(e,n,r,i,o){return t.c(e,n),e[n]in o?o[e[n]]:(n=t.lc[i](e[n]-r))in o?o[n]:o.other},s:function(e,n,r){return t.c(e,n),e[n]in r?r[e[n]]:r.other}};return{"restart:backend":function(e){return"Serwer aplikacji jest restartowany! Komunikacja z serwerem może przez chwilę nie działać..."},"restart:frontend":function(e){return"Dostępna jest nowa wersja aplikacji! <a href='javascript:window.location.reload()'>Kliknij tutaj aby przeładować przeglądarkę</a>..."},"browserUpdate:title":function(e){return"Nieaktualna przeglądarka"},"browserUpdate:failure:header":function(e){return"Nie mogę zaktualizować przeglądarki"},"browserUpdate:failure:message":function(e){return"<ul><li>Jeśli nie możesz sobie pozwolić na zmianę przeglądarki ze względu na problemy ze zgodnością, rozważ zainstalowanie drugiej przeglądarki do codziennego użytku i zachowanie starej ze względu na zgodność.<li>Poproś administratora o zaktualizowanie twojej przeglądarki, jeśli nie możesz zrobić tego samodzielnie.</ul>"},"browserUpdate:message":function(e){return"Twoja przeglądarka jest nieaktualna. W przyszłości Twoja wersja przeglądarki przestanie być wspierana. Zaktualizuj przeglądarkę, by korzystać z tej strony bezpieczniej, szybciej i po prostu sprawniej."},"browserUpdate:windows:message":function(e){return"Kliknij poniższy przycisk, aby pobrać instalator najnowszej wersji przeglądarki:"},"browserUpdate:windows:download":function(e){return"POBIERZ INSTALATOR NA DYSK"},"browserUpdate:android:message":function(e){return"Kliknij poniższy przycisk, aby przejść do aplikacji Google Chrome w sklepie Google Play:"},"browserUpdate:android:download":function(e){return"PRZEJDŹ DO GOOGLE PLAY"},"addressUpdate:title":function(e){return"Nieaktualny adres"},"addressUpdate:message":function(e){return"<p>Jesteś w sieci "+t.s(e,"network",{factory:"fabrycznej",other:"domenowej"})+" i używasz nieaktualnego adresu do systemu WMES.</p><p>Rozważ korzystanie z nowego, łatwiejszego adresu i zaktualizuj wszystkie skróty i zakładki!</p>"},"addressUpdate:old":function(e){return"Stary adres: "+t.v(e,"oldAddress")},"addressUpdate:new":function(e){return"Nowy adres: <a href='"+t.v(e,"newAddress")+"'>"+t.v(e,"newAddress")+"</a>"},"addressUpdate:go":function(e){return"PRZEJDŹ DO NOWEGO ADRESU"}}}),define("app/updater/index",["underscore","jquery","../broker","../pubsub","../socket","../viewport","../time","../i18n","../data/localStorage","./views/RestartMessageView","./views/BrowserUpdateDialogView","./views/AddressUpdateDialogView","app/updater/templates/backendRestart","app/updater/templates/frontendRestart","i18n!app/nls/updater"],function(e,t,n,r,i,o,a,s,u,c,l,d,p,f){"use strict";var h=70,m="VERSIONS",g={},y=null,v=null,b=!1,_=!1,w=!1,A=!0,S=window.BACKEND_SERVICE||"backend",T=window.FRONTEND_SERVICE||"frontend",k=window[m],R=JSON.parse(u.getItem(m)||"null");function E(){g.versions.time=Date.now(),u.setItem(m,JSON.stringify(g.versions))}function N(){_||b||(_=!0,window.addEventListener("mousemove",O),window.addEventListener("keypress",O),A&&(v&&v.cancelAnimations(!0,!0),v&&v.remove(),v=new c({template:f,type:"frontend"}),o.insertView(v).render(),v.$el.slideDown()),n.publish("updater.frontendRestarting"),window.navigator.serviceWorker&&window.navigator.serviceWorker.getRegistrations&&window.navigator.serviceWorker.getRegistrations().then(function(t){t.forEach(function(t){t.unregister().catch(e.noop)})}).catch(e.noop),O())}function O(){clearTimeout(y),y=setTimeout(C,e.random(6e4,12e4))}function C(){i.isConnected()&&(w=!0,n.publish("updater.frontendReloading"),window.location.reload())}return delete window[m],delete window.FRONTEND_SERVICE,delete window.BACKEND_SERVICE,g.versions=R&&R.time>a.appData?R:k,g.isRestarting=function(){return b||_},g.isBackendRestarting=function(){return b},g.isFrontendRestarting=function(){return _},g.isFrontendReloading=function(){return w},g.enableViews=function(){A=!0},g.disableViews=function(){A=!1},g.pull=function(e){i.emit("updater.pull",e)},g.getCurrentVersionString=function(){return g.versions.package},E(),i.on("updater.versions",function(t){var n=g.versions;g.versions=t,e.isEqual(e.omit(t,"time"),e.omit(n,"time"))||E(),t.frontend!==n.frontend&&N()}),r.subscribe("updater.newVersion",function(e){n.publish("updater.newVersion",e),e.service===S?function(){if(b)return;b=!0,A&&(null!==v&&v.remove(),v=new c({template:p,type:"backend"}),o.insertView(v).render(),v.$el.slideDown());n.subscribe("socket.connected").setLimit(1).on("message",function(){if(b=!1,v){var e=v;e.$el.slideUp(function(){v===e&&(v.remove(),v=null)}),n.publish("updater.backendRestarted")}}),n.publish("updater.backendRestarting")}():e.service===T&&N()}),n.subscribe("viewport.page.shown",function(e){!function(e){if("dashboard"!==e.pageId||-1===window.navigator.vendor.toLowerCase().indexOf("google")||"1"===window.sessionStorage.getItem("WMES_BROWSER_UPDATE"))return;var t=window.navigator.userAgent.match(/Chrome\/([0-9]+)/);if(!t)return;if(+t[1]>=h)return;o.showDialog(new l,s("updater","browserUpdate:title"))}(e),function(){if(/\.wmes\.pl$/.test(window.location.hostname)||"localhost"===window.location.hostname||"1"===window.sessionStorage.getItem("WMES_ADDRESS_UPDATE")||window.document.body.classList.contains("is-embedded"))return;t.ajax({method:"GET",url:"https://ket.wmes.pl/ping",dataType:"text"}).done(function(e){"pong"===e&&o.showDialog(new d,s("updater","addressUpdate:title"))})}()}),window.updater=g,g}),define("app/data/loadedModules",[],function(){"use strict";for(var e=window.MODULES||[],t={},n=0;n<e.length;++n)t[e[n]]=!0;return{list:e,map:t,isLoaded:function(e){return!0===t[e]}}}),define("app/core/templates/pageLayout",["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){void 0!==e&&null!==e&&(__output+=e)}with(locals||{})__append('<div class="page">\n  <div class="hd '),__append(hdHidden?"hidden":""),__append('">\n    <nav class="navbar navbar-default"></nav>\n    <div class="page-alerts"></div>\n    <div class="page-header">\n      <ul class="page-actions"></ul>\n      <ul class="page-breadcrumbs"></ul>\n    </div>\n  </div>\n  <div class="bd"></div>\n  <div class="ft">\n    <p>\n      '),__append(t("core","APP_NAME")),__append("\n      "),changelogUrl?(__append('\n      <a href="'),__append(changelogUrl),__append('">v'),__append(version),__append("</a>\n      ")):(__append("\n      v"),__append(version),__append("\n      ")),__append('\n      <br>\n      <a href="https://miracle.systems/">miracle.systems</a>\n    </p>\n  </div>\n</div>\n');return __output}}),define("app/core/layouts/PageLayout",["underscore","jquery","app/user","app/i18n","../View","app/core/templates/pageLayout"],function(e,t,n,r,i,o){"use strict";var a=i.extend({pageContainerSelector:".bd",template:o});return a.prototype.initialize=function(){this.model={id:null,className:null,actions:[],breadcrumbs:[],title:null},this.$header=null,this.$breadcrumbs=null,this.$actions=null,this.onWindowResize=e.debounce(this.onWindowResize.bind(this),1e3/15),t(window).on("resize",this.onWindowResize)},a.prototype.destroy=function(){t(window).off("resize",this.onWindowResize),this.el.ownerDocument&&this.el.ownerDocument.body.classList.remove("page"),this.$breadcrumbs=null,this.$actions=null},a.prototype.serialize=function(){return e.assign(i.prototype.serialize.call(this),{hdHidden:!!this.options.hdHidden,version:this.options.version,changelogUrl:this.options.changelogUrl})},a.prototype.afterRender=function(){this.el.ownerDocument&&this.el.ownerDocument.body.classList.add("page"),this.$header=this.$(".page-header").first(),this.$breadcrumbs=this.$(".page-breadcrumbs").first(),this.$actions=this.$(".page-actions").first(),this.changeTitle(),this.renderBreadcrumbs(),this.renderActions(),null!==this.model.id&&this.setId(this.model.id),null!==this.model.className&&this.setClassName(this.model.className)},a.prototype.reset=function(){this.setId(null),this.setClassName(null),this.model.title=null,this.$header&&(this.$header[0].style.display="none"),this.$breadcrumbs&&(this.model.breadcrumbs=[],this.$breadcrumbs.empty()),this.$actions&&(this.model.actions=[],this.$actions.empty()),this.removeView(this.pageContainerSelector)},a.prototype.setUpPage=function(e){e.pageId&&this.setId(e.pageId),e.pageClassName&&this.setClassName(e.pageClassName),e.title&&this.setTitle(e.title,e),e.breadcrumbs&&this.setBreadcrumbs(e.breadcrumbs,e),e.breadcrumbs||e.title||this.changeTitle(),e.actions&&this.setActions(e.actions,e)},a.prototype.setId=function(e){return this.isRendered()&&this.$el.attr("data-id",e),this.model.id=e,this},a.prototype.setClassName=function(e){return document.body&&(this.model.className&&document.body.classList.remove(this.model.className),this.isRendered()&&e&&document.body.classList.add(e)),this.model.className=e,this},a.prototype.setBreadcrumbs=function(e,t){return null==e?this:("function"==typeof e&&(e=e.call(t,this)),Array.isArray(e)||(e=[e]),this.model.breadcrumbs=e.map(function(e){var t=typeof e;return"string"!==t&&"function"!==t||(e={label:e,href:null}),"string"==typeof e.href&&"#"!==e.href[0]&&(e.href="#"+e.href),e}),this.$breadcrumbs&&this.renderBreadcrumbs(),this.model.page||this.changeTitle(),this)},a.prototype.setTitle=function(e,t){return null==e?this:("function"==typeof e&&(e=e.call(t,this)),Array.isArray(e)||(e=[e]),this.model.title=e,this.changeTitle(),this)},a.prototype.setActions=function(t,n){return null==t?this:("function"==typeof t&&(t=t.call(n,this)),t?(Array.isArray(t)||(t=[t]),this.model.actions=t.filter(e.isObject).map(this.prepareAction.bind(this,n)),this.$actions&&this.renderActions(),this):this)},a.prototype.onWindowResize=function(){this.adjustBreadcrumbsPosition()},a.prototype.prepareAction=function(e,t){if(t.prepared)return t;if(t.id||(t.id=""),t.idPrefix=e&&e.idPrefix||"","string"==typeof t.href){var n=t.href.charAt(0);"#"!==n&&"/"!==n&&(t.href="#"+t.href)}else t.href=null;return"string"==typeof t.icon&&(t.icon="fa-"+t.icon.split(" ").join(" fa-")),t.className||(t.className=""),t.prepared=!0,t},a.prototype.renderBreadcrumbs=function(){for(var e=this.model.breadcrumbs,t="",n=0,r=e.length;n<r;++n){var i=e[n];t+="<li>","function"==typeof i.template?t+=i.template(i,this):i.href?t+='<a href="'+i.href+'">'+i.label+"</a>":t+=i.label}this.$breadcrumbs.html(t),this.$header[0].style.display="",this.adjustBreadcrumbsPosition(),this.trigger("afterRender:breadcrumbs")},a.prototype.adjustBreadcrumbsPosition=function(){if(window.innerWidth<768){var e=(this.$(".navbar-header").outerHeight()-this.$breadcrumbs.outerHeight())/2;this.$breadcrumbs.css("top",e+"px")}},a.prototype.renderActions=function(){for(var t=this.model.actions,r={},i={},o="",a=0,s=t.length;a<s;++a){var u=t[a];if(!1!==u.visible){var c=u.privileges;if(c)if(e.isFunction(c)){if(!c(n))continue}else if(Array.isArray(c)){if(!n.isAllowedTo.apply(n,c))continue}else if(!n.isAllowedTo(c))continue;if("function"==typeof u.callback&&(r[a]=u.callback.bind(this)),"function"==typeof u.afterRender&&(i[a]=u.afterRender.bind(this)),o+='<li data-index="'+a+'">',"function"==typeof u.template)o+=u.template(u,this);else{var l="btn btn-"+(u.type||"default")+" "+e.result(u,"className");u.disabled&&(l+=" disabled");var d=e.result(u,"id");d&&"-"===d.charAt(0)&&(d=u.idPrefix+d),null===u.href?o+='<button id="'+d+'" class="'+l+'">':o+='<a id="'+d+'" class="'+l+'" href="'+u.href+'" target="'+(u.target||"_self")+'">',"string"==typeof u.icon&&(o+='<i class="fa '+u.icon+'"></i>'),u.label&&(o+="<span>"+u.label+"</span>"),o+=u.href?"</a>":"</button>"}}}this.$actions.html(o);var p=this.$actions.find("li");Object.keys(r).forEach(function(e){p.filter('li[data-index="'+e+'"]').click(t[e].callback)}),Object.keys(i).forEach(function(e){i[e](p.filter('li[data-index="'+e+'"]'),t[e])}),this.$header[0].style.display="",this.trigger("afterRender:actions")},a.prototype.changeTitle=function(){if(this.isRendered()){var t=Array.isArray(this.model.title)?[].concat(this.model.title):e.pluck(this.model.breadcrumbs,"label");this.broker.publish("page.titleChanged",t)}},a}),define("app/core/templates/blankLayout",["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){void 0!==e&&null!==e&&(__output+=e)}with(locals||{})__append('<div class="blankLayout">\n  <div class="blank-page-bd"></div>\n</div>\n');return __output}}),define("app/core/layouts/BlankLayout",["underscore","jquery","app/user","../View","app/core/templates/blankLayout"],function(e,t,n,r,i){"use strict";var o=r.extend({pageContainerSelector:".blank-page-bd",template:i});return o.prototype.initialize=function(){this.model={title:null,breadcrumbs:[]}},o.prototype.afterRender=function(){this.changeTitle()},o.prototype.reset=function(){this.removeView(this.pageContainerSelector)},o.prototype.setUpPage=function(e){e.title&&this.setTitle(e.title,e),e.breadcrumbs&&this.setBreadcrumbs(e.breadcrumbs,e),e.breadcrumbs||e.title||this.changeTitle()},o.prototype.setTitle=function(e,t){return null==e?this:("function"==typeof e&&(e=e.call(t,this)),Array.isArray(e)||(e=[e]),this.model.title=e,this.changeTitle(),this)},o.prototype.setBreadcrumbs=function(e,t){return null==e?this:("function"==typeof e&&(e=e.call(t)),Array.isArray(e)||(e=[e]),this.model.breadcrumbs=e.map(function(e){var t=typeof e;return"string"!==t&&"function"!==t||(e={label:e}),e}),this.model.title||this.changeTitle(),this)},o.prototype.changeTitle=function(){if(this.isRendered()){var t=Array.isArray(this.model.title)?[].concat(this.model.title):e.pluck(this.model.breadcrumbs,"label");this.broker.publish("page.titleChanged",t)}},o}),define("app/core/util/bindLoadingMessage",["app/i18n","app/viewport"],function(e,t){"use strict";return function(n,r,i,o){return r.listenTo(n,"request",function(n,r,a){"read"===a.syncMethod&&(!1!==a.showLoadingMessage&&t.msg.loading(),r.done(function(e){!1!==e.showLoadingMessage&&t.msg.loaded()}.bind(null,a)),r.fail(function(n,r){var a=r.statusText;if("abort"===a)return void(!1!==n.showLoadingMessage&&t.msg.loaded());var s=r.responseJSON;s&&s.error&&(s.error.code?a=s.error.code:s.error.message&&(a=s.error.message));!1!==n.showLoadingMessage&&t.msg.loadingFailed(e(o||"core",i||"MSG:LOADING_FAILURE",{code:a}))}.bind(null,a)))}),n}}),define("app/core/util/html2pdf",["underscore","jquery","app/i18n","app/broker","app/viewport"],function(e,t,n,r,i){"use strict";return function(o,a,s){"string"==typeof a&&(s=a,a=null),a=e.assign({format:"A4",orientation:"portrait"},a);var u=i.msg.show({type:"info",text:'<i class="fa fa-spinner fa-spin"></i><span>'+n("core","html2pdf:progress")+"</span>"}),c=t.ajax({method:"POST",url:"/html2pdf?format="+a.format+"&orientation="+a.orientation,contentType:"text/plain",data:o});c.done(function(o){"string"==typeof s&&/^[a-f0-9]{24}$/.test(s)?function(e,o,a){i.msg.hide(e),e=i.msg.show({type:"info",text:'<i class="fa fa-spinner fa-spin"></i><span>'+n("core","html2pdf:printing")+"</span>"});var s=t.ajax({method:"POST",url:"/html2pdf;print",data:JSON.stringify({hash:a,printer:o})});s.done(function(){i.msg.hide(e,!0),i.msg.show({type:"success",time:2e3,text:n("core","html2pdf:printing:success")})}),s.fail(function(){i.msg.hide(e,!0),i.msg.show({type:"error",time:2500,text:n("core","html2pdf:printing:failure")})}),s.always(function(){r.publish("html2pdf.completed")})}(u,s,o.hash):function(t,o,a){var s=Math.min(window.screen.availWidth-200,1400),u=e.assign({top:80,width:s,height:Math.min(window.screen.availHeight-160,800),left:window.screen.availWidth-s-80},e.pick(o,["top","left","width","height"])),c=[];Object.keys(u).forEach(function(e){c.push(e+"="+u[e])});var l="/html2pdf/"+a;o.filename&&(l+="/"+o.filename);l+=".pdf";var d=window.open(l,"_blank",c.join(","));d?(i.msg.hide(t),d.focus()):(i.msg.hide(t,!0),i.msg.show({type:"error",time:3e3,text:n("core","MSG:POPUP_BLOCKED")}));r.publish("html2pdf.completed")}(u,a,o.hash)}),c.fail(function(){i.msg.hide(u,!0),i.msg.show({type:"error",time:2500,text:n("core","html2pdf:failure")})})}}),define("app/core/templates/actionForm",["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){void 0!==e&&null!==e&&(__output+=e)}with(locals||{})__append('<form class="action-form" method="post" action="'),__append(formAction),__append('">\n  <input type="hidden" name="_method" value="'),__append(formMethod),__append('">\n  <p>'),__append("function"==typeof messageText?messageText():messageText),__append('</p>\n  <div class="form-actions">\n    <button type="submit" class="btn btn-'),__append(formActionSeverity),__append('">'),__append("function"==typeof formActionText?formActionText():formActionText),__append("</button>\n    "),"#"===cancelUrl?(__append('\n    <button type="button" class="cancel btn btn-link">'),__append(t("core","ACTION_FORM:BUTTON:cancel")),__append("</button>\n    ")):(__append('\n    <a class="cancel" href="'),__append(cancelUrl),__append('">'),__append(t("core","ACTION_FORM:BUTTON:cancel")),__append("</a>\n    ")),__append("\n  </div>\n</form>\n");return __output}}),define("app/core/views/ActionFormView",["underscore","app/i18n","app/viewport","app/router","../View","app/core/templates/actionForm"],function(e,t,n,r,i,o){"use strict";function a(e,n,r){return t.bound(t.has(e.nlsDomain,n)?e.nlsDomain:"core",n,r||{})}var s={formMethod:"POST",formAction:"/",formActionText:t.bound("core","ACTION_FORM:BUTTON"),formActionSeverity:"primary",messageText:t.bound("core","ACTION_FORM:MESSAGE"),successUrl:null,cancelUrl:"#",failureText:t.bound("core","ACTION_FORM:MESSAGE_FAILURE"),requestData:null},u=i.extend({template:o,events:{submit:"submitForm"},$errorMessage:null,initialize:function(){e.defaults(this.options,s),this.$errorMessage=null},destroy:function(){this.hideErrorMessage()},serialize:function(){return{formMethod:this.options.formMethod,formAction:this.options.formAction,formActionText:this.options.formActionText,formActionSeverity:this.options.formActionSeverity,messageText:this.options.messageText,cancelUrl:this.options.cancelUrl,model:this.model}},afterRender:function(){this.model&&this.listenToOnce(this.model,"change",this.render)},submitForm:function(){this.hideErrorMessage();var r=this.$('[type="submit"]').attr("disabled",!0),i=this.options,o=i.requestData;o=null==o?void 0:e.isFunction(o)?o.call(this):JSON.stringify(o);var a=this.ajax({type:i.formMethod,url:i.formAction,data:o}),s=this;return a.done(function(t){s.trigger("success",t),e.isString(i.successUrl)&&s.broker.publish("router.navigate",{url:i.successUrl,trigger:!0,replace:!0})}),a.fail(function(e){s.trigger("failure",e);var r=e.responseJSON&&e.responseJSON.error&&e.responseJSON.error.code||"?",o="ACTION_FORM:"+i.actionKey+":"+r,a=t.has(s.options.nlsDomain,o)?t(s.options.nlsDomain,o):i.failureText;a&&(s.$errorMessage=n.msg.show({type:"error",time:3e3,text:a}))}),a.always(function(){r.attr("disabled",!1)}),!1},hideErrorMessage:function(){null!==this.$errorMessage&&(n.msg.hide(this.$errorMessage),this.$errorMessage=null)}},{showDialog:function(t){var r=null;if(t.nlsDomain||(t.nlsDomain=t.model.getNlsDomain()),t.nlsDomain){r=a(t,"ACTION_FORM:DIALOG_TITLE:"+t.actionKey);var i=t.labelAttribute?t.model.get(t.labelAttribute):t.model.getLabel();t.messageText||(t.messageText=i?a(t,"ACTION_FORM:MESSAGE_SPECIFIC:"+t.actionKey,{label:i}):a(t,"ACTION_FORM:MESSAGE:"+t.actionKey)),t.formActionText||(t.formActionText=a(t,"ACTION_FORM:BUTTON:"+t.actionKey)),t.failureText||(t.failureText=a(t,"ACTION_FORM:MESSAGE_FAILURE:"+t.actionKey))}!t.formAction&&e.isFunction(t.model.url)&&(t.formAction=t.model.url()),e.isObject(t.requestData)||(t.requestData={}),e.isString(t.requestData.action)||(t.requestData.action=t.actionKey);var o=new u(t);return o.on("success",function(){n.closeDialog()}),n.showDialog(o,r),o},showDeleteDialog:function(e){return e.actionKey="delete",e.formMethod="DELETE",e.formActionSeverity="danger",u.showDialog(e)}});return u}),define("app/core/templates/jumpAction",["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){void 0!==e&&null!==e&&(__output+=e)}with(locals||{})__append('<form class="page-actions-jump" title="'),__append(title),__append('">\n  <div class="input-group">\n    <input name="phrase" type="text" autocomplete="new-password" class="form-control" placeholder="'),__append(placeholder),__append('" required '),__append(autoFocus?"autofocus":""),__append(' pattern="'),__append(pattern),__append('">\n    <span class="input-group-btn">\n      <button class="btn btn-default" type="submit"><i class="fa fa-search"></i></button>\n    </span>\n  </div>\n</form>\n');return __output}}),define("app/core/templates/exportAction",["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){void 0!==e&&null!==e&&(__output+=e)}with(locals||{})1===formats.length?(__append('\n<a class="page-actions-export btn btn-'),__append(type),__append(" "),__append(disabled?"disabled":""),__append('" href="'),__append(escapeFn(formats[0].href)),__append('"><i class="fa fa-download"></i><span>'),__append(label),__append("</span></a>\n")):(__append('\n<div class="page-actions-export btn-group">\n  <button type="button" class="btn btn-'),__append(type),__append(' dropdown-toggle" data-toggle="dropdown" '),__append(disabled?"disabled":""),__append('>\n    <i class="fa fa-download"></i><span>'),__append(label),__append('</span> <span class="caret"></span>\n  </button>\n  <ul class="dropdown-menu dropdown-menu-right">\n    '),_.forEach(formats,function(e){__append('\n    <li><a data-export-type="'),__append(e.type),__append('" href="'),__append(escapeFn(e.href)),__append('">'),__append(t("core","PAGE_ACTION:export:"+e.type)),__append("</a></li>\n    ")}),__append("\n  </ul>\n</div>\n")),__append("\n");return __output}}),define("app/core/util/pageActions",["underscore","jquery","app/i18n","app/viewport","../views/ActionFormView","app/core/templates/jumpAction","app/core/templates/exportAction"],function(e,t,n,r,i,o,a){"use strict";function s(e,t,n,r){if(!1===n)return null;var i=t.model||t.constructor,o=i.can&&(i.can[e]||i.can.manage);return o?o.bind(i,t,e):n||t.getPrivilegePrefix()+":"+(r||"MANAGE")}function u(e){var i=r.msg.show({type:"warning",text:n("core","MSG:EXPORTING"),sticky:!0}),o=t.ajax({url:e});return o.fail(function(){r.msg.show({type:"error",time:2500,text:n("core","MSG:EXPORTING_FAILURE")})}),o.done(function(e){window.open("/express/exports/"+e)}),o.always(function(){r.msg.hide(i)}),o}function c(e,t,r){var i=e.getNlsDomain();return n.bound(n.has(i,t)?i:"core",t,r)}return{add:function(e,t){return{label:c(e,"PAGE_ACTION:add"),icon:"plus",href:e.genClientUrl("add"),privileges:s("add",e,t)}},edit:function(e,t){return{label:c(e,"PAGE_ACTION:edit"),icon:"edit",href:e.genClientUrl("edit"),privileges:s("edit",e,t)}},delete:function(t,n,r){return r||(r={}),{label:c(t,"PAGE_ACTION:delete"),icon:"times",href:t.genClientUrl("delete"),privileges:s("delete",t,n),callback:function(n){n&&0!==n.button||(n&&n.preventDefault(),i.showDeleteDialog(e.defaults({model:t},r)))}}},export:function(t,n,r,i){var o={layout:t,page:n,collection:r,privilege:i,maxCount:6e4};1===arguments.length&&e.assign(o,t);var l=function(){var t,n=(t=o.collection).paginationData?t.paginationData.get("totalCount"):t.length,r=e.result(o.collection,"url")+";export.${format}?"+o.collection.rqlQuery,i=[{type:"csv",href:r.replace("${format}","csv")}];return window.XLSX_EXPORT&&n<o.maxCount/2&&i.push({type:"xlsx",href:r.replace("${format}","xlsx")}),a({type:n>=o.maxCount/2?"danger":n>=o.maxCount/4?"warning":"default",formats:i,disabled:n>=o.maxCount||0===n,label:o.label||c(o.collection,"PAGE_ACTION:export")})};return o.page.listenTo(o.collection,"sync",function(){o.layout.$(".page-actions-export").replaceWith(l()),d(o.layout.$(".page-actions-export"))}),{template:l,privileges:s("view",o.collection,o.privilege,"VIEW"),callback:o.callback,afterRender:d};function d(e){!function(e){var t=e.find(".page-actions-export");t.hasClass("btn-group")&&(t=t.find('a[data-export-type="csv"]'));if(!t.length)return;var n=t.prop("href");t.prop("href","javascript:void(0)"),t.on("click",function(e){e.preventDefault(),window.open(n)})}(e),function(e){var t=e.find('a[data-export-type="xlsx"]');if(!t.length)return;var n=t.prop("href");t.prop("href","javascript:void(0)"),t.on("click",function(e){e.preventDefault(),u(n)})}(e)}},exportXlsx:u,jump:function(t,n,i){return i=e.assign({mode:"rid",pattern:"^ *[0-9]+ *$",autoFocus:!window.IS_MOBILE},i),{template:function(){return o({title:i.title||c(n,"PAGE_ACTION:jump:title"),placeholder:i.placeholder||c(n,"PAGE_ACTION:jump:placeholder"),autoFocus:i.autoFocus,pattern:i.pattern})},afterRender:function(o){var a=o.find("form");a.submit(function(t,n,i,o){var a=i[0].phrase;if(a.readOnly)return!1;var s=a.value;a.readOnly=!0;var u=i.find(".fa").removeClass("fa-search").addClass("fa-spinner fa-spin"),l=t.ajax("rid"===o.mode?{url:e.result(n,"url")+";rid",data:{rid:s}}:{method:"HEAD",url:e.result(n,"url")+"/"+s});return l.done(function(e){t.broker.publish("router.navigate",{url:n.genClientUrl()+"/"+(e||s),trigger:!0})}),l.fail(function(){r.msg.show({type:"error",time:2e3,text:c(n,"MSG:jump:404",{rid:s})}),u.removeClass("fa-spinner fa-spin").addClass("fa-search"),a.readOnly=!1,a.select()}),!1}.bind(null,t,n,a,i))}}}}}),define("app/data/clipboard",["underscore","jquery"],function(e,t){"use strict";var n=null;return t(document).on("copy",function(e){null!==n&&(e.preventDefault(),n(e.originalEvent.clipboardData),n=null)}),{copy:function(e){n=e,document.execCommand("copy")},showTooltip:function(t,n,r,i,o){var a,s=t.$(n),u=s.data("bs.tooltip.id");if(!r&&!i){var c=n.getBoundingClientRect();r=c.left,i=c.top+c.height}u&&(clearTimeout(t.timers[u]),(a=s.data("bs.tooltip"))&&(a.$tip.removeClass("fade"),s.tooltip("destroy").removeData("bs.tooltip.id"))),u=e.uniqueId("tooltip"),s.tooltip(e.assign({container:t.el,trigger:"manual",placement:"bottom"},o)),(a=s.tooltip("show").data("bs.tooltip"))?(a.tip().addClass("result success").css({left:r+"px",top:i+"px"}),s.data("bs.tooltip.id",u),t.timers[u]=setTimeout(function(){s.tooltip("destroy").removeData("bs.tooltip.id")},1337)):s.tooltip("destroy").removeData("bs.tooltip.id")}}}),define("app/production/templates/vkb",["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){void 0!==e&&null!==e&&(__output+=e)}with(locals||{})__append('<div class="production-vkb hidden '),__append(mode.alpha?"is-alpha":""),__append(" "),__append(mode.numeric?"is-numeric":""),__append(" "),__append(mode.multiline?"is-multiline":""),__append(" "),__append(mode.extended?"is-extended":""),__append(" "),__append(extended?"is-vkb-extended":""),__append('">\n  '),mode.alpha?(__append("\n  "),mode.extended&&(__append('\n  <div class="production-vkb-row">\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="`" data-extended-key="~">`</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="[" data-extended-key="{">[</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="]" data-extended-key="}">]</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="\\" data-extended-key="|">\\</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key=";" data-extended-key=":">;</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="\'" data-extended-key="&quot;">\'</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="," data-extended-key="<">,</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="." data-extended-key=">">.</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="/" data-extended-key="?">/</button>\n    <button class="btn btn-default '),__append(extended?"active":""),__append('" type="button" tabindex="-1" data-key="EXTENDED">Shift</button>\n  </div>\n  ')),__append("\n  "),mode.numeric&&__append('\n  <div class="production-vkb-row">\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="1" data-extended-key="!">1</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="2" data-extended-key="@">2</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="3" data-extended-key="#">3</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="4" data-extended-key="$">4</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="5" data-extended-key="%">5</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="6" data-extended-key="^">6</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="7" data-extended-key="&">7</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="8" data-extended-key="*">8</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="9" data-extended-key="(">9</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="0" data-extended-key=")">0</button>\n  </div>\n  '),__append('\n  <div class="production-vkb-row">\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="Q" data-extended-key="q">Q</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="W" data-extended-key="w">W</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="E" data-extended-key="e">E</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="R" data-extended-key="r">R</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="T" data-extended-key="t">T</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="Y" data-extended-key="y">Y</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="U" data-extended-key="u">U</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="I" data-extended-key="i">I</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="O" data-extended-key="o">O</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="P" data-extended-key="p">P</button>\n  </div>\n  <div class="production-vkb-row">\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="A" data-extended-key="a">A</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="S" data-extended-key="s">S</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="D" data-extended-key="d">D</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="F" data-extended-key="f">F</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="G" data-extended-key="g">G</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="H" data-extended-key="h">H</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="J" data-extended-key="j">J</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="K" data-extended-key="k">K</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="L" data-extended-key="l">L</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="BACKSPACE" data-extended-key="="></button>\n  </div>\n  <div class="production-vkb-row">\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="Z" data-extended-key="z">Z</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="X" data-extended-key="x">X</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="C" data-extended-key="c">C</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="V" data-extended-key="v">V</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="B" data-extended-key="b">B</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="N" data-extended-key="n">N</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="M" data-extended-key="m">M</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="LEFT" data-extended-key="-">&lt</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="RIGHT" data-extended-key="_">&gt</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="CLEAR" data-extended-key="+"></button>\n  </div>\n  '),mode.multiline&&__append('\n  <div class="production-vkb-row">\n    <button class="btn btn-default" type="button" tabindex="-1" data-key=",">,</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key=".">.</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="?">?</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="(">(</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key=")">)</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key=":">:</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="&quot;">&quot;</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="SPACE">____</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="ENTER"><i class="fa fa-level-down fa-rotate-90"></i></button>\n  </div>\n  '),__append("\n  ")):mode.numeric&&(__append('\n  <div class="production-vkb-row">\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="1">1</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="2">2</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="3">3</button>\n  </div>\n  <div class="production-vkb-row">\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="4">4</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="5">5</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="6">6</button>\n  </div>\n  <div class="production-vkb-row">\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="7">7</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="8">8</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="9">9</button>\n  </div>\n  <div class="production-vkb-row">\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="LEFT">&lt;</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="0">0</button>\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="RIGHT">&gt;</button>\n  </div>\n  <div class="production-vkb-row">\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="BACKSPACE"><i class="fa fa-long-arrow-left"></i></button>\n    '),mode.negative?__append('\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="-">-</button>\n    '):__append('\n    <button class="btn btn-default" type="button" tabindex="-1" disabled>&nbsp;</button>\n    '),__append('\n    <button class="btn btn-default" type="button" tabindex="-1" data-key="CLEAR"><i class="fa fa-eraser"></i></button>\n  </div>\n  ')),__append("\n</div>\n");return __output}}),define("app/production/views/VkbView",["underscore","jquery","app/core/View","app/production/templates/vkb"],function(e,t,n,r){"use strict";var i={BACKSPACE:'<i class="fa fa-long-arrow-left"></i>',LEFT:"<",RIGHT:">",CLEAR:'<i class="fa fa-eraser"></i>'};return n.extend({template:r,events:{"focus .btn[data-key]":function(e){this.trigger("keyFocused",e.currentTarget.dataset.key)},"click .btn[data-key]":function(e){var t=e.currentTarget.dataset.key,n=e.currentTarget.dataset.extendedKey;this.pressKey(n&&this.extended&&this.mode.extended?n:t)}},initialize:function(){this.fieldEl=null,this.onValueChange=null,this.extended=!1,this.mode={alpha:!1,numeric:!0,negative:!1,multiline:!1,extended:!1},t(window).on("resize."+this.idPrefix,e.debounce(this.reposition.bind(this),30))},destroy:function(){t(window).off("."+this.idPrefix),this.fieldEl=null,this.onValueChange=null},getTemplateData:function(){return{mode:this.mode,extended:this.extended}},reposition:function(){if(this.fieldEl){var e={top:"",right:"",bottom:"",left:""},n={marginLeft:""},r=this.$el,i=t(".modal-dialog");r.css(e),i.css(n);var o=i.offset(),a=i.outerWidth(),s=i.outerHeight(),u=r.offset(),c=r.outerWidth(),l=o.top+s+30>u.top,d=o.left+a+30>u.left;l&&this.mode.numeric&&!this.mode.alpha?(e.top=this.fieldEl.getBoundingClientRect().top+"px",e.left=o.left+a+30,e.bottom="auto",e.right="auto"):l&&d&&this.mode.alpha&&window.innerWidth>800&&(n.marginLeft=Math.max(30,window.innerWidth-30-c-30-a)+"px"),r.toggleClass("is-repositioned",l).css(e),i.css(n)}},show:function(e,n){var r=this;return(r.fieldEl!==e||r.onValueChange!==n)&&(Object.keys(this.mode).forEach(function(e){r.mode[e]=!1}),(e.dataset.vkb||"").split(" ").forEach(function(e){r.mode[e]=!0}),r.render(),r.$el.removeClass("is-repositioned hidden"),t(".is-vkb-focused").removeClass("is-vkb-focused"),e.classList.add("is-vkb-focused"),r.fieldEl=e,r.onValueChange=n,r.updateExtended(),r.reposition(),!0)},hide:function(){t(".modal-dialog").css("margin-left",""),this.$el.addClass("hidden"),this.fieldEl&&this.fieldEl.classList.remove("is-vkb-focused"),this.fieldEl=null,this.onValueChange=null},isVisible:function(){return!this.$el.hasClass("hidden")},enableKeys:function(){this.$(".btn[data-key][disabled]").each(function(){this.disabled=!1})},disableKeys:function(e){this.$(".btn[data-key]").each(function(){1===this.dataset.key.length&&(this.disabled=!0!==e[this.dataset.key])})},pressKey:function(e){var t=this.fieldEl;if(t){if("EXTENDED"===e)return this.toggleExtended();var n=t.value,r=t.selectionStart,i=t.selectionEnd;"ENTER"===e?e="\n":"SPACE"===e&&(e=" "),"CLEAR"===e?(r=0,n=""):"BACKSPACE"===e?(r-=1,n=n.substring(0,r)+n.substring(i)):"LEFT"===e?r-=1:"RIGHT"===e?r+=1:(!t.maxLength||-1===t.maxLength||n.length<t.maxLength)&&(n=n.substring(0,r)+e+n.substring(i),r+=1);var o=t.value!==n;t.value=n,t.focus(),t.setSelectionRange(r,r),o&&this.onValueChange&&this.onValueChange(t)}},toggleExtended:function(){this.extended=!this.extended,this.updateExtended()},updateExtended:function(){var e=this.mode.extended&&this.extended;this.$el.toggleClass("is-vkb-extended",e),this.$('.btn[data-key="EXTENDED"]').toggleClass("active",e),this.$(".btn[data-extended-key]").each(function(){var t=this.dataset[e?"extendedKey":"key"];this.innerHTML=i[t]||t})}})}),define("app/orders/templates/commentPopover",["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){void 0!==e&&null!==e&&(__output+=e)}with(locals||{})__append('<form class="orders-commentPopover">\n  <textarea class="form-control"></textarea>\n  <button type="submit" class="btn btn-primary"><i class="fa fa-comment"></i></button>\n</form>\n');return __output}}),define("require-css/normalize",[],function(){var e=/([^:])\/+/g,t=function(t){return t.replace(e,"$1/")},n=/[^\:\/]*:\/\/([^\/])*/,r=/^(\/|data:)/;function o(e){return t(e).split("/").reduce(function(e,t,n){return 0===e.length||".."!==t?e.push(t):e.pop(),e},[]).join("/")}function a(e,t,i){if(t=o(t),i=o(i),e.match(r)||e.match(n))return e;e=o(e);var a=i.match(n),c=t.match(n);return!c||a&&a[1]==c[1]&&a[2]==c[2]?u(s(e,t),i):s(e,t)}function s(e,t){if("./"==e.substr(0,2)&&(e=e.substr(2)),e.match(r)||e.match(n))return e;var i=t.split("/"),o=e.split("/");for(i.pop();curPart=o.shift();)".."==curPart?i.pop():i.push(curPart);return i.join("/")}function u(e,t){var n=t.split("/");for(n.pop(),t=n.join("/")+"/",i=0;t.substr(i,1)==e.substr(i,1);)i++;for(;"/"!=t.substr(i,1);)i--;t=t.substr(i+1),e=e.substr(i+1),n=t.split("/");var r=e.split("/");for(out="";n.shift();)out+="../";for(;curPart=r.shift();)out+=curPart+"/";return out.substr(0,out.length-1)}var c=function(e,t,n){for(var r,i,o=/@import\s*((?:"([^"]*)")|(?:'([^']*)'))|url\s*\(\s*(\s*(?:"([^"]*)")|(?:'([^']*)')|[^\)]*\s*)\s*\)/gi;r=o.exec(e);){var s;s=a(i=r[3]||r[2]||r[5]||r[6]||r[4],t,n);var u=r[5]||r[6]?1:0;e=e.substr(0,o.lastIndex-i.length-u-1)+s+e.substr(o.lastIndex-u-1),o.lastIndex=o.lastIndex+(s.length-i.length)}return e};return c.convertURIBase=a,c.absoluteURI=s,c.relativeURI=u,c}),define("css",[],function(){if("undefined"==typeof window)return{load:function(e,t,n){n()}};var e=document.getElementsByTagName("head")[0],t=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)|AndroidWebKit\/([^ ;]*)/)||0,n=!1,r=!0;t[1]||t[7]?n=parseInt(t[1])<6||parseInt(t[7])<=9:t[2]||t[8]||"WebkitAppearance"in document.documentElement.style?r=!1:t[4]&&(n=parseInt(t[4])<18);var i,o,a={};a.pluginBuilder="require-css/css-builder";var s,u=function(){i=document.createElement("style"),e.appendChild(i),o=i.styleSheet||i.sheet},c=0,l=[],d=function(e){o.addImport(e),i.onload=function(){p()},31==++c&&(u(),c=0)},p=function(){s();var e=l.shift();e?(s=e[1],d(e[0])):s=null};return a.normalize=function(e,t){return".css"==e.substr(e.length-4,4)&&(e=e.substr(0,e.length-4)),t(e)},a.load=function(t,a,c,p){(n?function(e,t){if(o&&o.addImport||u(),o&&o.addImport)s?l.push([e,t]):(d(e),s=t);else{i.textContent='@import "'+e+'";';var n=setInterval(function(){try{i.sheet.cssRules,clearInterval(n),t()}catch(e){}},10)}}:function(t,n){var i=document.createElement("link");if(i.type="text/css",i.rel="stylesheet",r)i.onload=function(){i.onload=function(){},setTimeout(n,7)};else var o=setInterval(function(){for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].href==i.href)return clearInterval(o),n()},10);i.href=t,e.appendChild(i)})(a.toUrl(t+".css"),c)},a}),define("app/orders/util/commentPopover",["underscore","jquery","app/i18n","app/broker","app/viewport","app/orders/templates/commentPopover","css!app/orders/assets/commentPopover.css"],function(e,t,n,r,i,o){"use strict";return{isVisible:function(e){return!!e.$commentPopover},hide:function(e,n){var i=e.$commentPopover;if(i){t(document.body).click(),r.publish("orders.commentPopover.hiding",{$menu:i});var o=i.data("options");t(window).off(".commentPopover."+e.idPrefix),t(document.body).off(".commentPopover."+e.idPrefix),i.data("backdrop").remove(),i.removeData("backdrop"),i.removeData("options"),!1===o.animate||!1===n?i.remove():i.fadeOut("fast",function(){i.remove()}),e.$commentPopover=null,r.publish("orders.commentPopover.hidden")}},show:function(e,n,a,s,u){u||(u={});var c=this.hide.bind(this,e);c(!1);var l=t(o({className:u.className||"",top:a}));l.on("mousedown",function(e){if(1!==e.which)return!1;e.stopPropagation()}),l.on("mouseup",function(e){if(1!==e.which)return!1}),l.on("contextmenu",!1),l.on("submit",function(){var t=l.find(".form-control").val().trim();if(!t.length)return c(),!1;if(!t.replace(/[^0-9a-zA-Z]+/g,"").length)return l.find(".form-control").val("").focus(),!1;i.msg.saving();var r=l.find(".btn-primary").prop("disabled",!0),o=e.ajax({method:"POST",url:"/orders/"+n,data:JSON.stringify({comment:t,source:u.source||"other"})});return o.fail(function(){i.msg.savingFailed(),r.prop("disabled",!1)}),o.done(function(){i.msg.saved(),c()}),!1}),l.find(".btn-link").on("click",c),l.find(".form-control").on("keyup",function(e){if(e.ctrlKey&&"Enter"===e.key)return l.find(".btn-primary").click(),!1});var d=t('<div class="planning-menu-backdrop"></div>').one("mousedown",c);l.data("backdrop",d),l.data("options",u),t(window).on("keydown.commentPopover."+e.idPrefix,function(e){if("Escape"===e.key)return c(),!1}),t(document.body).one("mousedown.commentPopover."+e.idPrefix,function(e){u.hideFilter&&!u.hideFilter(e)||c()}).append(d).append(l),e.$commentPopover=l,this.position(e,a,s),!1!==u.autoFocus&&l.find("textarea").focus(),r.publish("orders.commentPopover.shown",{$menu:l})},position:function(t,n,r){if(t.$commentPopover){var i=t.$commentPopover,o=i.outerWidth(),a=i.outerHeight();r+o>=document.body.clientWidth&&(r-=r+o-document.body.clientWidth+5);var s=window.innerHeight+window.pageYOffset;n+a>=s&&(n-=n+a-s+5),i.css({top:n+"px",left:r+"px"}),e.assign(i.data("options"),{top:n,left:r})}}}}),define("app/planning/templates/contextMenu",["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){void 0!==e&&null!==e&&(__output+=e)}with(locals||{})__append('<ul class="dropdown-menu planning-menu '),__append(className),__append('" style="top: '),__append(top),__append('px; left: -1000px">\n  '),menu.forEach(function(e,t){__append("\n  "),"header"===e.type?(__append('\n  <li class="dropdown-header">'),__append(e.label),__append("</li>\n  ")):"divider"===e.type?__append('\n  <li class="divider"></li>\n  '):(__append('\n  <li data-action="'),__append(t),__append('">\n    '),e.template?(__append("\n    "),__append(e.template({i:t,item:e})),__append("\n    ")):(__append('\n    <a data-action="'),__append(t),__append('" class="'),__append(e.disabled?"planning-menu-disabled":""),__append('" '),__append(e.disabled?"":'tabindex="100000"'),__append(">\n      "),icons?(__append('\n      <i class="fa '),__append(e.icon||"fa-blank"),__append('"></i><span>'),__append(e.label),__append("</span>\n      ")):(__append("\n      "),__append(e.label),__append("\n      ")),__append("\n    </a>\n    ")),__append("\n  </li>\n  ")),__append("\n  ")}),__append("\n</ul>\n");return __output}}),define("app/nls/planning",["app/nls/locale/en"],function(e){var t={lc:{pl:function(t){return e(t)},en:function(t){return e(t)}},c:function(e,t){if(!e)throw new Error("MessageFormat: Data required for '"+t+"'.")},n:function(e,t,n){if(isNaN(e[t]))throw new Error("MessageFormat: '"+t+"' isn't a number.");return e[t]-(n||0)},v:function(e,n){return t.c(e,n),e[n]},p:function(e,n,r,i,o){return t.c(e,n),e[n]in o?o[e[n]]:(n=t.lc[i](e[n]-r))in o?o[n]:o.other},s:function(e,n,r){return t.c(e,n),e[n]in r?r[e[n]]:r.other}};return{root:{"BREADCRUMB:base":function(e){return"Daily plans"},"BREADCRUMB:wh":function(e){return"WH (old)"},"BREADCRUMB:settings":function(e){return"Settings"},"BREADCRUMB:changes":function(e){return"Change history"},"MSG:LOADING_FAILURE:plan":function(e){return"Failed to load the plan."},"MSG:LOADING_FAILURE:settings":function(e){return"Failed to load the plan settings."},"MSG:LOADING_FAILURE:sapOrders":function(e){return"Failed to load the SAP orders."},"MSG:LOADING_FAILURE:shifts":function(e){return"Failed to load the production shifts."},"MSG:LOADING_FAILURE:lateOrders":function(e){return"Failed to load the late orders."},"MSG:LOADING_FAILURE:shiftOrders":function(e){return"Failed to load the production shift orders."},"MSG:LOADING_FAILURE:delayReasons":function(e){return"Failed to load the delay reasons."},"MSG:LOADING_FAILURE:productionState":function(e){return"Failed to load the production state."},"MSG:GENERATING":function(e){return"<i class='fa fa-spinner fa-spin'></i><span>Generating the plan...</span>"},"MSG:export:started":function(e){return"Exporting..."},"MSG:export:failure":function(e){return"Exporting failed."},"PAGE_ACTION:hourlyPlans":function(e){return"Hourly plans"},"PAGE_ACTION:dailyPlan":function(e){return"Daily plan"},"PAGE_ACTION:paintShop":function(e){return"Paint shop"},"PAGE_ACTION:wh":function(e){return"WH"},"PAGE_ACTION:wh:old":function(e){return"Old module"},"PAGE_ACTION:wh:new":function(e){return"New module"},"PAGE_ACTION:wh:problems":function(e){return"Problem list"},"PAGE_ACTION:legend":function(e){return"Legend"},"PAGE_ACTION:changes":function(e){return"Change history"},"PAGE_ACTION:settings":function(e){return"Settings"},"PAGE_ACTION:settings:copy":function(e){return"Copy line settings"},"PAGE_ACTION:toggleChanges:expand":function(e){return"Expand"},"PAGE_ACTION:toggleChanges:collapse":function(e){return"Collapse"},"filter:date":function(e){return"Plan date"},"filter:mrps":function(e){return"All MRP"},"filter:mrps:1":function(e){return"Selected MRP"},"filter:mrps:0":function(e){return"Ignored MRP"},"filter:mrps:mine":function(e){return"Mine"},"filter:mrps:wh":function(e){return"WH"},"filter:mrps:placeholder":function(e){return"All"},"filter:lines":function(e){return"Production lines"},"filter:lines:placeholder":function(e){return"All lines"},"filter:whStatuses":function(e){return"Stage"},"filter:psStatuses":function(e){return"Paint-shop status"},"filter:wrapLists":function(e){return"List wrapping"},"filter:lineOrdersList":function(e){return"<u>O</u>rder list"},"filter:useLatestOrderData":function(e){return"Latest order data"},"filter:useDarkerTheme":function(e){return"High contrast"},"filter:copyOrderList":function(e){return"Copy order list"},"filter:export":function(e){return"Export..."},"filter:export:stats":function(e){return"...stats"},"filter:export:transport":function(e){return"...transport plan"},"filter:stats:quantity":function(e){return"Quantity:"},"filter:stats:manHours":function(e){return"Man-hours:"},"filter:stats:orders":function(e){return"Orders:"},"filter:stats:tooltip:todo":function(e){return"Total of all orders\nin selected MRPs"},"filter:stats:tooltip:late":function(e){return"Total of all\nlate orders\nin selected MRPs"},"filter:stats:tooltip:plan":function(e){return"Total of all\nplanned orders\nin selected MRPs"},"filter:stats:tooltip:remaining":function(e){return"Total of remaining\nin selected MRPs"},"filter:stats:todo":function(e){return"Todo"},"filter:stats:late":function(e){return"Late"},"filter:stats:plan":function(e){return"Plan"},"filter:stats:remaining":function(e){return"Remaining"},"filter:stats:execution":function(e){return"Sequence execution"},"filter:startTime":function(e){return"Start"},"toolbar:printPlan":function(e){return"Print line plan"},"toolbar:printPlan:all":function(e){return"All lines"},"toolbar:showTimes":function(e){return"Show times"},"toolbar:copyOrderList":function(e){return"Copy list of planned orders\nto clipboard"},"toolbar:copyOrderList:0":function(e){return"All shifts"},"toolbar:copyOrderList:1":function(e){return"I shift"},"toolbar:copyOrderList:2":function(e){return"II shift"},"toolbar:copyOrderList:3":function(e){return"III shift"},"toolbar:copyOrderList:success":function(e){return"List copied to clipboard."},"toolbar:toggleLock:true":function(e){return"Unlock MRP"},"toolbar:toggleLock:false":function(e){return"Lock MRP"},"toolbar:stats:quantity":function(e){return"Quantity:"},"toolbar:stats:manHours":function(e){return"Man-hours:"},"toolbar:stats:orders":function(e){return"Orders:"},"toolbar:stats:tooltip:todo":function(e){return"Total of all orders\nin MRP"},"toolbar:stats:tooltip:late":function(e){return"Total of all\nlate orders\nin MRP"},"toolbar:stats:tooltip:plan":function(e){return"Total of all\nplanned orders\nin MRP"},"toolbar:stats:tooltip:remaining":function(e){return"Total of remaining\nin MRP"},"toolbar:stats:tooltip:execution:percent":function(e){return"Percent of execution\nof the planned sequence\nin the whole day"},"toolbar:stats:tooltip:execution:percent:shift":function(e){return"Percent of execution\nof the planned sequence\non shift "+t.v(e,"shiftNo")},"print:workerCount":function(e){return t.v(e,"count")+" "+t.p(e,"count",0,"en",{one:"person",other:"people"})},"print:workerCounts":function(e){return t.v(e,"from")+"-"+t.v(e,"to")+" "+t.p(e,"to",0,"en",{one:"person",other:"people"})},"list:generate":function(e){return"Force<br>plan<br>creation"},"list:mrpCount":function(e){return t.v(e,"str")+" "+t.p(e,"num",0,"en",{one:"family",other:"families"})},"list:lineCount":function(e){return t.v(e,"str")+" "+t.p(e,"num",0,"en",{one:"line",other:"lines"})},"list:orderCount":function(e){return t.v(e,"str")+" "+t.p(e,"num",0,"en",{one:"order",other:"orders"})},"list:quantity":function(e){return t.v(e,"str")+" pce"},"list:manHours":function(e){return t.v(e,"str")+" mh"},"list:from":function(e){return"from "+t.v(e,"time")},"list:to":function(e){return"to "+t.v(e,"time")},empty:function(e){return"No plan for the specified filters."},locked:function(e){return"MRP is locked!"},"toggleLock:title:true":function(e){return"MRP unlocking"},"toggleLock:title:false":function(e){return"MRP locking"},"toggleLock:message:true":function(e){return"<p>Are you sure you want to unlock MRP <em>"+t.v(e,"mrp")+"</em>?</p><p>Unlocking will resume the plan recalculation for that MRP and might change the plan for Warehouse.</p>"},"toggleLock:message:false":function(e){return"<p>Are you sure you want to lock MRP <em>"+t.v(e,"mrp")+"</em>?</p><p>Locking will disable any changes to that MRP and will stop plan recalculation of all lines in the MRP.</p>"},"toggleLock:message:warning":function(e){return"Orders with the specified MRP were already picked up by the warehouse."},"toggleLock:yes:true":function(e){return"Unlock MRP"},"toggleLock:yes:false":function(e){return"Lock MRP"},"toggleLock:no:true":function(e){return"Leave locked"},"toggleLock:no:false":function(e){return"Leave unlocked"},"lines:hd":function(e){return"Lines"},"lines:division":function(e){return"Division"},"lines:prodFlow":function(e){return"Prod. flow"},"lines:prodLine":function(e){return"Line"},"lines:activeFrom":function(e){return"Active from"},"lines:activeTo":function(e){return"Active to"},"lines:activeTime":function(e){return"Activity time"},"lines:workerCount":function(e){return"Worker count"},"lines:orderPriority":function(e){return"Order priority"},"lines:frozenOrders":function(e){return"Frozen orders"},"lines:redirLine":function(e){return"Line redirection"},"lines:wh:pickup:started":function(e){return"Picking"},"lines:wh:pickup:finished":function(e){return"Picked"},"lines:wh:components":function(e){return"Available"},"lines:wh:sets":function(e){return"sets"},"lines:wh:qty":function(e){return"pce"},"lines:wh:time":function(e){return"time"},"lines:mrpPriority":function(e){return"MRP priority"},"lines:menu:header":function(e){return"Line "+t.v(e,"line")},"lines:menu:settings":function(e){return"Change line settings"},"lines:menu:remove":function(e){return"Remove line from MRP"},"lines:menu:remove:title":function(e){return"Removing line from MRP"},"lines:menu:remove:message":function(e){return"<p>Are you sure you want to remove line <em>"+t.v(e,"line")+"</em> from MRP<em>"+t.v(e,"mrp")+"</em>?</p><p>Change will affect only the plan for "+t.v(e,"plan")+".</p>"},"lines:menu:remove:yes":function(e){return"Remove line"},"lines:menu:remove:failure":function(e){return"Failed to remove line from MRP."},"lines:menu:settings:title":function(e){return"Changing line settings"},"lines:menu:settings:submit":function(e){return"Save settings"},"lines:menu:settings:line":function(e){return"Production line"},"lines:menu:settings:applyToAllMrps":function(e){return"Set the same <em>Worker count</em> and <em>Order priority</em> for line "+t.v(e,"line")+" in all assigned MRPs, and not only for "+t.v(e,"mrp")+"."},"lines:menu:settings:failure":function(e){return"Failed to change line settings."},"lines:menu:mrpPriority":function(e){return"Change available lines"},"lines:menu:mrpPriority:title":function(e){return"Changing available lines"},"lines:menu:mrpPriority:submit":function(e){return"Save MRP priorities"},"lines:menu:mrpPriority:failure":function(e){return"Failed to change available lines."},"lines:menu:mrpPriority:line":function(e){return"New line"},"lines:menu:mrpPriority:line:placeholder":function(e){return"Select a production line..."},"lines:menu:workerCount":function(e){return"Change worker count"},"lines:menu:workerCount:title":function(e){return"Changing worker count"},"lines:menu:workerCount:submit":function(e){return"Save worker count"},"lines:menu:workerCount:failure":function(e){return"Failed to change the worker count."},"lines:menu:orderPriority":function(e){return"Change order priority"},"lines:menu:orderPriority:title":function(e){return"Changing order priority"},"lines:menu:orderPriority:submit":function(e){return"Save order priority"},"lines:menu:orderPriority:failure":function(e){return"Failed to save the order priority."},"lines:menu:freezeOrders":function(e){return"Freeze orders"},"lines:menu:freezeOrders:title":function(e){return"Freezing orders"},"lines:menu:freezeOrders:line":function(e){return"Lines"},"lines:menu:freezeOrders:availableOrders":function(e){return"Available orders"},"lines:menu:freezeOrders:frozenOrders":function(e){return"Frozen orders"},"lines:menu:freezeOrders:no":function(e){return"#"},"lines:menu:freezeOrders:order":function(e){return"Order"},"lines:menu:freezeOrders:quantity":function(e){return"Quantity"},"lines:menu:freezeOrders:actions":function(e){return"Actions"},"lines:menu:freezeOrders:submit":function(e){return"Freeze orders"},"lines:menu:freezeOrders:failure":function(e){return"Failed to freeze orders."},"lines:menu:freezeOrders:shift:1":function(e){return"I shift"},"lines:menu:freezeOrders:shift:2":function(e){return"I and II shifts"},"lines:menu:freezeOrders:shift:3":function(e){return"all shifts"},"lines:menu:redirLine:start":function(e){return"Redirect line"},"lines:menu:redirLine:stop":function(e){return"Stop redirection"},"lines:menu:deliveredOrders":function(e){return"Open delivered orders"},"orders:hd":function(e){return"Orders"},"orders:_id":function(e){return"Order no"},"orders:date":function(e){return"Date"},"orders:delayReason":function(e){return"Reason"},"orders:kind":function(e){return"Kind"},"orders:quantityDone":function(e){return"Quantity done"},"orders:quantityTodo":function(e){return"Quantity todo"},"orders:quantityPlan":function(e){return"Quantity to plan"},"orders:incomplete":function(e){return"Incomplete quantity"},"orders:hardComponent":function(e){return"Difficult component"},"orders:nc12":function(e){return"12NC"},"orders:name":function(e){return"Name"},"orders:operation":function(e){return"Operation"},"orders:machineTime":function(e){return"Machine Time"},"orders:laborTime":function(e){return"Labor Time"},"orders:manHours":function(e){return"Man-hours"},"orders:qty":function(e){return"Quantity"},"orders:mrp":function(e){return"MRP"},"orders:statuses":function(e){return"Status"},"orders:ignored":function(e){return"Ignored"},"orders:urgent":function(e){return"Urgent"},"orders:pinned":function(e){return"Pinned"},"orders:eto":function(e){return"ETO"},"orders:priority":function(e){return t.s(e,"priority",{E:"ETO Pilot",E:"ETO Pilot continuation",other:"Order priority"})},"orders:lines":function(e){return"Line"},"orders:source:plan":function(e){return"Planned"},"orders:source:added":function(e){return"Added"},"orders:source:incomplete":function(e){return"Incomplete"},"orders:source:late":function(e){return"Late"},"orders:psStatus:unknown":function(e){return"Not painted"},"orders:psStatus:new":function(e){return"Painting pending"},"orders:psStatus:started":function(e){return"Painting started"},"orders:psStatus:partial":function(e){return"Painted partially"},"orders:psStatus:finished":function(e){return"Painting finished"},"orders:psStatus:aside":function(e){return"Set aside"},"orders:psStatus:cancelled":function(e){return"Painting cancelled"},"orders:whStatus:unknown":function(e){return"Unspecified"},"orders:whStatus:todo":function(e){return"Todo"},"orders:whStatus:done":function(e){return"Done"},"orders:dropZone":function(e){return t.v(e,"group")+" on "+t.v(e,"time")},"orders:qty:incomplete":function(e){return"("+t.v(e,"qty")+" incomplete)"},"orders:late":function(e){return"Late"},"orders:customQuantity":function(e){return"Changed quantity"},"orders:comment":function(e){return"Last comment"},"orders:menu:header":function(e){return"Order "+t.v(e,"order")},"orders:menu:sapOrder":function(e){return"Open SAP order details"},"orders:menu:shiftOrder":function(e){return"Open line order details"},"orders:menu:comment":function(e){return"Comment order"},"orders:menu:urgent":function(e){return"Mark order as urgent"},"orders:menu:urgent:title":function(e){return"Urgent order"},"orders:menu:urgent:message":function(e){return"<p>Are you sure you want to mark the order <em>"+t.v(e,"order")+"</em> as <strong>urgent</strong>?</p><p>Urgent orders are planned at the beginning of the plan, ignoring the order priority.</p>"},"orders:menu:urgent:yes":function(e){return"Mark as urgent"},"orders:menu:urgent:failure":function(e){return"Failed to mark the order as urgent."},"orders:menu:unurgent":function(e){return"Mark as not urgent"},"orders:menu:unurgent:message":function(e){return"<p>Are you sure you want to mark the order <em>"+t.v(e,"order")+"</em> as <strong>not urgent</strong>?</p><p>Not urgent orders are planned according to the order priority.</p>"},"orders:menu:unurgent:yes":function(e){return"Mark as not urgent"},"orders:menu:ignore":function(e){return"Ignore order"},"orders:menu:ignore:title":function(e){return"Ignoring order"},"orders:menu:ignore:message":function(e){return"<p>Are you sure you want to ignore order <em>"+t.v(e,"order")+"</em>?</p><p>Ignored orders are not taken into consideration during planning.</p>"},"orders:menu:ignore:yes":function(e){return"Ignore order"},"orders:menu:ignore:failure":function(e){return"Failed to ignore order."},"orders:menu:unignore":function(e){return"Stop ignoring order"},"orders:menu:unignore:message":function(e){return"<p>Are you sure you want to stop ignoring order <em>"+t.v(e,"order")+"</em>?</p><p>Order will return to the planning queue.</p>"},"orders:menu:unignore:yes":function(e){return"Stop ignoring order"},"orders:menu:quantity":function(e){return"Change order quantity"},"orders:menu:quantity:title":function(e){return"Changing order quantity"},"orders:menu:quantity:quantityTodo":function(e){return"Quantity todo:"},"orders:menu:quantity:quantityDone":function(e){return"Quantity done:"},"orders:menu:quantity:quantityRemaining":function(e){return"Quantity remaining:"},"orders:menu:quantity:quantityPlan":function(e){return"Quantity to plan:"},"orders:menu:quantity:help":function(e){return"Be default, <em>Quantity to plan</em> is equal to <em>Quantity todo</em> or <em>Quantity remaining</em>, if the <em>Plan according to the remaining quantity</em> setting is enabled. This value can be overwritten here."},"orders:menu:quantity:submit":function(e){return"Save quantity to plan"},"orders:menu:quantity:failure":function(e){return"Failed to change the quantity"},"orders:menu:lines":function(e){return"Change pin to line"},"orders:menu:lines:title":function(e){return"Changing pin to line"},"orders:menu:lines:submit":function(e){return"Save pin to line"},"orders:menu:lines:failure":function(e){return"Failed to pin to line."},"orders:menu:lines:urgent":function(e){return"Urgent"},"orders:menu:lines:urgent:help":function(e){return"Urgent order can be pinned to any line ignoring the Order priority."},"orders:menu:add":function(e){return"Add order"},"orders:menu:remove":function(e){return"Remove order"},"orders:menu:remove:title":function(e){return"Removing order"},"orders:menu:remove:message":function(e){return"<p>Are you sure you want to remove the order <em>"+t.v(e,"order")+"</em> from the queue of the current plan?</p>"},"orders:menu:remove:yes":function(e){return"Remove order"},"orders:menu:remove:failure":function(e){return"Failed to remove order."},"orders:menu:dropZone":function(e){return"Set drop zone"},"orders:menu:dropZone:title":function(e){return"Setting drop zone"},"orders:menu:dropZone:submit":function(e){return"Set drop zone"},"orders:menu:dropZone:failure":function(e){return"Failed to set the drop zone."},"orders:menu:dropZone:dropZone":function(e){return"Drop zone group"},"orders:menu:dropZone:time":function(e){return"Time"},"orders:menu:dropZone:status":function(e){return"Status"},"orders:menu:dropZone:orders":function(e){return"Orders to change"},"orders:menu:dropZone:comment":function(e){return"Optional WH comment"},"orders:add":function(e){return"Add order"},"orders:add:title":function(e){return"Adding order"},"orders:add:submit":function(e){return"Add order"},"orders:add:failure":function(e){return"Failed to add order."},"orders:add:invalidOrderNo":function(e){return"Enter a valid, 9-digit order number."},"orders:add:searching":function(e){return"<i class='fa fa-spinner fa-spin'></i><span>Looking for order...</span>"},"orders:add:searchFailed":function(e){return"<i class='fa fa-spinner'></i><span>Failed searching for order.</span>"},"orders:add:ORDER_NOT_FOUND":function(e){return"Order doesn't exist."},"orders:add:alreadyExists":function(e){return"Order already exists in the current plan."},"orders:add:future":function(e){return"Order is planned for the future."},"orders:add:undefinedMrp":function(e){return"Order MRP is not defined in the current plan."},"orders:add:requiredStatus":function(e){return"Order doesn't have the required statuses."},"orders:add:ignoredStatus":function(e){return"Order has ignored statuses."},"orders:add:orderNo":function(e){return"Order no"},"orders:add:urgent":function(e){return"Urgent"},"orders:add:plans":function(e){return"Planned on"},"lateOrders:hd":function(e){return"Late"},"lateOrders:action":function(e){return"Add late orders"},"lateOrders:add:title":function(e){return"Adding late orders"},"lateOrders:add:failure":function(e){return"Failed to add late orders."},"lateOrders:add:orders":function(e){return"Late orders:"},"lateOrders:add:submit":function(e){return"Add late orders"},"lineOrders:orderNo":function(e){return"Order no"},"lineOrders:unit":function(e){return"PCE"},"lineOrders:qty:planned":function(e){return"Quantity planned"},"lineOrders:qty:done":function(e){return"Quantity done"},"lineOrders:qty:remaining":function(e){return"Quantity remaining"},"lineOrders:qty:total":function(e){return"Total quantity"},"lineOrders:qty:incomplete":function(e){return"Incomplete quantity"},"lineOrders:pceTime":function(e){return"PCE time"},"lineOrders:manHours":function(e){return"Man-hours"},"lineOrders:time":function(e){return"Start-end time"},"lineOrders:duration":function(e){return"Duration"},"lineOrders:incomplete":function(e){return"("+t.v(e,"qty")+" incomplete)"},"lineOrders:downtimeReason":function(e){return"Downtime reason"},"lineOrders:comment":function(e){return"Last comment"},"lineOrders:list:group":function(e){return"Gr."},"lineOrders:list:no":function(e){return"No"},"lineOrders:list:shift":function(e){return"Sh."},"lineOrders:list:mrp":function(e){return"MRP"},"lineOrders:list:orderNo":function(e){return"Order"},"lineOrders:list:nc12":function(e){return"12NC"},"lineOrders:list:name":function(e){return"Product name"},"lineOrders:list:qtyPlan":function(e){return"Quantity planned"},"lineOrders:list:qtyTodo":function(e){return"Quantity todo"},"lineOrders:list:qty:header":function(e){return"Quantity"},"lineOrders:list:qty:value":function(e){return t.v(e,"plan")+" of "+t.v(e,"todo")},"lineOrders:list:startTime":function(e){return"Start"},"lineOrders:list:finishTime":function(e){return"Finish"},"lineOrders:list:status":function(e){return"Status"},"lineOrders:list:lines":function(e){return"Lines"},"lineOrders:list:line":function(e){return"Line"},"lineOrders:list:dropZone":function(e){return"Drop zone"},"lineOrders:list:whStatus":function(e){return"Stage"},"lineOrders:list:comment":function(e){return"Last comment"},"lineOrders:menu:copy":function(e){return"Copy order list"},"lineOrders:menu:copy:success":function(e){return"Order list copied to clipboard."},"wh:menu:copy:lineGroup":function(e){return"Copy order list <em>"+t.v(e,"group")+". "+t.v(e,"line")+"</em>"},"wh:menu:copy:lineGroupNo":function(e){return"Copy order numbers <em>"+t.v(e,"group")+". "+t.v(e,"line")+"</em>"},"wh:menu:export":function(e){return"Export orders"},"wh:status:all":function(e){return"All"},"wh:status:0":function(e){return"Unspecified"},"wh:status:1":function(e){return"List"},"wh:status:2":function(e){return"Buffer"},"wh:status:3":function(e){return t.p(e,"qtySent",0,"en",{0:"Distribution",other:"Sent "+t.v(e,"qtySent")+" szt."})},"wh:sent:comment":function(e){return"Sent "+t.v(e,"qtySent")+" PCE to line "+t.v(e,"line")+" "+t.v(e,"date")+" at "+t.v(e,"time")+"."},"wh:sent:label":function(e){return"Quantity<br>Sent:"},"wh:export:fileName":function(e){return"WMES_PLAN_WH_"+t.v(e,"date")},"wh:export:sheetName":function(e){return"WH plan "+t.v(e,"date")},"stats:export:title":function(e){return"Exporting stats"},"stats:export:mrps":function(e){return"MRP"},"stats:export:lines":function(e){return"Lines"},"stats:export:submit":function(e){return"Export stats"},"stats:export:fileName":function(e){return"WMES_Plan_Execution_"+t.v(e,"from")+"_"+t.v(e,"to")},"stats:export:sheetName":function(e){return"Plan exec. "+t.v(e,"from")+"-"+t.v(e,"to")},"stats:date":function(e){return"Date"},"stats:mrp":function(e){return"MRP"},"stats:line":function(e){return"Line"},"stats:orderCount":function(e){return"Order count"},"stats:quantity":function(e){return"Quantity"},"stats:manHours":function(e){return"Man-hours"},"stats:hourlyPlan":function(e){return"Hourly plan"},"transport:export:title":function(e){return"Exporting transport plan"},"transport:export:mrps":function(e){return"MRP"},"transport:export:lines":function(e){return"Lines"},"transport:export:submit":function(e){return"Export transport plan"},"transport:export:fileName":function(e){return"WMES_Plan_Transport"},"transport:export:sheetName":function(e){return"Plan trans. "+t.v(e,"from")+"-"+t.v(e,"to")},"transport:date":function(e){return"Date"},"transport:time":function(e){return"Time"},"transport:shiftNo":function(e){return"Shift"},"transport:line":function(e){return"Line"},"transport:mrp":function(e){return"MRP"},"transport:orderNo":function(e){return"Production order"},"transport:salesOrderNo":function(e){return"Sales order"},"transport:salesOrderItem":function(e){return"Sales order item"},"transport:quantity":function(e){return"Quantity"},"orderStatus:planned":function(e){return"Planned"},"orderStatus:unplanned":function(e){return"Not planned"},"orderStatus:incomplete":function(e){return"Incomplete"},"orderStatus:started":function(e){return"Started"},"orderStatus:completed":function(e){return"Completed"},"orderStatus:surplus":function(e){return"Surplus"},"orderPriority:unclassified":function(e){return"Unclassified"},"orderPriority:small":function(e){return"Small"},"orderPriority:easy":function(e){return"Easy"},"orderPriority:hard":function(e){return"Difficult"},"settings:title":function(e){return"Plan settings edit form"},"settings:msg:success":function(e){return"Settings saved successfully."},"settings:msg:failure":function(e){return"Failed to save the settings!"},"settings:submit":function(e){return"Save settings"},"settings:forceWorkDay":function(e){return"Force work day"},"settings:forceWorkDay:help":function(e){return"Treat this date as a working day (plan will be generated even if there are no orders for the specified date)."},"settings:freezeHour":function(e){return"Order freeze hour"},"settings:freezeHour:help":function(e){return"Hour after which the planned orders will be automatically frozen. Orders are frozen after the first SAP order import up to 30 minutes before the specified hour (if the import occurs), or after the first plan recalculation after the specified hour. For example, given a plan for 2018-01-12 with Freeze hour set to 23, the orders will be frozen 2018-01-11 at 22:45, if at 22:45 SAP orders will be imported or after the first manual plan change after hour 23:00."},"settings:lateHour":function(e){return"Late order start hour"},"settings:lateHour:help":function(e){return"Hour from which the manually added, urgent orders (late) can be planned."},"settings:etoPilotHour":function(e){return"ETO pilot start hour"},"settings:etoPilotHour:help":function(e){return"Hour from which orders with the <em>E</em> priority (ETO pilot) can be planned."},"settings:schedulingRate":function(e){return"Scheduling rate"},"settings:schedulingRate:help":function(e){return"Coefficient that changes the time required to do a single PCE: <code>OrderLaborTime / 100 / LineWorkerCount * 3600 * SchedulingRate</code>"},"settings:requiredStatuses":function(e){return"Required statuses"},"settings:requiredStatuses:help":function(e){return"List of all statuses that an order must have to be taken into consideration during planning."},"settings:ignoredStatuses":function(e){return"Ignored statuses"},"settings:ignoredStatuses:help":function(e){return"List of statuses that an order must not have to be taken into consideration during planning."},"settings:completedStatuses":function(e){return"Completed order statuses"},"settings:completedStatuses:help":function(e){return"List of ignored statuses that determine whether an order is completed. Order with these statuses will remain in the plan, but won't be planned on lines."},"settings:ignoredWorkCenters":function(e){return"Ignored WorkCenters"},"settings:ignoredWorkCenters:help":function(e){return"List of WorkCenters that the chosen order's operation must not have to be taken into consideration during planning."},"settings:ignoreCompleted":function(e){return"Ignore completed orders"},"settings:ignoreCompleted:help":function(e){return"Orders with <em>Total quantity done</em> greater or equal to <em>Total quantity todo</em> will not be taken into consideration during planning."},"settings:useRemainingQuantity":function(e){return"Plan according to the remaining quantity"},"settings:useRemainingQuantity:help":function(e){return"Use the order's <em>Remaining quantity</em> instead of <em>Total quantity todo</em>. Remaining quantity is equal to <em>Total quantity todo</em> minus <em>Total quantity done</em>."},"settings:hardComponents":function(e){return"Difficult components"},"settings:hardComponents:help":function(e){return"An order will be classified as <em>Difficult</em> if it contains one of the following components. Quantity and man-hours don't matter."},"settings:hardBigComponents:help":function(e){return"A <em>Big</em> order will be classified as <em>Difficult</em> if it contains one of the following components."},"settings:line":function(e){return"Line settings"},"settings:line:placeholder":function(e){return"Production line..."},"settings:mrpPriority":function(e){return"MRP priority"},"settings:mrpPriority:help":function(e){return"List of order MRPs that can be done on this line. Order matters."},"settings:mrpPriority:placeholder":function(e){return"MRP controllers..."},"settings:activeTime":function(e){return"Activity time"},"settings:activeTime:help":function(e){return"Time of line availability on a given day. The value applies to all assigned MRP controllers."},"settings:mrp":function(e){return"MRP controller settings"},"settings:mrp:help":function(e){return"Select an MRP controller for which you want to define settings"},"settings:mrp:placeholder":function(e){return"MRP controller..."},"settings:limitSmallOrders":function(e){return"Limit small orders"},"settings:limitSmallOrders:help":function(e){return"During the first planning pass, the number of small orders that can be placed on a single line is limited by the number of lines that accept small orders. For example, MRP has 30 small orders and 5 lines that accept small orders. If the option is disabled, the first line will be completely filled with small orders. If the option is enabled, then each line will have 30/5=6 small orders."},"settings:extraOrderSeconds":function(e){return"Extra order duration"},"settings:extraOrderSeconds:help":function(e){return"Number of seconds added to each planned order except the one stared at the beginning of the production shift."},"settings:extraShiftSeconds":function(e){return"Time to start the shift"},"settings:extraShiftSeconds:1":function(e){return"Time to start the I shift"},"settings:extraShiftSeconds:2":function(e){return"Time to start the II shift"},"settings:extraShiftSeconds:3":function(e){return"Time to start the III shift"},"settings:extraShiftSeconds:help":function(e){return"Number of seconds added to the first order at the beginning of the production shift."},"settings:bigOrderQuantity":function(e){return"Big order"},"settings:bigOrderQuantity:help":function(e){return"Minimum quantity todo, after which the order is classified as <em>Big</em>. Big orders can be <em>Easy</em> or <em>Difficult</em>."},"settings:hardOrderManHours":function(e){return"Difficult order"},"settings:hardOrderManHours:help":function(e){return"Minimum number of man-hours, after which a <em>Big</em> order is classified as <em>Difficult</em>."},"settings:splitOrderQuantity":function(e){return"Order split quantity"},"settings:splitOrderQuantity:help":function(e){return"Minimum quantity todo, after which a <em>Big</em> order is split into multiple parts."},"settings:maxSplitLineCount":function(e){return"Order parts"},"settings:maxSplitLineCount:help":function(e){return"Maximum number of lines for which a <em>Big</em> order can be split. Zero - maximum available number of lines."},"settings:mrpLine":function(e){return"Line in MRP settings"},"settings:mrpLine:help":function(e){return"Select a line for which you want to define settings in the context of the selected MRP controller."},"settings:mrpLine:placeholder":function(e){return"Production line..."},"settings:workerCount":function(e){return"Worker count"},"settings:workerCount:shift":function(e){return"shift "+t.v(e,"shiftNo")+":"},"settings:orderPriority":function(e){return"Order priority"},"settings:orderPriority:help":function(e){return"Order of production orders based on their classification: small, easy, difficult. Easy and difficult orders are also big."},"settings:groups":function(e){return"Groups"},"settings:groups:no":function(e){return"No"},"settings:groups:splitOrderQuantity":function(e){return"Split quantity"},"settings:groups:lines":function(e){return"Lines"},"settings:groups:components":function(e){return"Components"},"settings:groups:add":function(e){return"Add group"},"settings:groups:remove":function(e){return"Remove group"},"settings:locked":function(e){return"Locked"},"settings:tab:wh":function(e){return"Warehouse"},"settings:wh:groupDuration":function(e){return"Order group duration [h]"},"settings:wh:groupExtraItems":function(e){return"Minimum quantity in group"},"settings:wh:groupExtraItems:help":function(e){return"If quantity of an order in the first/last group of a given line is lower or equal to the specified value, then that group will be merged with the next/previous group."},"settings:wh:sortByLines":function(e){return"Sort orders in groups by line"},"settings:wh:ignoredMrps":function(e){return"Ignored MRP (in the old module)"},"settings:wh:newIncludedMrps":function(e){return"Disabled MRP"},"changes:hd":function(e){return"<span class='planning-change-when'>"+t.v(e,"when")+"</span> by <span class='planning-change-who'>"+t.v(e,"who")+"</span>: <span class='planning-change-what'>"+t.v(e,"what")+"</span>"},"changes:what:settings":function(e){return t.v(e,"count")+" setting "+t.p(e,"count",0,"en",{one:"change",other:"changes"})},"changes:what:addedOrders":function(e){return t.v(e,"count")+" added "+t.p(e,"count",0,"en",{one:"order",other:"orders"})},"changes:what:changedOrders":function(e){return t.v(e,"count")+" changed "+t.p(e,"count",0,"en",{one:"order",other:"orders"})},"changes:what:removedOrders":function(e){return t.v(e,"count")+" deleted "+t.p(e,"count",0,"en",{one:"order",other:"orders"})},"changes:what:changedLines":function(e){return t.v(e,"count")+" changed "+t.p(e,"count",0,"en",{one:"line plan",other:"line plans"})},"changes:removedOrders:REQUIRED_STATUS":function(e){return"No required status: "+t.v(e,"requiredStatus")+"."},"changes:removedOrders:IGNORED_STATUS":function(e){return"Ignored status: "+t.v(e,"ignoredStatus")+"."},"changes:removedOrders:MISSING_ORDER":function(e){return"Missing SAP order for the given day."},"changes:removedOrders:INCOMPLETE_DONE":function(e){return"Incomplete order from the previous day was completed."},"changes:settings:lines:remove":function(e){return"Removed line <em>"+t.v(e,"line")+"</em>"},"changes:settings:mrps:remove":function(e){return"Removed MRP <em>"+t.v(e,"mrp")+"</em>"},"changes:settings:mrpLines:remove":function(e){return"Removed line <em>"+t.v(e,"line")+"</em> from MRP <em>"+t.v(e,"mrp")+"</em>"},"changes:settings:lines:change":function(e){return"Changed line <em>"+t.v(e,"line")+"</em>: <em>"+t.v(e,"property")+"</em>: "},"changes:settings:mrps:change":function(e){return"Changed MRP <em>"+t.v(e,"mrp")+"</em>: <em>"+t.v(e,"property")+"</em>: "},"changes:settings:mrpLines:change":function(e){return"Changed line <em>"+t.v(e,"line")+"</em> in MRP <em>"+t.v(e,"mrp")+"</em>: <em>"+t.v(e,"property")+"</em>: "},"changes:settings:lines:add":function(e){return"Added line <em>"+t.v(e,"line")+"</em>"},"changes:settings:mrps:add":function(e){return"Added MRP <em>"+t.v(e,"mrp")+"</em>"},"changes:settings:mrpLines:add":function(e){return"Added line <em>"+t.v(e,"line")+"</em> to MRP <em>"+t.v(e,"mrp")+"</em>"},"copySettings:title":function(e){return"Copying line settings"},"copySettings:submit":function(e){return"Copy settings"},"copySettings:source":function(e){return"Source plan"},"copySettings:target":function(e){return"Target plans"},"copySettings:target:all":function(e){return"All"},"copySettings:target:empty":function(e){return"No target plans."},"copySettings:mrps:all":function(e){return"All"},"copySettings:mrps:in":function(e){return"All selected MRPs"},"copySettings:mrps:nin":function(e){return"All but the selected MRPs"},"copySettings:mrps:empty":function(e){return"No MRPs to copy are selected."},"copySettings:what":function(e){return"Copy"},"copySettings:what:empty":function(e){return"No settings to copy are selected."},"copySettings:what:workerCount":function(e){return"Worker counts"},"copySettings:what:activeTime":function(e){return"Activity times"},"copySettings:what:orderPriority":function(e){return"Order priorities"},"copySettings:failure:fetchSettings":function(e){return"Failed to fetch settings for "+t.v(e,"plan")+"."},"lockReason:mrp":function(e){return"MRP "+t.v(e,"mrp")+" is locked directly."},"lockReason:line":function(e){return"Line "+t.v(e,"line")+" is assigned to a locked MRP: "+t.v(e,"mrps")}},pl:!0}}),define("app/nls/pl/planning",["app/nls/locale/pl"],function(e){var t={lc:{pl:function(t){return e(t)},en:function(t){return e(t)}},c:function(e,t){if(!e)throw new Error("MessageFormat: Data required for '"+t+"'.")},n:function(e,t,n){if(isNaN(e[t]))throw new Error("MessageFormat: '"+t+"' isn't a number.");return e[t]-(n||0)},v:function(e,n){return t.c(e,n),e[n]},p:function(e,n,r,i,o){return t.c(e,n),e[n]in o?o[e[n]]:(n=t.lc[i](e[n]-r))in o?o[n]:o.other},s:function(e,n,r){return t.c(e,n),e[n]in r?r[e[n]]:r.other}};return{"BREADCRUMB:base":function(e){return"Plany dzienne"},"BREADCRUMB:wh":function(e){return"Magazyn (stary)"},"BREADCRUMB:settings":function(e){return"Ustawienia"},"BREADCRUMB:changes":function(e){return"Historia zmian"},"MSG:LOADING_FAILURE:plan":function(e){return"Nie udało się załadować planu."},"MSG:LOADING_FAILURE:settings":function(e){return"Nie udało się załadować ustawień planu."},"MSG:LOADING_FAILURE:sapOrders":function(e){return"Nie udało się załadować zleceń SAP."},"MSG:LOADING_FAILURE:shifts":function(e){return"Nie udało się załadować zmian produkcyjnych."},"MSG:LOADING_FAILURE:lateOrders":function(e){return"Nie udało się załadować opóźnionych zleceń."},"MSG:LOADING_FAILURE:shiftOrders":function(e){return"Nie udało się załadować zleceń z linii."},"MSG:LOADING_FAILURE:delayReasons":function(e){return"Nie udało się załadować powodów opóźnień."},"MSG:LOADING_FAILURE:productionState":function(e){return"Nie udało się załadować danych produkcyjnych."},"MSG:GENERATING":function(e){return"<i class='fa fa-spinner fa-spin'></i><span>Generowanie planu...</span>"},"MSG:export:started":function(e){return"Eksportowanie..."},"MSG:export:failure":function(e){return"Eksportowanie nie powiodło się."},"PAGE_ACTION:hourlyPlans":function(e){return"Plany godzinowe"},"PAGE_ACTION:dailyPlan":function(e){return"Plan dzienny"},"PAGE_ACTION:paintShop":function(e){return"Malarnia"},"PAGE_ACTION:wh":function(e){return"Magazyn"},"PAGE_ACTION:wh:old":function(e){return"Stary moduł"},"PAGE_ACTION:wh:new":function(e){return"Nowy moduł"},"PAGE_ACTION:wh:problems":function(e){return"Lista problemów"},"PAGE_ACTION:legend":function(e){return"Legenda"},"PAGE_ACTION:changes":function(e){return"Historia zmian"},"PAGE_ACTION:settings":function(e){return"Ustawienia"},"PAGE_ACTION:settings:copy":function(e){return"Kopiuj ustawienia linii"},"PAGE_ACTION:toggleChanges:expand":function(e){return"Rozwiń"},"PAGE_ACTION:toggleChanges:collapse":function(e){return"Zwiń"},"filter:date":function(e){return"Data planu"},"filter:mrps":function(e){return"MRP"},"filter:mrps:1":function(e){return"Wybrane MRP"},"filter:mrps:0":function(e){return"Ignorowane MRP"},"filter:mrps:mine":function(e){return"Moje"},"filter:mrps:wh":function(e){return"Magazyn"},"filter:mrps:placeholder":function(e){return"Wszystkie MRP"},"filter:lines":function(e){return"Linie produkcyjne"},"filter:lines:placeholder":function(e){return"Wszystkie linie"},"filter:whStatuses":function(e){return"Etap"},"filter:psStatuses":function(e){return"Status malarnii"},"filter:wrapLists":function(e){return"Przewijanie list"},"filter:lineOrdersList":function(e){return"Lista <u>z</u>leceń"},"filter:useLatestOrderData":function(e){return"Najnowsze zlecenia"},"filter:useDarkerTheme":function(e){return"Wysoki kontrast"},"filter:copyOrderList":function(e){return"Kopiuj listę zleceń"},"filter:export":function(e){return"Eksportuj..."},"filter:export:stats":function(e){return"...statystyki"},"filter:export:transport":function(e){return"...plan transportu"},"filter:stats:quantity":function(e){return"Sztuki:"},"filter:stats:manHours":function(e){return"RBH:"},"filter:stats:orders":function(e){return"Zlecenia:"},"filter:stats:tooltip:todo":function(e){return"Suma wszystkich zleceń\nw wybranych MRP"},"filter:stats:tooltip:late":function(e){return"Suma wszystkich\nopóźnionych zleceń\nw wybranych MRP"},"filter:stats:tooltip:plan":function(e){return"Suma wszystkich zleceń\nrozplanowanych na liniach\nw wybranych MRP"},"filter:stats:tooltip:remaining":function(e){return"Suma do zrobienia\nw wybranych MRP"},"filter:stats:todo":function(e){return"Wszystkie"},"filter:stats:late":function(e){return"Opóźnione"},"filter:stats:plan":function(e){return"Rozplanowane"},"filter:stats:remaining":function(e){return"Do zrobienia"},"filter:stats:execution":function(e){return"Realizacja sekwencji"},"filter:startTime":function(e){return"Początek"},"toolbar:printPlan":function(e){return"Drukuj plan linii"},"toolbar:printPlan:all":function(e){return"Wszystkie linie"},"toolbar:showTimes":function(e){return"Pokazuj czasy"},"toolbar:copyOrderList":function(e){return"Kopiuj listę zaplanowanych\nzleceń do schowka"},"toolbar:copyOrderList:0":function(e){return"Wszystkie zmiany"},"toolbar:copyOrderList:1":function(e){return"I zmiana"},"toolbar:copyOrderList:2":function(e){return"II zmiana"},"toolbar:copyOrderList:3":function(e){return"III zmiana"},"toolbar:copyOrderList:success":function(e){return"Lista skopiowana do schowka."},"toolbar:toggleLock:true":function(e){return"Wyłącz blokowanie MRP"},"toolbar:toggleLock:false":function(e){return"Włącz blokowanie MRP"},"toolbar:stats:quantity":function(e){return"Sztuki:"},"toolbar:stats:manHours":function(e){return"RBH:"},"toolbar:stats:orders":function(e){return"Zlecenia:"},"toolbar:stats:tooltip:todo":function(e){return"Suma wszystkich zleceń\nw MRP"},"toolbar:stats:tooltip:late":function(e){return"Suma wszystkich\nopóźnionych zleceń\nw MRP"},"toolbar:stats:tooltip:plan":function(e){return"Suma wszystkich zleceń\nrozplanowanych na liniach\nw MRP"},"toolbar:stats:tooltip:remaining":function(e){return"Suma do zrobienia\nw MRP"},"toolbar:stats:tooltip:execution:percent":function(e){return"Procent realizacji\nzaplanowanej sekwencji\nw całym dniu"},"toolbar:stats:tooltip:execution:percent:shift":function(e){return"Procent realizacji\nzaplanowanej sekwencji\nna zmianie "+t.v(e,"shiftNo")},"print:workerCount":function(e){return t.v(e,"count")+" "+t.p(e,"count",0,"pl",{one:"osoba",few:"osoby",other:"osób"})},"print:workerCounts":function(e){return t.v(e,"from")+"-"+t.v(e,"to")+" "+t.p(e,"to",0,"pl",{one:"osoba",few:"osoby",other:"osób"})},"list:generate":function(e){return"Wymuś<br>utworzenie<br>planu"},"list:mrpCount":function(e){return t.v(e,"str")+" "+t.p(e,"num",0,"pl",{one:"rodzina",few:"rodziny",other:"rodzin"})},"list:lineCount":function(e){return t.v(e,"str")+" "+t.p(e,"num",0,"pl",{one:"linia",few:"linie",other:"linii"})},"list:orderCount":function(e){return t.v(e,"str")+" "+t.p(e,"num",0,"pl",{one:"zlecenie",few:"zlecenia",other:"zleceń"})},"list:quantity":function(e){return t.v(e,"str")+" "+t.p(e,"num",0,"pl",{one:"sztuka",few:"sztuki",other:"sztuk"})},"list:manHours":function(e){return t.v(e,"str")+" rbh"},"list:from":function(e){return"od "+t.v(e,"time")},"list:to":function(e){return"do "+t.v(e,"time")},empty:function(e){return"Brak planu dla wybranych filtrów."},locked:function(e){return"MRP jest zablokowane!"},"toggleLock:title:true":function(e){return"Odblokowywanie MRP"},"toggleLock:title:false":function(e){return"Blokowanie MRP"},"toggleLock:message:true":function(e){return"<p>Czy na pewno chcesz odblokować MRP <em>"+t.v(e,"mrp")+"</em>?</p><p>Odblokowanie wznowi przeliczanie planu dla danego MRP i może zmienić plan magazynu.</p>"},"toggleLock:message:false":function(e){return"<p>Czy na pewno chcesz zablokować MRP <em>"+t.v(e,"mrp")+"</em>?</p><p>Zablokowanie uniemożliwi zmianę ustawień dla danego MRP oraz sprawi, że plan linii nie będzie przeliczany (tzn. pozostanie taki jak w momencie zablokowania, nawet bez względu na zmiany statusów zleceń w SAP).</p>"},"toggleLock:message:warning":function(e){return"Zlecenia z danym MRP zostały już skompletowane na magazynie."},"toggleLock:yes:true":function(e){return"Odblokuj MRP"},"toggleLock:yes:false":function(e){return"Zablokuj MRP"},"toggleLock:no:true":function(e){return"Pozostaw zablokowane"},"toggleLock:no:false":function(e){return"Pozostaw odblokowane"},"lines:hd":function(e){return"Linie"},"lines:division":function(e){return"Wydział"},"lines:prodFlow":function(e){return"Przepływ"},"lines:prodLine":function(e){return"Linia"},"lines:activeFrom":function(e){return"Aktywna od"},"lines:activeTo":function(e){return"Aktywna do"},"lines:activeTime":function(e){return"Aktywność"},"lines:workerCount":function(e){return"Ilość osób"},"lines:orderPriority":function(e){return"Priorytet zleceń"},"lines:frozenOrders":function(e){return"Zamrożone zlecenia"},"lines:redirLine":function(e){return"Przekierowanie linii"},"lines:wh:pickup:started":function(e){return"Kompletowane"},"lines:wh:pickup:finished":function(e){return"Skompletowane"},"lines:wh:components":function(e){return"Dostępne"},"lines:wh:sets":function(e){return"sety"},"lines:wh:qty":function(e){return"sztuki"},"lines:wh:time":function(e){return"czas"},"lines:mrpPriority":function(e){return"Priorytet MRP"},"lines:menu:header":function(e){return"Linia "+t.v(e,"line")},"lines:menu:settings":function(e){return"Zmień ustawienia linii"},"lines:menu:remove":function(e){return"Usuń linię z MRP"},"lines:menu:remove:title":function(e){return"Usuwanie linii z MRP"},"lines:menu:remove:message":function(e){return"<p>Czy na pewno chcesz usunąć przypisanie MRP <em>"+t.v(e,"mrp")+"</em> do linii <em>"+t.v(e,"line")+"</em>?</p><p>Zmiana będzie miała wpływ tylko na plan dla dnia "+t.v(e,"plan")+".</p>"},"lines:menu:remove:yes":function(e){return"Usuń przypisanie"},"lines:menu:remove:failure":function(e){return"Usunięcie linii nie powiodło się."},"lines:menu:settings:title":function(e){return"Zmiana ustawień linii w MRP"},"lines:menu:settings:submit":function(e){return"Zapisz ustawienia"},"lines:menu:settings:line":function(e){return"Linia produkcyjna"},"lines:menu:settings:applyToAllMrps":function(e){return"Ustaw taką samą <em>Ilość pracowników</em> oraz <em>Priorytet zleceń</em> dla linii "+t.v(e,"line")+" we wszystkich przypisanych MRP, a nie tylko dla "+t.v(e,"mrp")+"."},"lines:menu:settings:failure":function(e){return"Zmiana ustawień nie powiodła się."},"lines:menu:mrpPriority":function(e){return"Ustaw dostępne linie"},"lines:menu:mrpPriority:title":function(e){return"Ustawianie dostępnych linii"},"lines:menu:mrpPriority:submit":function(e){return"Ustaw priorytety MRP"},"lines:menu:mrpPriority:failure":function(e){return"Ustawianie linii nie powiodło się."},"lines:menu:mrpPriority:line":function(e){return"Nowa linia"},"lines:menu:mrpPriority:line:placeholder":function(e){return"Wybierz linię produkcyjną..."},"lines:menu:workerCount":function(e){return"Ustaw ilość pracowników"},"lines:menu:workerCount:title":function(e){return"Ustawianie ilości pracowników"},"lines:menu:workerCount:submit":function(e){return"Ustaw ilości pracowników"},"lines:menu:workerCount:failure":function(e){return"Ustawianie ilości pracowników nie powiodło się."},"lines:menu:orderPriority":function(e){return"Ustaw priorytety zleceń"},"lines:menu:orderPriority:title":function(e){return"Ustawianie priorytetów zleceń"},"lines:menu:orderPriority:submit":function(e){return"Ustaw priorytety zleceń"},"lines:menu:orderPriority:failure":function(e){return"Ustawianie priorytetów zleceń nie powiodło się."},"lines:menu:freezeOrders":function(e){return"Zamroź zlecenia"},"lines:menu:freezeOrders:title":function(e){return"Zamrażanie zleceń"},"lines:menu:freezeOrders:line":function(e){return"Linia"},"lines:menu:freezeOrders:availableOrders":function(e){return"Dostępne zlecenia"},"lines:menu:freezeOrders:frozenOrders":function(e){return"Zamrożone zlecenia"},"lines:menu:freezeOrders:no":function(e){return"Lp."},"lines:menu:freezeOrders:order":function(e){return"Zlecenie"},"lines:menu:freezeOrders:quantity":function(e){return"Ilość"},"lines:menu:freezeOrders:actions":function(e){return"Akcje"},"lines:menu:freezeOrders:submit":function(e){return"Zamroź zlecenia"},"lines:menu:freezeOrders:failure":function(e){return"Zamrażanie zleceń nie powiodło się."},"lines:menu:freezeOrders:shift:1":function(e){return"I zmiana"},"lines:menu:freezeOrders:shift:2":function(e){return"I i II zmiana"},"lines:menu:freezeOrders:shift:3":function(e){return"wszystkie zmiany"},"lines:menu:redirLine:start":function(e){return"Przekieruj linię"},"lines:menu:redirLine:stop":function(e){return"Zakończ przekierowanie"},"lines:menu:deliveredOrders":function(e){return"Otwórz dostarczone zlecenia"},"orders:hd":function(e){return"Zlecenia"},"orders:_id":function(e){return"Nr zlecenia"},"orders:date":function(e){return"Data"},"orders:delayReason":function(e){return"Powód"},"orders:kind":function(e){return"Klasyfikacja"},"orders:quantityDone":function(e){return"Ilość zrobiona"},"orders:quantityTodo":function(e){return"Ilość do zrobienia"},"orders:quantityPlan":function(e){return"Ilość do rozplanowania"},"orders:incomplete":function(e){return"Ilość nierozplanowana"},"orders:hardComponent":function(e){return"Trudny komponent"},"orders:nc12":function(e){return"12NC"},"orders:name":function(e){return"Wyrób"},"orders:operation":function(e){return"Operacja"},"orders:machineTime":function(e){return"Czas Machine"},"orders:laborTime":function(e){return"Czas Labor"},"orders:manHours":function(e){return"RBH"},"orders:qty":function(e){return"Ilość"},"orders:mrp":function(e){return"MRP"},"orders:statuses":function(e){return"Status"},"orders:ignored":function(e){return"Ignorowane"},"orders:urgent":function(e){return"Pilne"},"orders:pinned":function(e){return"Przypięte"},"orders:eto":function(e){return"ETO"},"orders:priority":function(e){return t.s(e,"priority",{E:"Pilot ETO",EK:"Kontynuacja pilota ETO",other:"Priorytet zlecenia"})},"orders:lines":function(e){return"Linia"},"orders:source:plan":function(e){return"Zaplanowane"},"orders:source:added":function(e){return"Dodane"},"orders:source:incomplete":function(e){return"Niekompletne"},"orders:source:late":function(e){return"Opóźnione"},"orders:psStatus:unknown":function(e){return"Brak malowania"},"orders:psStatus:new":function(e){return"Oczekuje na malowanie"},"orders:psStatus:started":function(e){return"W trakcie malowania"},"orders:psStatus:partial":function(e){return"Niekompletne malowanie"},"orders:psStatus:finished":function(e){return"Malowanie zakończone"},"orders:psStatus:aside":function(e){return"Odstawione"},"orders:psStatus:cancelled":function(e){return"Malowanie anulowane"},"orders:whStatus:unknown":function(e){return"Nieokreślony"},"orders:whStatus:todo":function(e){return"Do zrobienia"},"orders:whStatus:done":function(e){return"Zrobione"},"orders:dropZone":function(e){return t.v(e,"group")+" na "+t.v(e,"time")},"orders:qty:incomplete":function(e){return"("+t.v(e,"qty")+" "+t.p(e,"qty",0,"pl",{one:"nierozplanowana",few:"nierozplanowane",other:"nierozplanowanych"})+")"},"orders:late":function(e){return"Opóźnione"},"orders:customQuantity":function(e){return"Zmieniona ilość"},"orders:comment":function(e){return"Ostatni komentarz"},"orders:menu:header":function(e){return"Zlecenie "+t.v(e,"order")},"orders:menu:sapOrder":function(e){return"Otwórz szczegóły zlecenia SAP"},"orders:menu:shiftOrder":function(e){return"Otwórz szczegóły zlecenia z linii"},"orders:menu:comment":function(e){return"Komentuj zlecenie"},"orders:menu:urgent":function(e){return"Oznacz zlecenie jako pilne"},"orders:menu:urgent:title":function(e){return"Pilne zlecenie"},"orders:menu:urgent:message":function(e){return"<p>Czy na pewno chcesz oznaczyć zlecenie <em>"+t.v(e,"order")+"</em> jako pilne?</p><p>Pilne zlecenia planowane są na początku pracy linii, poza kolejnością priorytetów zleceń.</p>"},"orders:menu:urgent:yes":function(e){return"Oznacz jako pilne"},"orders:menu:urgent:failure":function(e){return"Nie udało się oznaczyć zlecenia jako pilne."},"orders:menu:unurgent":function(e){return"Oznacz zlecenie jako niepilne"},"orders:menu:unurgent:message":function(e){return"<p>Czy na pewno chcesz oznaczyć zlecenie  <em>"+t.v(e,"order")+"</em> jako niepilne?</p><p>Niepilne zlecenia planowane są w kolejności priorytetów zleceń.</p>"},"orders:menu:unurgent:yes":function(e){return"Oznacz jako niepilne"},"orders:menu:ignore":function(e){return"Ignoruj zlecenie"},"orders:menu:ignore:title":function(e){return"Ignorowane zlecenie"},"orders:menu:ignore:message":function(e){return"<p>Czy na pewno chcesz zignorować zlecenie <em>"+t.v(e,"order")+"</em>?</p><p>Ignorowane zlecenia nie są brane pod uwagę podczas planowania.</p>"},"orders:menu:ignore:yes":function(e){return"Ignoruj zlecenie"},"orders:menu:ignore:failure":function(e){return"Ignorowanie zlecenia nie powiodło się."},"orders:menu:unignore":function(e){return"Przestań ignorować zlecenie"},"orders:menu:unignore:message":function(e){return"<p>Czy na pewno chcesz przestać ignorować zlecenie <em>"+t.v(e,"order")+"</em>?</p><p>Zlecenie ponownie będzie brane pod uwagę podczas planowania.</p>"},"orders:menu:unignore:yes":function(e){return"Przestań ignorować zlecenie"},"orders:menu:quantity":function(e){return"Zmień ilość w zleceniu"},"orders:menu:quantity:title":function(e){return"Zmiana ilości"},"orders:menu:quantity:quantityTodo":function(e){return"Ilość do zrobienia:"},"orders:menu:quantity:quantityDone":function(e){return"Ilość zrobiona:"},"orders:menu:quantity:quantityRemaining":function(e){return"Ilość pozostała do zrobienia:"},"orders:menu:quantity:quantityPlan":function(e){return"Ilość do rozplanowania:"},"orders:menu:quantity:help":function(e){return"Domyślnie, <em>Ilość do rozplanowania</em> równa jest <em>Ilości do zrobienia</em> lub <em>Ilości pozostałej do zrobienia</em>, jeżeli włączona jest opcja <em>Planuj wg ilości pozostałej do zrobienia</em>. W tym polu można nadpisać tę wartość."},"orders:menu:quantity:submit":function(e){return"Zmień ilość"},"orders:menu:quantity:failure":function(e){return"Zmiana ilości nie powiodła się."},"orders:menu:lines":function(e){return"Zmień przypięcie do linii"},"orders:menu:lines:title":function(e){return"Zmiana przypięcia do linii"},"orders:menu:lines:submit":function(e){return"Zmień przypięcie"},"orders:menu:lines:failure":function(e){return"Przypinanie nie powiodło się."},"orders:menu:lines:urgent":function(e){return"Pilne"},"orders:menu:lines:urgent:help":function(e){return"Pilne zlecenie może być przypięte do każdej linii bez względu na Priorytet zleceń."},"orders:menu:add":function(e){return"Dodaj zlecenie"},"orders:menu:remove":function(e){return"Usuń zlecenie"},"orders:menu:remove:title":function(e){return"Usuwanie zlecenia"},"orders:menu:remove:message":function(e){return"<p>Czy na pewno chcesz usunąć zlecenie <em>"+t.v(e,"order")+"</em> z kolejki aktualnego planu?</p>"},"orders:menu:remove:yes":function(e){return"Usuń zlecenie"},"orders:menu:remove:failure":function(e){return"Usuwanie zlecenia nie powiodło się."},"orders:menu:dropZone":function(e){return"Ustaw drop zone"},"orders:menu:dropZone:title":function(e){return"Ustawianie drop zone"},"orders:menu:dropZone:submit":function(e){return"Ustaw drop zone"},"orders:menu:dropZone:failure":function(e){return"Ustawianie drop zone nie powiodło się."},"orders:menu:dropZone:dropZone":function(e){return"Grupa drop zone"},"orders:menu:dropZone:time":function(e){return"Czas"},"orders:menu:dropZone:status":function(e){return"Status"},"orders:menu:dropZone:orders":function(e){return"Zlecenia do zmiany"},"orders:menu:dropZone:comment":function(e){return"Opcjonalny komentarz magazynu"},"orders:add":function(e){return"Dodaj zlecenie"},"orders:add:title":function(e){return"Dodawanie zlecenia"},"orders:add:submit":function(e){return"Dodaj zlecenie"},"orders:add:failure":function(e){return"Dodawanie zlecenia nie powiodło się."},"orders:add:invalidOrderNo":function(e){return"Podaj prawidłowy, 9-cyfrowy nr zlecenia."},"orders:add:searching":function(e){return"<i class='fa fa-spinner fa-spin'></i><span>Wyszukiwanie zlecenia...</span>"},"orders:add:searchFailed":function(e){return"<i class='fa fa-spinner'></i><span>Wyszukiwanie zlecenia nie powiodło się.</span>"},"orders:add:ORDER_NOT_FOUND":function(e){return"Podane zlecenie nie istnieje."},"orders:add:alreadyExists":function(e){return"Zlecenie jest już w aktualnym planie."},"orders:add:future":function(e){return"Zlecenie jest zaplanowane na przyszłość."},"orders:add:undefinedMrp":function(e){return"MRP zlecenia nie jest zdefiniowane w tym planie."},"orders:add:requiredStatus":function(e){return"Zlecenie nie ma wymaganego statusu."},"orders:add:ignoredStatus":function(e){return"Zlecenie ma ignorowany status."},"orders:add:orderNo":function(e){return"Nr zlecenia"},"orders:add:urgent":function(e){return"Pilne"},"orders:add:plans":function(e){return"Zaplanowane w dniach"},"lateOrders:hd":function(e){return"Opóźnione"},"lateOrders:action":function(e){return"Dodaj opóźnione zlecenia"},"lateOrders:add:title":function(e){return"Dodawanie opóźnionych zleceń"},"lateOrders:add:failure":function(e){return"Dodawanie zleceń nie powiodło się."},"lateOrders:add:orders":function(e){return"Opóźnione zlecenia:"},"lateOrders:add:submit":function(e){return"Dodaj opóźnione zlecenia"},"lineOrders:orderNo":function(e){return"Nr zlecenia"},"lineOrders:unit":function(e){return"szt."},"lineOrders:qty:planned":function(e){return"Ilość zaplanowana"},"lineOrders:qty:done":function(e){return"Ilość zrobiona"},"lineOrders:qty:remaining":function(e){return"Ilość pozostała"},"lineOrders:qty:total":function(e){return"Ilość całkowita"},"lineOrders:qty:incomplete":function(e){return"Ilość brakująca"},"lineOrders:pceTime":function(e){return"Czas 1 szt."},"lineOrders:manHours":function(e){return"RBH"},"lineOrders:time":function(e){return"Czas rozp.-zak."},"lineOrders:duration":function(e){return"Czas trwania"},"lineOrders:incomplete":function(e){return"("+t.v(e,"qty")+" "+t.p(e,"qty",0,"pl",{one:"brakująca",few:"brakujące",other:"brakujących"})+")"},"lineOrders:downtimeReason":function(e){return"Powód przestoju"},"lineOrders:comment":function(e){return"Ostatni komentarz"},"lineOrders:list:group":function(e){return"Gr."},"lineOrders:list:no":function(e){return"Lp."},"lineOrders:list:shift":function(e){return"Zm."},"lineOrders:list:mrp":function(e){return"MRP"},"lineOrders:list:orderNo":function(e){return"Zlecenie"},"lineOrders:list:nc12":function(e){return"12NC"},"lineOrders:list:name":function(e){return"Nazwa wyrobu"},"lineOrders:list:qtyPlan":function(e){return"Ilość zaplanowana"},"lineOrders:list:qtyTodo":function(e){return"Ilość do zrobienia"},"lineOrders:list:qty:header":function(e){return"Ilość"},"lineOrders:list:qty:value":function(e){return t.v(e,"plan")+" z "+t.v(e,"todo")},"lineOrders:list:startTime":function(e){return"Początek"},"lineOrders:list:finishTime":function(e){return"Koniec"},"lineOrders:list:status":function(e){return"Status"},"lineOrders:list:lines":function(e){return"Linie"},"lineOrders:list:line":function(e){return"Linia"},"lineOrders:list:dropZone":function(e){return"Drop zone"},"lineOrders:list:whStatus":function(e){return"Etap"},"lineOrders:list:comment":function(e){return"Ostatni komentarz"},"lineOrders:menu:copy":function(e){return"Kopiuj listę zleceń"},"lineOrders:menu:copy:success":function(e){return"Lista zleceń została skopiowana do schowka."},"wh:menu:copy:lineGroup":function(e){return"Kopiuj listę zleceń <em>"+t.v(e,"group")+". "+t.v(e,"line")+"</em>"},"wh:menu:copy:lineGroupNo":function(e){return"Kopiuj nry zleceń <em>"+t.v(e,"group")+". "+t.v(e,"line")+"</em>"},"wh:menu:export":function(e){return"Eksportuj zlecenia"},"wh:status:all":function(e){return"Wszystkie"},"wh:status:0":function(e){return"Nieokreślony"},"wh:status:1":function(e){return"Lista"},"wh:status:2":function(e){return"Buffor"},"wh:status:3":function(e){return t.p(e,"qtySent",0,"pl",{0:"Wysyłka",other:"Wysłano "+t.v(e,"qtySent")+" szt."})},"wh:sent:comment":function(e){return"Wysłano "+t.p(e,"qtySent",0,"pl",{one:"1 sztukę",few:t.v(e,"qtySent")+" sztuki",other:t.v(e,"qtySent")+" sztuk"})+" na linię "+t.v(e,"line")+" "+t.v(e,"date")+" o "+t.v(e,"time")+"."},"wh:sent:label":function(e){return"Wysyłana<br>ilość:"},"wh:export:fileName":function(e){return"WMES_PLAN_MAGAZYN_"+t.v(e,"date")},"wh:export:sheetName":function(e){return"Plan magazynu "+t.v(e,"date")},"stats:export:title":function(e){return"Eksportowanie statystyk"},"stats:export:mrps":function(e){return"MRP"},"stats:export:lines":function(e){return"Linie"},"stats:export:submit":function(e){return"Eksportuj statystyki"},"stats:export:fileName":function(e){return"WMES_Plan_Wykonanie_"+t.v(e,"from")+"_"+t.v(e,"to")},"stats:export:sheetName":function(e){return"Wyk. planu "+t.v(e,"from")+"-"+t.v(e,"to")},"stats:date":function(e){return"Data"},"stats:mrp":function(e){return"MRP"},"stats:line":function(e){return"Linia"},"stats:orderCount":function(e){return"Ilość zleceń"},"stats:quantity":function(e){return"Ilość sztuk"},"stats:manHours":function(e){return"RBH"},"stats:hourlyPlan":function(e){return"Plan godzinowy"},"transport:export:title":function(e){return"Eksportowanie planu transportu"},"transport:export:mrps":function(e){return"MRP"},"transport:export:lines":function(e){return"Linie"},"transport:export:submit":function(e){return"Eksportuj plan transportu"},"transport:export:fileName":function(e){return"WMES_Plan_Transportu"},"transport:export:sheetName":function(e){return"Plan trans. "+t.v(e,"from")+"-"+t.v(e,"to")},"transport:date":function(e){return"Data"},"transport:time":function(e){return"Czas"},"transport:shiftNo":function(e){return"Zmiana"},"transport:line":function(e){return"Linia"},"transport:mrp":function(e){return"MRP"},"transport:orderNo":function(e){return"Zlecenie produkcyjne"},"transport:salesOrderNo":function(e){return"Zlecenie sprzedaży"},"transport:salesOrderItem":function(e){return"Poz. zlecenia sprzedaży"},"transport:quantity":function(e){return"Ilość sztuk"},"orderStatus:planned":function(e){return"Zaplanowane"},"orderStatus:unplanned":function(e){return"Niezaplanowane"},"orderStatus:incomplete":function(e){return"Niekompletne"},"orderStatus:started":function(e){return"Rozpoczęte"},"orderStatus:completed":function(e){return"Zakończone"},"orderStatus:surplus":function(e){return"Nadwyżka"},"orderPriority:unclassified":function(e){return"Niesklasyfikowane"},"orderPriority:small":function(e){return"Małe"},"orderPriority:easy":function(e){return"Łatwe"},"orderPriority:hard":function(e){return"Trudne"},"settings:title":function(e){return"Formularz edycji ustawień planu"},"settings:msg:success":function(e){return"Ustawienia zostały zapisane."},"settings:msg:failure":function(e){return"Nie udało się zapisać ustawień!"},"settings:submit":function(e){return"Zapisz ustawienia"},"settings:forceWorkDay":function(e){return"Wymuś pracujący dzień"},"settings:forceWorkDay:help":function(e){return"Dzień zostanie potraktowany jako pracujący nawet gdy nie ma żadnych zleceń z daną datą. Dzięki temu niekompletne zlecenia z poprzedniego dnia zostaną rozplanowane w tym dniu (np. zlecenia, które nie zmieściły się w piątku trafią do soboty a nie do poniedziałku)."},"settings:freezeHour":function(e){return"Godzina zamrożenia kolejki zleceń"},"settings:freezeHour:help":function(e){return"Godzina, po której rozplanowane zlecenia zostaną automatycznie zamrożone. Zlecenia są zamrażane po pierwszym imporcie zleceń do 30 minut przed podaną godziną (jeżeli wystąpi), lub po pierwszym przeliczeniu planu po podanej godzinie. Np. W planie na 12.01.2018 z godziną zamrożenia równą 23, zlecenia zostaną zamrożone 11.01.2018 o 22:45, jeżeli o 22:45 zostaną zaimportowane zlecenia z SAP lub po pierwszej ręcznej zmianie w planie po 23:00."},"settings:lateHour":function(e){return"Godzina rozpoczęcia opóźnionych zleceń"},"settings:lateHour:help":function(e){return"Godzina, od której rozplanowywane są ręcznie dodane pilne zlecenia (opóźnione)."},"settings:etoPilotHour":function(e){return"Godzina rozpoczęcia ETO pilotów"},"settings:etoPilotHour:help":function(e){return"Godzina, od której rozplanowywane są zlecenia z priorytetem <em>E</em> - ETO pilot."},"settings:schedulingRate":function(e){return"Szybkość planowania"},"settings:schedulingRate:help":function(e){return"Współczynnik zmieniający czas wykonania jednej sztuki danego zlecenia: <code>OrderLaborTime / 100 / LineWorkerCount * 3600 * SchedulingRate</code>"},"settings:requiredStatuses":function(e){return"Wymagane statusy"},"settings:requiredStatuses:help":function(e){return"Lista wszystkich statusów jakie zlecenie musi mieć, aby było brane pod uwagę podczas generowania planu."},"settings:ignoredStatuses":function(e){return"Ignorowane statusy"},"settings:ignoredStatuses:help":function(e){return"Lista statusów jakie zlecenie nie może mieć, aby było brane pod uwagę podczas generowania planu."},"settings:completedStatuses":function(e){return"Statusy zrobionego zlecenia"},"settings:completedStatuses:help":function(e){return"Lista ignorowanych statusów określających zakończenie wykonywania zlecenia. Zlecenia z tymi statusami pozostaną w planie, ale nie będą rozplanowywane na liniach produkcyjnych."},"settings:ignoredWorkCenters":function(e){return"Ignorowane WorkCentra"},"settings:ignoredWorkCenters:help":function(e){return"Lista WorkCenterów jakie wybrana operacja zlecenia nie może mieć, aby dane zlecenie było brane pod uwagę podczas generowania planu."},"settings:ignoreCompleted":function(e){return"Ignoruj ukończone zlecenia"},"settings:ignoreCompleted:help":function(e){return"Podczas planowania pod uwagę nie będą brane zlecenie, których <em>Całkowita ilość zrobiona</em> jest większa lub równa <em>Całkowitej ilości do zrobienia</em>."},"settings:useRemainingQuantity":function(e){return"Planuj wg ilości pozostałej do zrobienia"},"settings:useRemainingQuantity:help":function(e){return"Podczas planowania pod uwagę brana będzie <em>Ilość pozostała do zrobienia</em>, a nie <em>Całkowita ilość do zrobienia</em>. Pozostała ilość to <em>Całkowita ilość do zrobienia</em> pomniejszona o <em>Całkowitą zrobioną ilość</em>."},"settings:hardComponents":function(e){return"Trudne komponenty"},"settings:hardComponents:help":function(e){return"Jeżeli zlecenie będzie zawierało jeden z komponentów na tej liście, to zostanie zaklasyfikowane jako <em>Trudne</em>. Bez względu na ilość sztuk oraz roboczogodzin."},"settings:hardBigComponents:help":function(e){return"Jeżeli <em>Duże</em> zlecenie będzie zawierało jeden z komponentów na tej liście, to zostanie zaklasyfikowane jako <em>Trudne</em>."},"settings:line":function(e){return"Ustawienia linii"},"settings:line:placeholder":function(e){return"Linia produkcyjna..."},"settings:mrpPriority":function(e){return"Priorytet MRP"},"settings:mrpPriority:help":function(e){return"Lista MRP zleceń, które mogą być robione na danej linii. Kolejność ma znaczenie."},"settings:mrpPriority:placeholder":function(e){return"Lista kontrolerów MRP..."},"settings:activeTime":function(e){return"Czas aktywności"},"settings:activeTime:help":function(e){return"Czas dostępności linii w danym dniu. Wartość dotyczy wszystkich przypisanych kontrolerów MRP."},"settings:mrp":function(e){return"Ustawienia kontrolera MRP"},"settings:mrp:help":function(e){return"Wybierz kontroler MRP, dla którego chcesz zdefiniować ustawienia."},"settings:mrp:placeholder":function(e){return"Kontroler MRP..."},"settings:limitSmallOrders":function(e){return"Ogranicz małe zlecenia"},"settings:limitSmallOrders:help":function(e){return"W pierwszym przejściu planowania, ilość małych zleceń rozplanowywanych na jednej linii zostanie ograniczona do ilości dostępnych linii. Na przykład, MRP ma 30 małych zleceń i 5 linii akceptujących małe zlecenia. Jeżeli opcja nie będzie włączona, to pierwsza linia zostanie zapełniona małymi zleceniami. Jeżeli opcja zostanie włączona, to na każdą linię trafi po 30/5=6 małych zleceń."},"settings:extraOrderSeconds":function(e){return"Dodatkowy czas zlecenia"},"settings:extraOrderSeconds:help":function(e){return"Ilość sekund dodawana do każdego zlecenia oprócz zlecenia rozpoczętego na początku zmiany produkcyjnej."},"settings:extraShiftSeconds":function(e){return"Czas na rozpoczęcie zmian"},"settings:extraShiftSeconds:1":function(e){return"Czas na rozpoczęcie I zmiany"},"settings:extraShiftSeconds:2":function(e){return"Czas na rozpoczęcie II zmiany"},"settings:extraShiftSeconds:3":function(e){return"Czas na rozpoczęcie III zmiany"},"settings:extraShiftSeconds:help":function(e){return"Ilość sekund dodawana do pierwszego zlecenia na początku zmiany produkcyjnej."},"settings:bigOrderQuantity":function(e){return"Duże zlecenie"},"settings:bigOrderQuantity:help":function(e){return"Minimalna ilość sztuk do zrobienia, po przekroczeniu której zlecenie klasyfikowane jest jako <em>Duże</em>. Duże zlecenia dzielą się na <em>Łatwe</em> i <em>Trudne</em>."},"settings:hardOrderManHours":function(e){return"Trudne zlecenie"},"settings:hardOrderManHours:help":function(e){return"Minimalna ilość roboczogodzin, po przekroczeniu której <em>Duże</em> zlecenie klasyfikowane jest jako <em>Trudne</em>."},"settings:splitOrderQuantity":function(e){return"Dzielenie zlecenia"},"settings:splitOrderQuantity:help":function(e){return"Minimalna ilość sztuk do zrobienia, po przekroczeniu której <em>Duże</em> zlecenie jest dzielone na części."},"settings:maxSplitLineCount":function(e){return"Ilość części zlecenia"},"settings:maxSplitLineCount:help":function(e){return"Maksymalna ilość linii na jaką <em>Duże</em> zlecenie może być podzielone. Zero - maksymalna dostępna ilość linii."},"settings:mrpLine":function(e){return"Ustawienia linii w MRP"},"settings:mrpLine:help":function(e){return"Wybierz linię produkcyjną, dla której chcesz zdefiniować ustawienia w zakresie wybranego kontrolera MRP."},"settings:mrpLine:placeholder":function(e){return"Linia produkcyjna..."},"settings:workerCount":function(e){return"Ilość pracowników"},"settings:workerCount:shift":function(e){return"zm. "+t.v(e,"shiftNo")+":"},"settings:orderPriority":function(e){return"Priorytet zleceń"},"settings:orderPriority:help":function(e){return"Kolejność wykonywania zleceń na danej linii wg klasyfikacji: małe, łatwe, trudne. Łatwe i trudne zlecenia są jednocześnie duże."},"settings:groups":function(e){return"Grupy"},"settings:groups:no":function(e){return"Nr"},"settings:groups:splitOrderQuantity":function(e){return"Dzielenie zlecenia"},"settings:groups:lines":function(e){return"Linie"},"settings:groups:components":function(e){return"Komponenty"},"settings:groups:add":function(e){return"Dodaj grupę"},"settings:groups:remove":function(e){return"Usuń grupę"},"settings:locked":function(e){return"Zablokowane"},"settings:tab:wh":function(e){return"Magazyn"},"settings:wh:groupDuration":function(e){return"Czas trwania grupy zleceń [h]"},"settings:wh:groupExtraItems":function(e){return"Minimalna ilość sztuk w grupie"},"settings:wh:groupExtraItems:help":function(e){return"Jeżeli ilość sztuk zlecenia w pierwszej/ostatniej grupie danej linii będzie mniejsza lub równa podanej wartości, to grupa ta zostanie scalona z następną/poprzednią grupą."},"settings:wh:sortByLines":function(e){return"Sortuj zlecenia w grupach wg linii"},"settings:wh:ignoredMrps":function(e){return"Ignorowane MRP (w starym module)"},"settings:wh:newIncludedMrps":function(e){return"Zablokowane MRP"},"changes:hd":function(e){return"<span class='planning-change-when'>"+t.v(e,"when")+"</span> przez <span class='planning-change-who'>"+t.v(e,"who")+"</span>: <span class='planning-change-what'>"+t.v(e,"what")+"</span>"},"changes:what:settings":function(e){return t.v(e,"count")+" "+t.p(e,"count",0,"pl",{one:"zmiana",few:"zmiany",other:"zmian"})+" ustawień"},"changes:what:addedOrders":function(e){return t.v(e,"count")+" "+t.p(e,"count",0,"pl",{one:"dodane zlecenie",few:"dodane zlecenia",other:"dodanych zleceń"})},"changes:what:changedOrders":function(e){return t.v(e,"count")+" "+t.p(e,"count",0,"pl",{one:"zmienione zlecenie",few:"zmienione zlecenia",other:"zmienionych zleceń"})},"changes:what:removedOrders":function(e){return t.v(e,"count")+" "+t.p(e,"count",0,"pl",{one:"usunięte zlecenie",few:"usunięte zlecenia",other:"usuniętych zleceń"})},"changes:what:changedLines":function(e){return t.v(e,"count")+" "+t.p(e,"count",0,"pl",{one:"zmieniony plan linii",few:"zmienione plany linii",other:"zmienionych planów linii"})},"changes:removedOrders:REQUIRED_STATUS":function(e){return"Brak wymaganego statusu: "+t.v(e,"requiredStatus")+"."},"changes:removedOrders:IGNORED_STATUS":function(e){return"Ignorowany status: "+t.v(e,"ignoredStatus")+"."},"changes:removedOrders:MISSING_ORDER":function(e){return"Brak zlecenia SAP dla danego dnia."},"changes:removedOrders:INCOMPLETE_DONE":function(e){return"Zlecenie niekompletne z poprzedniego dnia zostało zrobione."},"changes:settings:lines:remove":function(e){return"Usunięto linię <em>"+t.v(e,"line")+"</em>"},"changes:settings:mrps:remove":function(e){return"Usunięto MRP <em>"+t.v(e,"mrp")+"</em>"},"changes:settings:mrpLines:remove":function(e){return"Usunięto linię <em>"+t.v(e,"line")+"</em> z MRP <em>"+t.v(e,"mrp")+"</em>"},"changes:settings:lines:change":function(e){return"Zmieniono linię <em>"+t.v(e,"line")+"</em>: <em>"+t.v(e,"property")+"</em>: "},"changes:settings:mrps:change":function(e){return"Zmieniono MRP <em>"+t.v(e,"mrp")+"</em>: <em>"+t.v(e,"property")+"</em>: "},"changes:settings:mrpLines:change":function(e){return"Zmieniono linię <em>"+t.v(e,"line")+"</em> w MRP <em>"+t.v(e,"mrp")+"</em>: <em>"+t.v(e,"property")+"</em>: "},"changes:settings:lines:add":function(e){return"Dodano linię <em>"+t.v(e,"line")+"</em>"},"changes:settings:mrps:add":function(e){return"Dodano MRP <em>"+t.v(e,"mrp")+"</em>"},"changes:settings:mrpLines:add":function(e){return"Dodano linię <em>"+t.v(e,"line")+"</em> do MRP <em>"+t.v(e,"mrp")+"</em>"},"copySettings:title":function(e){return"Kopiowanie ustawień linii"},"copySettings:submit":function(e){return"Kopiuj ustawienia"},"copySettings:source":function(e){return"Plan źródłowy"},"copySettings:target":function(e){return"Plany docelowe"},"copySettings:target:all":function(e){return"Wszystkie"},"copySettings:target:empty":function(e){return"Brak docelowych planów."},"copySettings:mrps:all":function(e){return"Wszystkie"},"copySettings:mrps:in":function(e){return"Wszystkie wybrane MRP"},"copySettings:mrps:nin":function(e){return"Wszystkie oprócz wybranych MRP"},"copySettings:mrps:empty":function(e){return"Nie wybrano MRP do skopiowania."},"copySettings:what":function(e){return"Kopiuj"},"copySettings:what:empty":function(e){return"Nie wybrano ustawień do skopiowania."},"copySettings:what:workerCount":function(e){return"Ilości pracowników"},"copySettings:what:activeTime":function(e){return"Czasy dostępności"},"copySettings:what:orderPriority":function(e){return"Priorytety zleceń"},"copySettings:failure:fetchSettings":function(e){return"Nie udało się pobrać ustawień dla planu "+t.v(e,"plan")+"."},"lockReason:mrp":function(e){return"MRP "+t.v(e,"mrp")+" zablokowane bezpośrednio."},"lockReason:line":function(e){return"Linia "+t.v(e,"line")+" znajduje się w zablokowanym MRP: "+t.v(e,"mrps")}}}),define("app/planning/util/contextMenu",["underscore","jquery","app/i18n","app/broker","app/orders/util/commentPopover","app/planning/templates/contextMenu","i18n!app/nls/planning"],function(e,t,n,r,i,o){"use strict";function a(e){var n=t(e.currentTarget).closest(".planning-menu").find("[tabindex]:not(.planning-menu-disabled)").toArray(),r=n.indexOf(e.currentTarget)-1;return-1===r&&(r=n.length-1),n[r].focus(),!1}function s(e){var n=t(e.currentTarget).closest(".planning-menu").find("[tabindex]:not(.planning-menu-disabled)").toArray(),r=n.indexOf(e.currentTarget)+1;return r>=n.length&&(r=0),n[r].focus(),!1}return{isVisible:function(e){return!!e.$contextMenu},hide:function(e,n){var i=e.$contextMenu;if(i){t(document.body).click(),r.publish("planning.contextMenu.hiding",{$menu:i});var o=i.data("options");t(window).off(".contextMenu."+e.idPrefix),t(document.body).off(".contextMenu."+e.idPrefix),i.data("backdrop").remove(),i.removeData("backdrop"),i.removeData("options"),!1===o.animate||!1===n?i.remove():i.fadeOut("fast",function(){i.remove()}),e.$contextMenu=null,r.publish("planning.contextMenu.hidden")}},show:function(n,i,u,c){var l,d=this.hide.bind(this,n),p=this.show.bind(this,n,i,u,c);l=c.menu?c.menu:(c={menu:c}).menu,d(!1),l=(l=l.map(function(e){return"-"===e?{type:"divider"}:"string"==typeof e?{type:"header",label:e}:(e.type||(e.type="item"),e)}).filter(function(e){return!1!==e.visible})).filter(function(e,t){var n=l[t+1];return"header"!==e.type||"header"===e.type&&n&&"item"===n.type});var f=t(o({className:c.className||"",top:i,icons:e.some(l,function(e){return!!e.icon}),menu:l}));f.on("mousedown",function(e){if(1!==e.which)return!1;e.stopPropagation()}),f.on("mouseup",function(e){if(1!==e.which)return!1}),f.on("contextmenu",!1),f.on("click","a[data-action]",function(e){var t=e.currentTarget;if(!t.classList.contains("planning-menu-disabled")&&!t.classList.contains("planning-menu-loading")){var r=t.dataset.action,i=l[r];f.find("a").addClass("planning-menu-loading"),e.contextMenu={hide:!0,action:r,item:i,view:n,top:c.top,left:c.left,menu:l,restore:p},i&&i.handler&&i.handler(e),e.contextMenu.hide?d():f.find(t).find(".fa").attr("class","fa fa-spinner fa-spin")}}),f.on("keydown","[tabindex]",function(e){var n=e.currentTarget.tagName,r="SELECT"===n||"TEXTAREA"===n||"INPUT"===n,i="SELECT"!==n&&"TEXTAREA"!==n,o=i&&"INPUT"!==n;switch(e.originalEvent.key){case"ArrowUp":return i?a(e):void 0;case"ArrowDown":return i?s(e):void 0;case"Tab":return e.shiftKey?a(e):s(e);case" ":case"Enter":if(o){var u=new t.Event("click");return u.pageY=c.top,u.pageX=c.left,t(e.currentTarget).trigger(u),!1}break;case"Delete":case"Backspace":if(!r)return d(),!1;break;case"Escape":return d(),!1}});var h=t('<div class="planning-menu-backdrop"></div>').one("mousedown",d);f.data("backdrop",h),f.data("options",c),t(window).one("scroll.contextMenu."+n.idPrefix,d).one("resize.contextMenu."+n.idPrefix,d),t(document.body).one("mousedown.contextMenu."+n.idPrefix,function(e){c.hideFilter&&!c.hideFilter(e)||d()}).append(h).append(f),n.$contextMenu=f,this.position(n,i,u),l.forEach(function(e,t){e.template&&e.handler&&e.handler(f.find('li[data-action="'+t+'"]'))}),!1!==c.autoFocus&&(f.find("[autofocus]").length?f.find("[autofocus]").first().focus().select():f.find("[tabindex]:not(.planning-menu-disabled)").first().focus()),r.publish("planning.contextMenu.shown",{$menu:f})},position:function(t,n,r){if(t.$contextMenu){var i=t.$contextMenu,o=i.outerWidth(),a=i.outerHeight();r+o>=document.body.clientWidth&&(r-=r+o-document.body.clientWidth+5);var s=window.innerHeight+window.pageYOffset;n+a>=s&&(n-=n+a-s+5),i.css({top:n+"px",left:r+"px"}),e.assign(i.data("options"),{top:n,left:r})}},actions:{sapOrder:function(e){return{icon:"fa-file-o",label:n.bound("planning","orders:menu:sapOrder"),handler:function(){window.open("/#orders/"+e)}}},comment:function(e){return{icon:"fa-comment-o",label:n("planning","orders:menu:comment"),handler:function(){var t=Math.min(window.screen.availWidth-200,1400),n=Math.min(window.screen.availHeight-160,800),r=window.screen.availWidth-t-80,i=window.open("/#orders/"+e,"WMES_ORDER_DETAILS","top=80,left="+r+",width="+t+",height="+n);i&&(i.onPageShown=function(){if(i){i.focus();var e=i.document.querySelector('textarea[name="comment"]');e&&e.focus(),setTimeout(function(){i.scrollTo(0,i.document.body.scrollHeight)},1)}})}}},commentPopover:function(e,t){return{icon:"fa-comment-o",label:n("planning","orders:menu:comment"),handler:function(n){i.show(n.contextMenu.view,e,n.contextMenu.top,n.contextMenu.left,{source:t||"other"})}}}}}}),define("app/printers/templates/pageAction",["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){void 0!==e&&null!==e&&(__output+=e)}with(locals||{})__append('<div class="page-actions-printers btn-group">\n    <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">\n        <i class="fa fa-print"></i><span>'),__append(label),__append('</span> <span class="caret"></span>\n    </button>\n    <ul class="dropdown-menu dropdown-menu-right">\n        <li><a href="javascript:void(0)" data-printer-id="">'),__append(t("printers","menu:browser")),__append("</a></li>\n        "),_.forEach(printers,function(e){__append('\n        <li><a href="javascript:void(0)" data-printer-id="'),__append(e._id),__append('">'),__append(escapeFn(e.label)),__append("</a></li>\n        ")}),__append("\n    </ul>\n</div>\n");return __output}}),define("app/printers/views/PrinterPickerView",["underscore","jquery","app/i18n","app/broker","app/pubsub","app/viewport","app/core/View","app/planning/util/contextMenu","app/printers/templates/pageAction"],function(e,t,n,r,i,o,a,s,u){"use strict";var c=null;function l(n,r){null===c?function(n,r){var o=t.ajax({url:"/printing/printers"});i.subscribe("printing.printers.**",function(t,n){if(null!==c)switch(n){case"printing.printers.added":c.push(t.model),p();break;case"printing.printers.deleted":c=c.filter(function(e){return e._id!==t.model._id});break;case"printing.printers.edited":var r=e.find(c,function(e){return e._id===t.model._id});r?e.assign(r,t.model):c.push(t.model),p()}}),o.fail(function(){r([])}),o.done(function(e){c=e.collection||[],r(d(n))})}(n,r):setTimeout(r,1,d(n))}function d(t){return t&&c?c.filter(function(n){return e.isEmpty(n.tags)||e.includes(n.tags,t)}):c||[]}function p(){c.sort(function(e,t){return e.label.localeCompare(t.label)})}return a.extend({},{contextMenu:function(e,t){e.contextMenu.hide=!1;var i=r.sandbox();i.subscribe("planning.contextMenu.hidden",function(){i.destroy(),i=null,e.contextMenu.onCancel&&e.contextMenu.onCancel()}),l(e.contextMenu.tag,function(r){if(i){if(!r.length)return t(null);var o=[n("printers","menu:header"),{label:n("printers","menu:browser"),handler:t.bind(null,null)}].concat(r.map(function(e){return{label:e.label,handler:t.bind(null,e._id)}}));s.show(e.contextMenu.view,e.pageY-40,e.pageX-15,o)}})},listAction:function(e,n){var r=t(e.currentTarget).addClass("disabled").prop("disabled",!0);e.contextMenu=e.listAction,e.contextMenu.onCancel=function(){r.removeClass("disabled").prop("disabled",!1)},this.contextMenu(e,function(t){e.contextMenu.onCancel(),n(t)})},pageAction:function(e,r){var i=e.view.model||e.view.collection,a=i.getNlsDomain?i.getNlsDomain():i.nlsDomain||"core",s="PAGE_ACTION:print",p=e.label||(n.has(a,s)?n(a,s):n("core",s)),f=d(e.tag);return 0===f.length?{label:p,icon:"print",privileges:"USER",callback:function(n){if(c&&0===d(e.tag).length)return r(null);var i=t(n.currentTarget).find(".btn").addClass("disabled").prop("disabled",!0),a=i.find(".fa").removeClass("fa-print").addClass("fa-spinner fa-spin"),s=e.view.broker.sandbox();s.subscribe("html2pdf.completed",function(){s.destroy(),s=null,a.removeClass("fa-spinner fa-spin").addClass("fa-print"),i.prop("disabled",!1).removeClass("disabled")}),l(e.tag,function(t){if(s){if(!t.length)return r(null);o.currentLayout.setActions(e.view.actions,e.view),o.currentLayout.$(".page-actions-printers").find(".btn").click()}})}}:{template:function(){return u({label:p,printers:f})},callback:function(e){var n=t(e.currentTarget);n.data("printers-bound")||(n.data("printers-bound",!0),n.find(".dropdown-menu").on("click","a",function(e){r(e.currentTarget.dataset.printerId||null)}))}}},selectField:function(r,i){i=e.assign({id:"printer",label:n("printers","select:label")},i);var o=r.$id(i.id||"printer");if(!o.length){var a=r.$(".form-actions");if(!a.length)return;o=t("<div></div>").insertBefore(a)}o.prop("id","").addClass("form-group"),o.append('<label for="'+r.idPrefix+"-"+i.id+'">'+i.label+"</label>"),o.append('<input class="form-control" value="" readonly id="'+r.idPrefix+"-"+i.id+'" placeholder="'+n("printers","select:browser")+'">');var s=d(i.tag);function u(e){o.addClass("has-required-select2"),r.$id(i.id).removeClass("form-control").prop("placeholder",n("printers","select:placeholder")).prop("readonly",!1).prop("required",!0).select2({width:"100%",data:[{id:"browser",text:n("printers","select:browser")}].concat(e.map(function(e){return{id:e._id,text:e.label}}))})}c&&0===s.length?o.remove():null===c?l(i.tag,function(e){0!==r.$id(i.id).length&&(0!==e.length?u(e):o.remove())}):u(s)}})}),define("app/wmes-drilling/DrillingOrder",["underscore","../time","../i18n","../core/Model"],function(e,t,n,r){"use strict";var i={};function o(e){return["date","startedAt","finishedAt"].forEach(function(t){"string"==typeof e[t]&&(e[t]=new Date(e[t]))}),e}return r.extend({urlRoot:"/drilling/orders",clientUrlRoot:"#drilling/orders",topicPrefix:"drilling.orders",privilegePrefix:"DRILLING",nlsDomain:"wmes-drilling",parse:o,serialize:function(r,o){if(o||(o=this.collection),!r&&o&&o.serializedMap&&o.serializedMap[this.id])return o.serializedMap[this.id];var a=this.toJSON(),s=a.childOrders.length,u=s-1;if(a.rowSpan=s+1,a.rowSpanDetails=a.rowSpan,a.mrps={},a.mrps[a.mrp]=1,a.childOrders=a.childOrders.map(function(t,n){a.mrps[t.mrp]=1;var r=[];t.components.forEach(function(e){i[e.nc12]||r.push(e)});var o=r.length,s=o;return a.rowSpan+=o,a.rowSpanDetails+=s,e.assign({rowSpan:o+1,rowSpanDetails:s+1,last:n===u},t,{components:r})}),a.mrps=Object.keys(a.mrps).join(" "),o&&a.followups.length){var c=a.followups;a.followups=[],c.forEach(function(e){var t=o.get(e);t&&a.followups.push({id:e,no:t.get("no")})})}if(a.startTime&&(a.startTimeTime=t.utc.format(a.startTime,"HH:mm:ss")),a.startedAt){var l=t.getMoment(a.startedAt);a.startedAtTime=l.format("HH:mm:ss"),a.startedAtDate=l.format("DD.MM, HH:mm:ss")}if(a.finishedAt){var d=t.getMoment(a.finishedAt);a.finishedAtTime=d.format("HH:mm:ss"),a.finishedAtDate=d.format("DD.MM, HH:mm:ss")}return"finished"===a.status&&a.painted&&(a.status="painted"),a.statusText=n("wmes-drilling","status:"+a.status),a},hasAnyChildOrderForComponents:function(e){for(var t=this.attributes.childOrders,n=0;n<t.length;++n)if(e[t[n].nc12])return!0;return!1}},{parse:o,isComponentBlacklisted:function(e){return i[e.nc12]}})}),define("app/wmes-drilling/DrillingOrderCollection",["underscore","jquery","../time","../core/util/getShiftStartInfo","../core/Collection","./DrillingOrder"],function(e,t,n,r,i,o){"use strict";return i.extend({model:o,comparator:"no",initialize:function(t,n){this.settings=n?n.settings:null,this.user=n?n.user:null,this.selectedMrp=n&&n.selectedMrp?n.selectedMrp:"all",this.allMrps=null,this.serializedList=null,this.serializedMap=null,this.totalQuantities={},this.on("request",function(){this.serializedList=null,this.serializedMap=null}),this.on("change",function(t){this.serializedMap&&this.serializedMap[t.id]&&e.assign(this.serializedMap[t.id],t.serialize(!0,this))})},parse:function(e){return i.prototype.parse.call(this,e).map(o.parse)},genClientUrl:function(){return"/drilling/"+this.getDateFilter()},isDateFilter:function(t){return e.some(this.rqlQuery.selector.args,function(e){return"eq"===e.name&&"date"===e.args[0]&&e.args[1]===t})},getDateFilter:function(e){var t=null;return this.rqlQuery.selector.args.forEach(function(r){"eq"===r.name&&"date"===r.args[0]&&(t=n.utc.getMoment(r.args[1],"YYYY-MM-DD").format(e||"YYYY-MM-DD"))}),t},setDateFilter:function(e){this.rqlQuery.selector.args.forEach(function(t){"eq"===t.name&&"date"===t.args[0]&&(t.args[1]=e)})},selectMrp:function(e){this.selectedMrp=this.selectedMrp===e?"all":e,this.trigger("mrpSelected")},isVisible:function(e){return this.isMrpVisible(e)},isMrpVisible:function(e){return"all"===this.selectedMrp||e.mrp===this.selectedMrp},getAllByOrderNo:function(t){return this.filter(function(n){return n.get("order")===t||e.some(n.get("childOrders"),function(e){return e.order===t})})},getFirstByOrderNo:function(t){return this.find(function(n){return n.get("order")===t||e.some(n.get("childOrders"),function(e){return e.order===t})})},serialize:function(e){var t=this;if(!e&&t.serializedList)return t.serializedList;var n=[],r={},i={},o={all:{new:0,started:0,partial:0,finished:0,painted:0,cancelled:0}};return t.forEach(function(e){var a=r[e.id]=e.serialize(!0,t);n.push(a),i[a.mrp]=1,t.recountOrder(o,a)}),t.serializedList=n,t.serializedMap=r,t.allMrps=Object.keys(i).sort(),t.totalQuantities=o,"all"===t.selectedMrp||i[t.selectedMrp]||t.selectMrp("all"),n},serializeTotals:function(){return this.totalQuantities[this.selectedMrp]||{new:0,started:0,partial:0,finished:0,painted:0,cancelled:0}},recountTotals:function(){this.totalQuantities={all:{new:0,started:0,partial:0,finished:0,painted:0,cancelled:0}},(this.serializedList||[]).forEach(this.recountOrder.bind(this,this.totalQuantities)),this.trigger("totalsRecounted")},recountOrder:function(e,t){var n=t.mrp,r=t.status,i=t.qtyDrill;e[n]||(e[n]={new:0,started:0,partial:0,finished:0,painted:0,cancelled:0}),e.all[r]+=i,e[n][r]+=i},act:function(e,n){var r=this,i=r.url;e.orderId&&(i="/drilling/orders/"+e.orderId),r.user&&(e.user=r.user);var o=t.ajax({method:"PATCH",url:i,data:JSON.stringify(e)});return r.trigger("request",this,o,{}),o.fail(function(e){var t=e.responseJSON?e.responseJSON.error:null;t||(t={message:e.statusText}),t.statusCode=e.status,n(t),r.trigger("error",o)}),o.done(function(e){n(null,e),r.trigger("sync",e,o)}),o},applyChanges:function(e){var t=this,n=e.removed.length>0||e.added.length>0,r=n;if(!n)for(var i=0;i<e.changed.length;++i)if(e.changed[i].no>0){n=!0;break}t.remove(e.removed,{silent:n}),e.added.forEach(function(e){t.add(o.parse(e),{silent:n})}),e.changed.forEach(function(e){var i=t.get(e._id);i&&(i.set(o.parse(e),{silent:n}),(e.qtyDrill||e.status)&&(r=!0))}),n?(t.allMrps=null,t.serializedList=null,t.serializedMap=null,t.sort({silent:!0}),t.trigger("reset",t)):r&&t.recountTotals()}},{forDate:function(t,n){return new this(null,e.assign({rqlQuery:"sort(date,no)&limit(0)&date="+t},n))}})}),define("app/settings/Setting",["../core/Model"],function(e){"use strict";return e.extend({urlRoot:"/settings",clientUrlRoot:"#settings",topicPrefix:"settings",privilegePrefix:"SETTINGS",nlsDomain:"core",defaults:{value:null},getValue:function(){return this.get("value")}})}),define("app/settings/SettingCollection",["underscore","jquery","app/core/Collection","./Setting"],function(e,t,n,r){"use strict";return n.extend({model:r,rqlQuery:"select(value)",matchSettingId:null,topicSuffix:"**",initialize:function(e,t){t.pubsub&&this.setUpPubsub(t.pubsub)},setUpPubsub:function(t){var n=this,r=Array.isArray(n.topicSuffix)?n.topicSuffix:[n.topicSuffix];e.forEach(r,function(e){t.subscribe("settings.updated."+e,function(e){var t=n.get(e._id);t?t.set(e):n.add(e)})})},fetchIfEmpty:function(e,n){if(!this.isEmpty())return e?e.call(n):null;var r=t.Deferred(),i=this.fetch({reset:!0});return e?(i.done(function(){var i=[].concat(e.call(n));t.when.apply(t,i).then(function(){r.resolve()},function(){r.reject()})}),r.promise()):i},update:function(n,r){if(void 0===(r=this.prepareValue(n,"string"==typeof r?r.trim():r)))return t.Deferred().reject().promise();var i=this.get(n);if(i){if(e.isEqual(i.getValue(),r))return t.Deferred().resolve().promise()}else this.add({_id:n,value:null}),i=this.get(n);return i.save({value:r})},prepareValue:function(e,t){return t},prepareObjectIdValue:function(e){if(null===e||""===e)return null;var t=String(e).toLowerCase();return/^[a-f0-9]{24}$/.test(t)?t:void 0},prepareMultiObjectIdValue:function(e){return String(e).toLowerCase().split(",").filter(function(e){return/^[a-f0-9]{24}$/.test(e)})},prepareMultiSelect2Value:function(e){return String(e||"").split(",").filter(function(e){return e.length>0})},prepareNumericValue:function(e,t,n,r){var i=parseInt(e,10);return isNaN(i)?r:null!=t&&i<t?t:null!=n&&i>n?n:i},prepareFloatValue:function(e,t,n,r){var i=parseFloat(e);return isNaN(i)?r:null!=t&&i<t?t:null!=n&&i>n?n:i},prepareFormValue:function(e,t){return t||""},getValue:function(e,t){var n=this.get((this.idPrefix||"")+e);return n?n.getValue():null==t?null:t}})}),define("app/wmes-drilling/DrillingSetting",["../settings/Setting"],function(e){"use strict";return e.extend({urlRoot:"/drilling/settings",nlsDomain:"wmes-drilling"})}),define("app/wmes-drilling/DrillingSettingCollection",["underscore","../settings/SettingCollection","./DrillingSetting"],function(e,t,n){"use strict";return t.extend({model:n,topicSuffix:"drilling.**",getValue:function(e){var t=this.get("drilling."+e);return t?t.getValue():null},prepareValue:function(e,t){if(/workCenters$/i.test(e))return t.split(",").filter(function(e){return e.length>0})}})}),define("app/core/templates/userInfo",["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){void 0!==e&&null!==e&&(__output+=e)}with(locals||{})__append('<span class="userInfo" data-clickable="'),__append("undefined"==typeof clickable||!0===clickable?1:0),__append('" data-user-id="'),__append(userInfo?userInfo.id:""),__append('">'),userInfo?(__append('<span class="userInfo-label" title="'),__append(userInfo.title||""),__append('">'),__append(escapeFn(userInfo.label)),__append("</span>"),!(userInfo.cname||userInfo.ip&&"0.0.0.0"!==userInfo.ip)||"undefined"!=typeof noIp&&!1!==noIp||(__append(' <span class="userInfo-cname">('),__append(escapeFn(userInfo.cname||userInfo.ip)),__append(")</span>"))):__append("-"),__append("</span>");return __output}}),define("app/wmes-drilling/DrillingEvent",["underscore","../time","../i18n","../core/Model","app/core/templates/userInfo"],function(e,t,n,r,i){"use strict";return r.extend({urlRoot:"/drilling/events",clientUrlRoot:"#drilling/events",privilegePrefix:"DRILLING",nlsDomain:"wmes-drilling",serialize:function(){var e=this.toJSON();return e.time=t.toTagData(e.time),e.user=i({userInfo:e.user,noIp:!0}),e.comment=e.data&&e.data.comment||"",e}})}),define("app/wmes-drilling/DrillingEventCollection",["../core/Collection","./DrillingEvent"],function(e,t){"use strict";return e.extend({model:t,rqlQuery:"sort(-time)&limit(0)"},{forOrder:function(e){return new this(null,{rqlQuery:"sort(time)&limit(0)&order="+e})}})}),define("app/wmes-drilling/templates/orderDetails",["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){void 0!==e&&null!==e&&(__output+=e)}with(locals||{})__append('<table class="drilling-orderDetails">\n  <thead>\n  <tr>\n    <th>'),__append(helpers.t("PROPERTY:no")),__append("</th>\n    <th>"),__append(helpers.t("PROPERTY:order")),__append("</th>\n    <th>"),__append(helpers.t("PROPERTY:nc12")),__append('</th>\n    <th colspan="2">'),__append(helpers.t("PROPERTY:qty")),__append("</th>\n    <th>"),__append(helpers.t("PROPERTY:name")),__append('</th>\n    <th colspan="3">'),__append(helpers.t("PROPERTY:placement")),__append("</th>\n  </tr>\n  </thead>\n  "),canAct&&(__append('\n  <tfoot>\n  <tr>\n    <td colspan="9">\n      <div class="drilling-orderDetails-actions">\n        '),"new"===order.status?(__append('\n        <button class="btn btn-info" type="button" data-action="start" data-cabin="0">'),__append(helpers.t("action:start")),__append('</button>\n        <button class="btn btn-danger" type="button" data-action="cancel">'),__append(helpers.t("action:cancel")),__append("</button>\n        ")):"cancelled"===order.status?(__append('\n        <button class="btn btn-default" type="button" data-action="reset">'),__append(helpers.t("action:reset")),__append("</button>\n        ")):"started"===order.status?(__append('\n        <div class="drilling-orderDetails-qtyDone">\n          <input id="'),__append(idPrefix),__append('-qtyDone" class="form-control" type="text" autocomplete="new-password" maxlength="3" min="0" max="999" placeholder="'),__append(order.qty),__append('" data-vkb="numeric">\n          <button class="btn btn-success" type="button" data-action="finish" title="'),__append(helpers.t("action:finish")),__append('"><i class="fa fa-check"></i></button>\n        </div>\n        <button class="btn btn-default" type="button" data-action="reset">'),__append(helpers.t("action:reset")),__append('</button>\n        <button class="btn btn-danger" type="button" data-action="cancel">'),__append(helpers.t("action:cancel")),__append("</button>\n        ")):"partial"===order.status?(__append('\n        <button class="btn btn-info" type="button" data-action="start">'),__append(helpers.t("action:continue")),__append('</button>\n        <button class="btn btn-default" type="button" data-action="reset">'),__append(helpers.t("action:reset")),__append('</button>\n        <button class="btn btn-danger" type="button" data-action="cancel">'),__append(helpers.t("action:cancel")),__append("</button>\n        ")):"finished"!==order.status&&"painted"!==order.status||(__append('\n        <button class="btn btn-info" type="button" data-action="start">'),__append(helpers.t("action:continue")),__append('</button>\n        <button class="btn btn-default" type="button" data-action="reset">'),__append(helpers.t("action:reset")),__append('</button>\n        <button class="btn btn-danger" type="button" data-action="cancel">'),__append(helpers.t("action:cancel")),__append("</button>\n        ")),__append("\n      </div>\n    </td>\n  </tr>\n  </tfoot>\n  ")),__append("\n  "),__append(renderQueueOrder({order:order,visible:!0,first:!1,last:!1,commentVisible:!1,rowSpan:"rowSpanDetails",view:"details"})),__append("\n  "),canAct&&(__append('\n  <tbody>\n  <tr>\n    <td id="'),__append(idPrefix),__append('-filler" class="drilling-orderDetails-filler" colspan="9" style="height: '),__append(fillerHeight),__append('px"></td>\n  </tr>\n  </tbody>\n  ')),__append("\n</table>\n");return __output}}),define("app/wmes-drilling/templates/orderChanges",["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){void 0!==e&&null!==e&&(__output+=e)}with(locals||{})__append('<div class="drilling-orderChanges">\n  <div class="drilling-orderChanges-changes">\n    <i class="fa fa-spinner fa-spin fa-2x"></i>\n  </div>\n  <div class="drilling-orderChanges-comment-container">\n    <textarea class="form-control drilling-orderChanges-comment" data-vkb="numeric alpha multiline" '),__append(canAct?"":"disabled"),__append('></textarea>\n    <button type="button" class="btn btn-primary" '),__append(canAct?"":"disabled"),__append('><i class="fa fa-comment-o"></i></button>\n  </div>\n</div>\n');return __output}}),define("app/wmes-drilling/templates/orderChange",["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){void 0!==e&&null!==e&&(__output+=e)}with(locals||{})__append('<div class="drilling-orderChanges-change">\n  <p class="drilling-orderChanges-change-meta">\n    <time title="'),__append(change.time.long),__append('">'),__append(time.format(change.time.iso,"L LT")),__append("</time>, "),__append(change.user),__append(":\n  </p>\n  "),t.has("wmes-drilling","orderChanges:change:"+change.type)&&(__append('\n  <p class="drilling-orderChanges-change-type">'),__append(t("wmes-drilling","orderChanges:change:"+change.type,change.data)),__append("</p>\n  ")),__append("\n  "),change.comment&&(__append('\n  <p class="text-lines">'),__append(escapeFn(change.comment)),__append("</p>\n  ")),__append("\n</div>\n");return __output}}),define("app/wmes-drilling/templates/queueOrder",["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){void 0!==e&&null!==e&&(__output+=e)}with(locals||{})__append('<tbody class="drilling-order '),__append(visible?"visible":"hidden"),__append(" "),__append(first?"is-first":""),__append(" "),__append(last?"is-last":""),__append('" data-order-id="'),__append(order._id),__append('" data-status="'),__append(order.status),__append('" data-mrp="'),__append(escapeFn(order.mrp)),__append('">\n  <tr class="drilling-properties drilling-order-order">\n    <td class="drilling-property" data-property="no" rowspan="'),__append(order[rowSpan]),__append('">\n      '),__append(order.no),__append("\n      "),order.followups.forEach(function(e){__append('\n      <br>\n      <span class="drilling-order-followup" data-followup-id="'),__append(e.id),__append('">\n        <i class="fa fa-long-arrow-'),__append(order.no<e.no?"down":"up"),__append('"></i>\n        <br>\n        '),__append(e.no),__append("\n        </span>\n      ")}),__append('\n    </td>\n    <td class="drilling-property" data-property="order">'),__append(order.order),__append('</td>\n    <td class="drilling-property" data-property="nc12">'),__append(order.nc12),__append('</td>\n    <td class="drilling-property" data-property="qty">'),__append(order.qty.toLocaleString()),__append('</td>\n    <td class="drilling-property" data-property="unit">PCE</td>\n    <td class="drilling-property" data-property="name">'),__append(order.name),__append('</td>\n    <td class="drilling-property"></td>\n    <td class="drilling-property" data-property="mrpTimePlacement" rowspan="'),__append(order[rowSpan]),__append('">\n      <span class="drilling-property drilling-property-mrp" data-property="mrp" data-mrp="'),__append(order.mrp),__append('" title="'),__append(t("wmes-drilling","PROPERTY:mrp")),__append('">\n        <i class="fa fa-filter"></i><span>'),__append(order.mrp),__append("</span>\n      </span>\n      "),order.startTime&&(__append('\n      <span class="drilling-property" data-property="startTime" title="'),__append(t("wmes-drilling","PROPERTY:startTime")),__append('">\n      <i class="fa fa-clock-o"></i><span>'),__append(order.startTimeTime),__append("</span>\n      </span>\n      ")),__append("\n      "),order.qtyDrill&&(__append('\n      <span class="drilling-property" data-property="qtyDrill" title="'),__append(t("wmes-drilling","PROPERTY:qtyDrill")),__append('">\n        <i class="fa fa-circle-o"></i><span>'),__append(order.qtyDrill.toLocaleString()),__append("</span>\n      </span>\n      ")),__append("\n      "),order.qtyDone&&(__append('\n      <span class="drilling-property" data-property="qtyDone" title="'),__append(t("wmes-drilling","PROPERTY:qtyDone")),__append('">\n        <i class="fa fa-check"></i><span>'),__append(order.qtyDone.toLocaleString()),__append("</span>\n      </span>\n      ")),__append('\n    </td>\n    <td class="drilling-property" rowspan="'),__append(order[rowSpan]),__append('" data-property="times">\n      '),order.startedAt&&(__append('\n      <span class="drilling-property" data-property="startedAt" title="'),__append(t("wmes-drilling","PROPERTY:startedAt")),__append('">\n        <i class="fa fa-hourglass-start"></i><span>'),__append(order.startedAtDate),__append("</span>\n      </span>\n      ")),__append("\n      "),order.finishedAt&&(__append('\n      <span class="drilling-property" data-property="finishedAt" title="'),__append(t("wmes-drilling","PROPERTY:finishedAt")),__append('">\n        <i class="fa fa-hourglass-end"></i><span>'),__append(order.finishedAtDate),__append("</span>\n      </span>\n      ")),__append("\n      "),commentVisible&&order.comment&&(__append('\n      <span class="drilling-property" data-property="comment" title="'),__append(t("wmes-drilling","PROPERTY:comment")),__append('">\n        <i class="fa fa-comment"></i><span>'),__append(escapeFn(order.comment)),__append("</span>\n      </span>\n      ")),__append("\n    </td>\n  </tr>\n  "),order.childOrders.forEach(function(e,t){__append('\n  <tr class="drilling-properties drilling-order-childOrder '),__append(e.last?"is-last":""),__append(" "),__append(e.deleted?"is-deleted":""),__append('">\n    <td class="drilling-property" data-property="order" rowspan="'),__append(e[rowSpan]),__append('">'),__append(e.order),__append('</td>\n    <td class="drilling-property" data-property="nc12">\n      '),"details"===view?(__append('\n      <a href="/orderDocuments/110'),__append(e.nc12),__append("?order="),__append(order.order),__append('" target="_blank" data-action="openDocument">'),__append(e.nc12),__append("</a>\n      ")):(__append("\n      "),__append(e.nc12),__append("\n      ")),__append('\n    </td>\n    <td class="drilling-property" data-property="qty">'),__append(e.qty?e.qty.toLocaleString():"?"),__append('</td>\n    <td class="drilling-property">PCE</td>\n    <td class="drilling-property" data-property="name">'),__append(escapeFn(e.name)),__append('</td>\n    <td class="drilling-property"></td>\n  </tr>\n  '),e.components.forEach(function(t){__append('\n  <tr class="drilling-properties drilling-order-component '),__append(e.deleted?"is-deleted":""),__append('">\n    <td class="drilling-property" data-property="nc12">'),__append(t.nc12),__append('</td>\n    <td class="drilling-property" data-property="qty">'),__append(Math.ceil(t.qty).toLocaleString()),__append('</td>\n    <td class="drilling-property" data-property="unit">'),__append(t.unit),__append('</td>\n    <td class="drilling-property" data-property="name">'),__append(escapeFn(t.name)),__append('</td>\n    <td class="drilling-property" data-property="placement">'),__append(escapeFn(t.placement)),__append("</td>\n  </tr>\n  ")}),__append("\n  ")}),__append("\n</tbody>\n");return __output}}),define("app/wmes-drilling/views/OrderDetailsView",["underscore","jquery","app/i18n","app/viewport","app/user","app/core/View","app/wmes-drilling/DrillingEventCollection","app/wmes-drilling/templates/orderDetails","app/wmes-drilling/templates/orderChanges","app/wmes-drilling/templates/orderChange","app/wmes-drilling/templates/queueOrder"],function(e,t,n,r,i,o,a,s,u,c,l){"use strict";var d=null,p=null;return o.extend({template:s,dialogClassName:"drilling-orderDetails-dialog",events:{"keydown .form-control":function(e){if("Enter"===e.key)return this.$(e.currentTarget).next().click(),!1},"focus [data-vkb]":function(e){this.vkb&&(clearTimeout(this.timers.hideVkb),this.vkb.show(e.currentTarget)&&(this.vkb.$el.css({top:"auto",bottom:"30px"}),this.resizeChanges()))},"blur [data-vkb]":"scheduleHideVkb","click .btn[data-action]":function(e){this.handleAction(e.currentTarget.dataset)},'click a[data-action="openDocument"]':function(e){var t=e.currentTarget;return"1"!==t.dataset.checking&&(t.textContent.trim()===d&&p&&!p.closed?(p.focus(),!1):"1"!==t.dataset.checked?(this.tryOpenDocument(t),!1):(this.openDocumentWindow(t),!1))}},initialize:function(){this.vkb=this.options.vkb,this.drillEvents=a.forOrder(this.model.id),this.listenTo(this.model,"change",this.reloadChanges.bind(this)),this.vkb&&this.listenTo(this.vkb,"keyFocused",this.onVkbFocused),t(window).on("resize."+this.idPrefix,this.onWindowResize.bind(this))},destroy:function(){t(window).off("."+this.idPrefix),this.vkb&&this.vkb.hide(),this.$changes&&(this.$changes.remove(),this.$changes=null)},closeDialog:function(){},getTemplateData:function(){return{order:this.model.serialize(),fillerHeight:this.calcFillerHeight(),renderQueueOrder:l,canAct:this.canAct()}},canAct:function(){var e=this.options.embedded,t=i.isAllowedTo("LOCAL"),n=!!this.orders.user,r=i.isAllowedTo("DRILLING:DRILLER"),o=i.isAllowedTo("DRILLING:MANAGE");return e&&t&&n||r||o},beforeRender:function(){this.$changes&&(this.$changes.remove(),this.$changes=null)},afterRender:function(){0===this.options.height&&(this.options.height=this.$("tbody")[0].clientHeight,this.$id("filler").css("height",this.calcFillerHeight()+"px")),this.renderChanges(),this.reloadChanges()},renderChanges:function(){var e=this,n=t(u({canAct:e.canAct()}));n.find(".drilling-orderChanges-comment").on("focus",function(){e.options.vkb&&(clearTimeout(e.timers.hideVkb),e.options.vkb.show(this),e.resizeChanges())}).on("blur",function(){e.options.vkb&&e.scheduleHideVkb()}),n.find(".btn-primary").on("click",function(){e.handleAction({action:"comment"})}),n.appendTo(this.$el.parent()),this.$changes=n,this.resizeChanges()},reloadChanges:function(){var e=this;e.promised(e.drillEvents.fetch({reset:!0})).done(function(){var t=e.drillEvents.map(function(e){return c({change:e.serialize()})});e.$changes.find(".drilling-orderChanges-changes").html(t).prop("scrollTop",99999)})},scheduleHideVkb:function(){clearTimeout(this.timers.hideVkb),this.timers.hideVkb=setTimeout(this.hideVkb.bind(this),250)},hideVkb:function(){clearTimeout(this.timers.hideVkb),this.vkb&&(this.vkb.hide(),this.resizeChanges())},resizeChanges:function(){this.$changes.css("height",this.calcChangesHeight()+"px").find(".drilling-orderChanges-changes").prop("scrollTop",99999)},calcFillerHeight:function(){return Math.max(window.innerHeight-60-25-75-this.options.height,0)},calcChangesHeight:function(){var e=this.vkb?this.vkb.$el.outerHeight():0;return e||(e=-30),Math.max(window.innerHeight-2-60-30-e,0)},handleAction:function(e){var t=this,n=e.action,i=t.$changes.find(".drilling-orderChanges-comment"),o=i.val().trim(),a={qtyDone:parseInt(t.$id("qtyDone").val(),10)};if("comment"!==n||o){var s=t.$(".btn").prop("disabled",!0);t.act(n,o,a).fail(function(){s.prop("disabled",!1)}).done(function(){"comment"===n?(i.val(""),s.prop("disabled",!1)):t.closeDialog()})}else r.closeDialog()},act:function(t,n,i){var o=this,a=e.assign({action:t,orderId:o.model.id,comment:n},i);return o.model.collection.act(a,function(e){if(e)return r.msg.show({type:"error",time:3e3,text:o.t("MSG:"+t+":failure")})})},tryOpenDocument:function(e){var t=this;r.msg.loading(),e.dataset.checking="1",t.ajax({method:"HEAD",url:e.href}).done(function(){t.openDocumentWindow(e)}).always(function(){e.parentElement.textContent=e.textContent,e.dataset.checking="0",e.dataset.checked="1",r.msg.loaded()})},openDocumentWindow:function(e){var t=this,n=!1,r=e.textContent.trim(),i=window.screen,o=i.availHeight;i.availWidth===window.innerWidth&&i.availHeight!==window.innerHeight&&(o*=.9);var a=.8*i.availWidth,s=.9*o,u=Math.floor((i.availWidth-a)/2),c="resizable,scrollbars,location=no,top="+Math.floor((o-s)/2)+",left="+u+",width="+Math.floor(a)+",height="+Math.floor(s),l="WMES_ORDER_DOCUMENT_PREVIEW",f=window.open(e.href,l,c);f&&(d=r,p=f,clearInterval(t.timers[l]),t.timers[l]=setInterval(function(){f.closed?(d=null,p=null,clearInterval(t.timers[l])):!n&&f.ready&&(n=!0,f.focus())},250))},onVkbFocused:function(){clearTimeout(this.timers.hideVkb)},onDialogShown:function(e){this.closeDialog=e.closeDialog.bind(e)},onWindowResize:function(){this.$id("filler").css("height",this.calcFillerHeight()+"px"),this.resizeChanges()}})}),define("app/wmes-drilling/templates/queue",["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){void 0!==e&&null!==e&&(__output+=e)}with(locals||{})__append('<div class="drilling-queue">\n  '),orders.length?(__append('\n  <table id="'),__append(idPrefix),__append('-orders" class="drilling-orders">\n    '),orders.forEach(function(e){__append("\n    "),__append(renderQueueOrder(e)),__append("\n    ")}),__append("\n  </table>\n  <hr>\n  ")):(__append('\n  <p id="'),__append(idPrefix),__append('-empty" class="drilling-queue-empty">'),__append(t("wmes-drilling","empty")),__append("</p>\n  ")),__append("\n</div>\n");return __output}}),define("app/wmes-drilling/views/QueueView",["underscore","jquery","app/i18n","app/user","app/viewport","app/core/View","app/planning/util/contextMenu","./OrderDetailsView","app/wmes-drilling/templates/queue","app/wmes-drilling/templates/queueOrder"],function(e,t,n,r,i,o,a,s,u,c){"use strict";return o.extend({template:u,modelProperty:"orders",events:{"mousedown .drilling-order":function(e){this.lastClickEvent=e,this.options.embedded&&(this.timers.showMenu&&clearTimeout(this.timers.showMenu),this.timers.showMenu=setTimeout(this.showMenu.bind(this,e),300))},"mouseup .drilling-order":function(e){if(!this.options.embedded||this.timers.showMenu){clearTimeout(this.timers.showMenu),this.timers.showMenu=null;var t=this.lastClickEvent;this.lastClickEvent=null,t&&0===e.button&&""===window.getSelection().toString()&&(window.parent===window||t.offsetY===e.offsetY&&t.offsetX===e.offsetX&&t.screenX===e.screenX&&t.screenY===e.screenY)&&this.handleOrderClick(e.currentTarget.dataset.orderId,this.$(e.target).closest("td")[0].dataset.property)}},"contextmenu .visible":function(e){return this.showMenu(e),!1}},initialize:function(){this.onScroll=e.debounce(this.onScroll.bind(this),100,!1),this.lastClickEvent=null,this.lastFocusedOrder=null,this.listenTo(this.orders,"reset",e.after(2,this.render)),this.listenTo(this.orders,"change",this.onChange),this.listenTo(this.orders,"focus",this.onFocus),this.listenTo(this.orders,"mrpSelected",this.toggleVisibility)},getTemplateData:function(){var e=this,t=null,n=null,r=e.orders.serialize().map(function(r){return(r={order:r,visible:e.orders.isVisible(r),first:!1,last:!1,commentVisible:!0,rowSpan:"rowSpan",view:"queue"}).visible&&(t||(t=r),n=r),r});return t&&(t.first=!0),n&&(n.last=!0),{orders:r,renderQueueOrder:this.renderPartialHtml.bind(this,c)}},afterRender:function(){var e=this.$order(this.lastFocusedOrder);e.length&&(this.el.parentNode.scrollTop=e[0].offsetTop+1)},$order:function(e){return this.$('.drilling-order[data-order-id="'+e+'"]')},handleOrderClick:function(e,t){if(!i.currentDialog){var n=this.orders.get(e);if(n){var r=n.get("followups");if(!r.length||"no"!==t&&"order"!==t){var o=this.$order(e)[0];o&&(this.$el.parent().animate({scrollTop:o.offsetTop+1},200),this.lastFocusedOrder=e);var a=new s({model:n,orders:this.orders,height:o?o.clientHeight:0,vkb:this.options.vkb,embedded:this.options.embedded});i.showDialog(a)}else this.onFocus(r[0])}}},showMenu:function(e){var t=this;t.timers.showMenu&&(clearTimeout(t.timers.showMenu),t.timers.showMenu=null);var n=t.orders.get(e.currentTarget.dataset.orderId);if(n){var i=n.get("order"),o=n.get("mrp"),s=[n.get("order")];r.can.viewOrders()&&(s.push({icon:"fa-file-o",label:t.t("menu:openOrder",{orderNo:"parent"}),handler:t.trigger.bind(t,"actionRequested","openOrder",{orderNo:i})}),n.get("childOrders").forEach(function(e){e.order!==i&&s.push({label:t.t("menu:openOrder",{orderNo:e.order}),handler:t.trigger.bind(t,"actionRequested","openOrder",{orderNo:e.order})})})),s.push({icon:"fa-print",label:t.t("menu:printOrder"),handler:t.trigger.bind(t,"actionRequested","printOrders",{filterProperty:"order",filterValue:i})},{icon:"fa-clipboard",label:t.t("menu:copyOrder"),handler:t.trigger.bind(t,"actionRequested","copyOrders",e,{filterProperty:"order",filterValue:i}),visible:!t.options.embedded},{label:t.t("menu:copyChildOrders"),handler:t.trigger.bind(t,"actionRequested","copyChildOrders",e,{filterProperty:"order",filterValue:i}),visible:!t.options.embedded},"-",t.t("menu:header:mrp",{mrp:o}),{icon:"fa-print",label:t.t("menu:printOrders"),handler:t.trigger.bind(t,"actionRequested","printOrders",{filterProperty:"mrp",filterValue:o})},{icon:"fa-clipboard",label:t.t("menu:copyOrders"),handler:t.trigger.bind(t,"actionRequested","copyOrders",e,{filterProperty:"mrp",filterValue:o}),visible:!t.options.embedded},{label:t.t("menu:copyChildOrders"),handler:t.trigger.bind(t,"actionRequested","copyChildOrders",e,{filterProperty:"mrp",filterValue:o}),visible:!t.options.embedded},{icon:"fa-download",label:t.t("menu:exportOrders"),handler:t.trigger.bind(t,"actionRequested","exportOrders",{filterProperty:"mrp",filterValue:o}),visible:!t.options.embedded}),s.push("-",t.t("menu:header:all"),{icon:"fa-print",label:t.t("menu:printOrders"),handler:t.trigger.bind(t,"actionRequested","printOrders",{filterProperty:null,filterValue:null})},{icon:"fa-clipboard",label:t.t("menu:copyOrders"),handler:t.trigger.bind(t,"actionRequested","copyOrders",e,{filterProperty:null,filterValue:null}),visible:!t.options.embedded},{label:t.t("menu:copyChildOrders"),handler:t.trigger.bind(t,"actionRequested","copyChildOrders",e,{filterProperty:null,filterValue:null}),visible:!t.options.embedded},{icon:"fa-download",label:t.t("menu:exportOrders"),handler:t.trigger.bind(t,"actionRequested","exportOrders",{filterProperty:null,filterValue:null}),visible:!t.options.embedded}),a.show(t,e.pageY,e.pageX,s)}},hideMenu:function(){a.hide(this)},toggleVisibility:function(){var e=this.orders;this.$(".drilling-order").each(function(){var t=e.get(this.dataset.orderId),n=!t||!e.isVisible(t.serialize());this.classList.toggle("hidden",n),this.classList.toggle("visible",!n)}),this.$(".drilling-order.is-first, .drilling-order.is-last").removeClass("is-first is-last");var t=this.$(".visible");t.first().addClass("is-first"),t.last().addClass("is-last"),this.el.scrollTop=0},onScroll:function(){var e=this.$(".visible");if(e.length){var t=this.el.parentNode;if(t){this.lastFocusedOrder=e[0].dataset.orderId;for(var n=t.scrollTop,r=0;r<e.length;++r){var i=e[r];if(i.offsetTop>n)break;this.lastFocusedOrder=i.dataset.orderId,n>i.offsetTop+26&&e[r+1]&&(this.lastFocusedOrder=e[r+1].dataset.orderId)}}}},onChange:function(e){var t=this.$order(e.id),n=e.serialize();t.replaceWith(c({order:n,visible:this.orders.isVisible(n),first:t.hasClass("is-first"),last:t.hasClass("is-last"),commentVisible:!0,rowSpan:"rowSpan",view:"queue"}))},onFocus:function(e,t){var n=this.$order(e)[0];n?(n.classList.contains("hidden")&&this.orders.selectMrp(n.dataset.mrp),this.$el.parent().animate({scrollTop:n.offsetTop+1},200),this.lastFocusedOrder=e,t&&t.showDetails&&this.handleOrderClick(e)):this.handleOrderClick(e)}})}),define("app/wmes-drilling/templates/list",["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){void 0!==e&&null!==e&&(__output+=e)}with(locals||{})__append('<div class="drilling-list '),__append(showTimes?"drilling-list-with-times":""),__append('">\n  '),orders.forEach(function(e){__append('\n  <div class="drilling-list-item '),__append(isVisible(e)?"visible":"hidden"),__append('" data-order-id="'),__append(e._id),__append('" data-status="'),__append(e.status),__append('" data-mrp="'),__append(e.mrp),__append('" data-cabin="'),__append(e.cabin),__append('">\n    <span class="drilling-list-order">'),__append(e.order),__append("</span>\n    "),showTimes&&e.startedAtTime&&(__append('\n    <span class="drilling-list-time"><i class="fa fa-hourglass-start"></i> '),__append(e.startedAtTime),__append("</span>\n    ")),__append("\n    "),showTimes&&(__append("\n    "),"partial"===e.status?(__append('\n    <span class="drilling-list-time"><i class="fa fa-check"></i> '),__append(e.qtyDone.toLocaleString()),__append("/"),__append(e.qty.toLocaleString()),__append("</span>\n    ")):e.finishedAtTime&&(__append('\n    <span class="drilling-list-time"><i class="fa fa-hourglass-end"></i> '),__append(e.finishedAtTime),__append("</span>\n    ")),__append("\n    "),e.cabin&&(__append('\n    <span class="drilling-list-cabin">'),__append(e.cabin),__append("</span>\n    ")),__append("\n    ")),__append("\n  </div>\n  ")}),__append('\n  <div class="drilling-list-item">&nbsp;</div>\n</div>\n');return __output}}),define("app/wmes-drilling/views/ListView",["underscore","jquery","app/i18n","app/time","app/viewport","app/core/View","app/wmes-drilling/templates/list"],function(e,t,n,r,i,o,a){"use strict";return o.extend({template:a,events:{"mousedown .drilling-list-item":function(e){this.lastClickEvent=e},"mouseup .drilling-list-item":function(e){var t=this.lastClickEvent;t&&0===e.button&&((window.parent===window||t.offsetY===e.offsetY&&t.offsetX===e.offsetX&&t.screenX===e.screenX&&t.screenY===e.screenY)&&this.handleItemClick(e.currentTarget.dataset.orderId),this.lastClickEvent=null)}},initialize:function(){this.onScroll=e.debounce(this.onScroll.bind(this),100,!1),this.lastClickEvent=null,this.lastVisibleItem=null,this.listenTo(this.model,"reset",e.after(2,this.render)),this.listenTo(this.model,"change",this.onChange),this.listenTo(this.model,"mrpSelected",this.toggleVisibility)},serialize:function(){return{idPrefix:this.idPrefix,showTimes:this.options.showTimes,isVisible:this.model.isVisible.bind(this.model),orders:this.serializeOrders()}},serializeOrders:function(){var e=this.options.filter,t=this.options.sort,n=this.model.serialize();return e&&(n=n.filter(e)),t&&(n=n.sort(t)),n},afterRender:function(){var e=this.$item(this.lastVisibleItem);e.length&&(this.el.parentNode.scrollTop=e[0].offsetTop)},$item:function(e){return this.$('.drilling-list-item[data-order-id="'+e+'"]')},handleItemClick:function(e){e&&this.model.trigger("focus",e)},onScroll:function(){var e=this.$(".visible");if(e.length){var t=this.el.parentNode;if(t){this.lastVisibleItem=e[0].dataset.orderId;for(var n=t.scrollTop,r=0;r<e.length;++r){var i=e[r];if(i.offsetTop>n)break;this.lastVisibleItem=i.dataset.orderId,n>i.offsetTop+25&&e[r+1]&&(this.lastVisibleItem=e[r+1].dataset.orderId)}}}},onChange:function(e){var t=this.options.filter,n=this.options.sort,r=this.$item(e.id);t||n?!r.length||t(e.serialize())?this.render():r.remove():r.attr("data-status",e.get("status"))},toggleVisibility:function(){var e=this.model;this.$(".drilling-list-item").each(function(){if(this.nextElementSibling){var t=e.get(this.dataset.orderId),n=!t||!e.isVisible(t.serialize());this.classList.toggle("hidden",n),this.classList.toggle("visible",!n)}})}})}),define("app/wmes-drilling/templates/datePicker",["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){void 0!==e&&null!==e&&(__output+=e)}with(locals||{})__append('<form>\n  <div class="drilling-datePicker-input">\n    <input id="'),__append(idPrefix),__append('-day" name="day" class="form-control" value="'),__append(day),__append('" pattern="^[0-9]{1,2}$" maxlength="2" required placeholder="'),__append(helpers.t("datePicker:placeholder:day")),__append('" data-vkb="numeric" min="1" max="31">\n    <span class="drilling-datePicker-separator">-</span>\n    <input id="'),__append(idPrefix),__append('-month" name="month" class="form-control" value="'),__append(month),__append('" pattern="^[0-9]{1,2}$" maxlength="2" required placeholder="'),__append(helpers.t("datePicker:placeholder:month")),__append('" data-vkb="numeric" min="1" max="12">\n    <span class="drilling-datePicker-separator">-</span>\n    <input id="'),__append(idPrefix),__append('-year" name="year" class="form-control" value="'),__append(year),__append('" pattern="^[0-9]{4}$" maxlength="4" required placeholder="'),__append(helpers.t("datePicker:placeholder:year")),__append('" data-vkb="numeric" min="2017" max="2100">\n  </div>\n  <div class="drilling-datePicker-buttons">\n    '),[-2,-1,0,1,2].forEach(function(e){__append('\n    <button class="btn btn-default" type="button" data-days="'),__append(e),__append('">'),__append(helpers.t("datePicker:d"+e)),__append("</button>\n    ")}),__append('\n    <button class="btn btn-primary">'),__append(helpers.t("datePicker:submit")),__append("</button>\n  </div>\n</form>\n");return __output}}),define("app/wmes-drilling/views/DatePickerView",["app/i18n","app/time","app/core/View","app/core/util/getShiftStartInfo","app/wmes-drilling/templates/datePicker"],function(e,t,n,r,i){"use strict";return n.extend({template:i,nlsDomain:"wmes-drilling",dialogClassName:"drilling-datePicker-dialog",events:{"focus [data-vkb]":function(e){this.options.vkb&&this.options.vkb.show(e.target,this.onVkbValueChange)},"click .btn[data-days]":function(e){var t=r(Date.now()).moment.add(+e.currentTarget.dataset.days,"days");this.$id("day").val(t.format("DD")),this.$id("month").val(t.format("MM")),this.$id("year").val(t.format("YYYY")),this.options.vkb&&this.options.vkb.hide()},submit:function(){var e=this.getMoment();return this.trigger("picked",e.isValid()?e.format("YYYY-MM-DD"):this.model.date),!1}},initialize:function(){this.onVkbValueChange=this.onVkbValueChange.bind(this)},destroy:function(){this.options.vkb&&this.options.vkb.hide()},getTemplateData:function(){var e=t.getMoment(this.model.date,"YYYY-MM-DD");return{day:e.format("DD"),month:e.format("MM"),year:e.format("YYYY")}},getMoment:function(){var e=this.$id("day").val(),n=this.$id("month").val(),r=this.$id("year").val()+"-"+n+"-"+e;return t.getMoment(r,"YYYY-MM-DD")},onVkbValueChange:function(){var e=this.getMoment();this.$id("day")[0].setCustomValidity(e.isValid()?"":this.t("datePicker:invalid"))}})}),define("app/wmes-drilling/templates/userPicker",["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){void 0!==e&&null!==e&&(__output+=e)}with(locals||{})__append('<form class="drilling-userPicker">\n  <div id="'),__append(idPrefix),__append('-users" class="drilling-userPicker-users" style="max-height: '),__append(maxHeight),__append('px"><i class="fa fa-spinner fa-spin"></i></div>\n  <div class="drilling-userPicker-actions">\n    <button type="submit" class="btn btn-primary">'),__append(t("wmes-drilling","userPicker:logIn")),__append('</button>\n    <button type="button" class="btn btn-danger">'),__append(t("wmes-drilling","userPicker:logOut")),__append("</button>\n  </div>\n</form>\n");return __output}}),define("app/wmes-drilling/views/UserPickerView",["underscore","app/i18n","app/time","app/core/View","app/wmes-drilling/templates/userPicker"],function(e,t,n,r,i){"use strict";return r.extend({template:i,dialogClassName:"drilling-userPicker-dialog",events:{"click .drilling-userPicker-user":function(e){this.$(".active").removeClass("active"),e.currentTarget.classList.add("active")},"click .btn-danger":function(){this.trigger("picked",null)},submit:function(){var e=this.$(".active")[0],t=e?{id:e.dataset.id,label:e.textContent.trim()}:null;return this.trigger("picked",t),!1}},getTemplateData:function(){return{maxHeight:this.calcHeight()}},calcHeight:function(){return window.innerHeight-62-65},afterRender:function(){this.loadUsers()},loadUsers:function(){var e=this;e.$id("users").html('<i class="fa fa-spinner fa-spin"></i>');var t=e.ajax({url:"/users?select(login,firstName,lastName,searchName)&privileges=in=(DRILLING%3ADRILLER,DRILLING%3AMANAGE)"});t.fail(function(){e.$id("users").find(".fa-spinner").removeClass("fa-spin")}),t.done(function(t){e.renderUsers(t.collection||[])})},renderUsers:function(t){(t=t.map(function(e){var t=e.lastName;return e.firstName?(t&&(t+=" "),t+=e.firstName):t=e.login,{id:e._id,label:t}})).sort(function(e,t){return e.label.localeCompare(t.label,void 0,{ignorePunctuation:!0})});var n=t.map(function(t){return'<div class="drilling-userPicker-user" data-id="'+t.id+'">'+e.escape(t.label)+"</div>"});this.$id("users").html(n),this.model.user&&this.$('.drilling-userPicker-user[data-id="'+this.model.user.id+'"]').click()}})}),define("app/wmes-drilling/templates/page",["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){void 0!==e&&null!==e&&(__output+=e)}with(locals||{})__append('<div class="drilling" style="height: '),__append(height),__append('">\n  <div class="drilling-left">\n    <div id="'),__append(idPrefix),__append('-todo" class="drilling-list-container is-scrollable"></div>\n    <input id="'),__append(idPrefix),__append('-search" class="drilling-search is-empty" data-vkb="numeric" maxlength="9" placeholder="&#xF002;">\n  </div>\n  <div class="drilling-center">\n    <div id="'),__append(idPrefix),__append('-queue" class="drilling-queue-container is-scrollable"></div>\n    <div class="drilling-tabs-container">\n      <div id="'),__append(idPrefix),__append('-tabs" class="drilling-tabs">\n        '),__append(renderTabs({tabs:tabs})),__append('\n      </div>\n    </div>\n  </div>\n  <div class="drilling-right">\n    <div id="'),__append(idPrefix),__append('-done" class="drilling-list-container is-scrollable"></div>\n    <div id="'),__append(idPrefix),__append('-totals" class="drilling-totals">\n      '),__append(renderTotals({totals:totals})),__append('\n    </div>\n  </div>\n  <div id="'),__append(idPrefix),__append('-vkb"></div>\n</div>\n');return __output}}),define("app/wmes-drilling/templates/mrpTabs",["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){void 0!==e&&null!==e&&(__output+=e)}with(locals||{})tabs.forEach(function(e){__append('\n<div class="drilling-tab '),__append(e.active?"is-active":""),__append('" data-mrp="'),__append(e.mrp),__append('">\n  '),e.description?(__append('\n  <span class="drilling-tab-description">'),__append(escapeFn(e.description)),__append("</span>\n  ")):(__append("\n  "),__append(escapeFn(e.label)),__append("\n  ")),__append("\n</div>\n")}),__append('\n<div class="drilling-tab"></div>\n');return __output}}),define("app/wmes-drilling/templates/totals",["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){void 0!==e&&null!==e&&(__output+=e)}with(locals||{})_.forEach(totals,function(e,n){__append("\n"),/painted/.test(n)||(__append("\n"),/^finished/.test(n)?(__append('\n<div class="drilling-totals-split">\n  <div class="drilling-totals-total" data-status="finished" title="'),__append(escapeFn(t("wmes-drilling","status:finished"))),__append('">'),__append(totals.finished),__append('</div>\n  <div class="drilling-totals-total" data-status="painted" title="'),__append(escapeFn(t("wmes-drilling","status:painted"))),__append('">'),__append(totals.painted),__append("</div>\n</div>\n")):(__append('\n<div class="drilling-totals-total" data-status="'),__append(n),__append('" title="'),__append(escapeFn(t("wmes-drilling","status:"+n))),__append('">'),__append(e),__append("</div>\n")),__append("\n"))}),__append("\n");return __output}}),define("app/wmes-drilling/templates/printPage",["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){void 0!==e&&null!==e&&(__output+=e)}with(locals||{})__append('<!DOCTYPE html>\n<html>\n<head>\n  <meta charset="utf-8">\n  <title>'),__append(helpers.t("printPage:title",{date:time.utc.format(date,"LL")})),__append('</title>\n  <style>\n    @page {\n      size: A4 portrait;\n      margin: 10mm;\n    }\n    * {\n      margin: 0;\n      padding: 0;\n      line-height: 1;\n      box-sizing: border-box;\n    }\n    body {\n      margin: 15px;\n      font-family: Verdana, sans-serif;\n      font-size: 12px;\n      text-rendering: optimizeLegibility;\n      color: #000;\n      background: #FFF;\n      text-align: center;\n    }\n    .page {\n      margin: auto;\n      text-align: left;\n      width: 21cm;\n      padding: 10mm;\n    }\n    header {\n      padding-bottom: 5mm;\n      margin-bottom: 5mm;\n      font-size: 32px;\n      font-weight: bold;\n      text-align: left;\n      border-bottom: 1px solid #000;\n    }\n    footer {\n      display: flex;\n      padding-top: 5mm;\n      margin-top: 5mm;\n      border-top: 1px solid #000;\n      font-size: 10px;\n    }\n    footer p:first-child {\n      margin-bottom: 3px;\n    }\n    footer > div:first-child {\n      flex: 1 1 auto;\n    }\n    footer > div:last-child {\n      flex: 1 1 auto;\n      text-align: right;\n    }\n    .props {\n      float: right;\n      display: flex;\n    }\n    .prop {\n      margin-left: 5mm;\n    }\n    .prop > span:first-child {\n      display: block;\n      margin-bottom: 3px;\n      font-size: 16px;\n      font-weight: bold;\n    }\n    .prop > span:last-child {\n      display: block;\n      font-size: 16px;\n      font-weight: normal;\n    }\n    table {\n      width: 100%;\n      font-size: 12px;\n      border-collapse: collapse;\n    }\n    th {\n      text-align: left;\n      padding: 0 10px 4px 0;\n      white-space: nowrap;\n    }\n    td {\n      padding: 4px 10px 4px 0;\n      white-space: nowrap;\n      width: 1%;\n    }\n    th:last-child,\n    td:last-child {\n      padding-right: 0;\n    }\n    .name {\n      width: auto;\n    }\n    .name > span {\n      display: block;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      max-width: 340px;\n    }\n    .no,\n    .qty,\n    .mrp {\n      text-align: right;\n    }\n    .is-component + .is-order > td {\n      border-top: 1px solid #ddd;\n    }\n    #info {\n      position: fixed;\n      top: 0;\n      left: 0;\n      padding: 7px;\n      width: 100%;\n      background: #FFD1D1;\n      border-bottom: 1px solid #F8ACAC;\n      font-size: 28px;\n      text-align: center;\n    }\n    @media print {\n      body {\n        margin: 0;\n      }\n      .page {\n        width: 100%;\n        padding: 0;\n      }\n      .page + .page {\n        page-break-before: always;\n      }\n      .bd {\n        height: 900px;\n      }\n      #info {\n        display: none;\n      }\n    }\n  </style>\n</head>\n<body>\n<div id="info">'),__append(helpers.t("printPage:info")),__append("</div>\n"),pages.forEach(function(e,t){__append('\n<section class="page">\n  <header>\n    <div class="props">\n      <div class="prop">\n        <span>'),__append(helpers.t("printPage:date")),__append("</span>\n        <span>"),__append(escapeFn(time.utc.format(date,"dd, LL"))),__append("</span>\n      </div>\n      "),mrp&&(__append('\n      <div class="prop">\n        <span>'),__append(helpers.t("printPage:mrp")),__append("</span>\n        <span>"),__append(escapeFn(mrp)),__append(" "),__append("</span>\n      </div>\n      ")),__append("\n      "),orderNo&&(__append('\n      <div class="prop">\n        <span>'),__append(helpers.t("printPage:order")),__append("</span>\n        <span>"),__append(escapeFn(orderNo)),__append("</span>\n      </div>\n      ")),__append("\n    </div>\n    "),__append(helpers.t("printPage:hd")),__append('\n  </header>\n  <section class="bd">\n    <table>\n      <thead>\n        <th>'),__append(helpers.t("PROPERTY:no")),__append("</th>\n        <th>"),__append(helpers.t("PROPERTY:order")),__append("</th>\n        <th>"),__append(helpers.t("PROPERTY:nc12")),__append("</th>\n        <th>"),__append(helpers.t("PROPERTY:qty")),__append("</th>\n        <th></th>\n        <th>"),__append(helpers.t("PROPERTY:name")),__append("</th>\n        <th>"),__append(helpers.t("PROPERTY:mrp")),__append("</th>\n      </thead>\n      <tbody>\n      "),e.rows.forEach(function(e){__append('\n      <tr class="is-'),__append(e.type),__append('">\n        <td class="no">'),__append(e.no),__append('</td>\n        <td class="orderNo">'),__append(e.order),__append('</td>\n        <td class="nc12">'),__append(e.nc12),__append('</td>\n        <td class="qty">'),__append(e.qty.toLocaleString()),__append('</td>\n        <td class="unit">'),__append(e.unit),__append('</td>\n        <td class="name"><span>'),__append(escapeFn(e.name)),__append('</span></td>\n        <td class="mrp">'),__append(escapeFn(e.mrp)),__append("</td>\n      </tr>\n      ")}),__append("\n      </tbody>\n    </table>\n  </section>\n  <footer>\n    <div>\n      <p>"),__append(helpers.t("printPage:ft",{date:time.utc.format(date,"LL")})),__append("</p>\n      <p>"),__append(helpers.t("printPage:printed",{time:time.format(Date.now(),"LLLL"),user:user.getLabel()})),__append("</p>\n    </div>\n    <div>\n      "),__append(helpers.t("printPage:page",{n:t+1,total:pages.length})),__append("\n    </div>\n  </footer>\n</section>\n")}),__append("\n</body>\n</html>\n");return __output}}),define("app/wmes-drilling/templates/userPageAction",["underscore","jquery","app/i18n","app/time","app/user","app/core/util/forms"],function(_,$,t,time,user,forms){return function anonymous(locals,escapeFn,include,rethrow){escapeFn=escapeFn||function(e){return void 0==e?"":String(e).replace(_MATCH_HTML,encode_char)};var _ENCODE_HTML_RULES={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&#34;","'":"&#39;"},_MATCH_HTML=/[&<>'"]/g;function encode_char(e){return _ENCODE_HTML_RULES[e]||e}var __output="";function __append(e){void 0!==e&&null!==e&&(__output+=e)}with(locals||{})__append('<div class="drilling-userPicker-pageAction is-clickable">\n  '),signedIn?(__append("\n  "),__append(escapeFn(user.label)),__append("\n  ")):(__append("\n  "),__append(t("wmes-drilling","userPicker:guest")),__append("\n  ")),__append('\n  <i class="fa fa-user"></i>\n</div>\n');return __output}}),define("app/wmes-drilling/pages/DrillingPage",["underscore","jquery","app/i18n","app/time","app/user","app/viewport","app/core/View","app/core/util/bindLoadingMessage","app/core/util/getShiftStartInfo","app/core/util/html2pdf","app/core/util/embedded","app/core/util/pageActions","app/data/clipboard","app/production/views/VkbView","app/printers/views/PrinterPickerView","app/planning/util/contextMenu","../DrillingOrder","../DrillingOrderCollection","../DrillingSettingCollection","../views/QueueView","../views/ListView","../views/DatePickerView","../views/UserPickerView","app/wmes-drilling/templates/page","app/wmes-drilling/templates/mrpTabs","app/wmes-drilling/templates/totals","app/wmes-drilling/templates/printPage","app/wmes-drilling/templates/userPageAction"],function(e,t,n,r,i,o,a,s,u,c,l,d,p,f,h,m,g,y,v,b,_,w,A,S,T,k,R,E){"use strict";var N={started:1,partial:2,finished:3,painted:4};return a.extend({template:S,layoutName:"page",pageId:"drilling",modelProperty:"orders",breadcrumbs:function(){return[this.t("BREADCRUMB:base"),{href:"#drilling/"+this.orders.getDateFilter(),label:this.orders.getDateFilter("L"),template:function(e){return'<span class="drilling-breadcrumb"><a class="fa fa-chevron-left" data-action="prev"></a><a href="'+e.href+'" data-action="showPicker">'+e.label+'</a><a class="fa fa-chevron-right" data-action="next"></a></span>'}}]},actions:function(){var e=this,t=[];return l.isEnabled()?t.push({id:"user",template:function(){return E({signedIn:!!e.orders.user,user:e.orders.user})},afterRender:function(t){t.find(".is-clickable").on("click",e.showUserPickerDialog.bind(e))}}):t.push({type:"link",icon:"arrows-alt",callback:e.toggleFullscreen.bind(e)},{label:e.t("PAGE_ACTION:paintShop"),icon:"paint-brush",privileges:"PAINT_SHOP:VIEW",href:"#paintShop/"+e.orders.getDateFilter()},{href:"#drilling;settings?tab=planning",icon:"cogs",label:e.t("PAGE_ACTION:settings"),privileges:"DRILLING:MANAGE"}),t},localTopics:{"socket.connected":function(){this.$el.removeClass("drilling-is-disconnected")},"socket.disconnected":function(){this.$el.addClass("drilling-is-disconnected")}},remoteTopics:{"drilling.orders.changed.*":function(e){var t=this.orders.getDateFilter();r.utc.format(e.date,"YYYY-MM-DD")===t&&this.orders.applyChanges(e.changes)},"drilling.orders.updated.*":function(e){var t=this.orders.get(e._id);t&&(t.set(g.parse(e)),null==e.qtyDrill&&null==e.status||this.orders.recountTotals())}},events:{"mousedown .drilling-tab":function(e){0===e.button&&(this.timers.showMrpMenu&&clearTimeout(this.timers.showMrpMenu),this.timers.showMrpMenu=setTimeout(this.showMrpMenu.bind(this,e),300))},"click .drilling-tab[data-mrp]":function(e){this.timers.showMrpMenu&&(clearTimeout(this.timers.showMrpMenu),this.timers.showMrpMenu=null,this.orders.selectMrp(e.currentTarget.dataset.mrp))},"contextmenu .drilling-tab":function(e){return this.showMrpMenu(e),!1},"focus #-search":function(e){this.vkbView&&(clearTimeout(this.timers.hideVkb),this.vkbView.show(e.target,this.onVkbValueChange),this.vkbView.$el.css({left:"195px",bottom:"67px",marginLeft:"0"}))},"blur #-search":function(){this.vkbView&&this.scheduleHideVkb()},"input #-search":"onVkbValueChange"},initialize:function(){this.onResize=e.debounce(this.resize.bind(this),30),this.onVkbValueChange=this.onVkbValueChange.bind(this),this.defineModels(),this.defineViews(),this.defineBindings(),this.setView("#-queue",this.queueView),this.setView("#-todo",this.todoView),this.setView("#-done",this.doneView),l.isEnabled()&&this.setView("#-vkb",this.vkbView)},setUpLayout:function(e){this.layout=e},destroy:function(){this.hideMenu(),t(".modal").addClass("fade"),t(document.body).css("overflow","").removeClass("drilling-is-fullscreen drilling-is-embedded"),t(window).off("."+this.idPrefix),t(document).off("."+this.idPrefix),this.orderDetailsWindow&&(this.orderDetailsWindow.close(),this.orderDetailsWindow=null)},defineModels:function(){this.settings=s(new v(null,{pubsub:this.pubsub}),this),this.orders=s(y.forDate(this.options.date,{selectedMrp:this.options.selectedMrp||"all",settings:this.settings,user:JSON.parse(sessionStorage.getItem("WMES_DRILL_USER")||"null")}),this)},defineViews:function(){this.vkbView=l.isEnabled()?new f:null,this.todoView=new _({model:this.orders,showTimes:!1,showSearch:!0,showTotals:!1,vkb:this.vkbView,filter:function(e){return"new"===e.status||"cancelled"===e.status}}),this.doneView=new _({model:this.orders,showTimes:!0,showSearch:!1,showTotals:!0,filter:function(e){return N[e.status]>=1},sort:function(e,t){return"started"===e.status&&"started"===t.status||"partial"===e.status&&"partial"===t.status?e.startedAt-t.startedAt:e.status!==t.status?N[e.status]-N[t.status]:t.startedAt-e.startedAt}}),this.queueView=new b({orders:this.orders,vkb:this.vkbView,embedded:l.isEnabled()})},defineBindings:function(){var n=this,r=n.idPrefix;n.listenTo(n.orders,"reset",e.after(2,n.onOrdersReset)),n.listenTo(n.orders,"mrpSelected",n.onMrpSelected),n.listenTo(n.orders,"totalsRecounted",n.renderTotals),n.listenTo(n.queueView,"actionRequested",n.onActionRequested),t(document).on("click."+r,".drilling-breadcrumb",n.onBreadcrumbsClick.bind(n)),t(window).on("resize."+r,n.onResize),n.once("afterRender",function(){l.ready(),n.onOrdersReset()})},load:function(e){return e(this.settings.fetch({reset:!0}),this.orders.fetch({reset:!0}))},getTemplateData:function(){return{embedded:l.isEnabled(),height:this.calcInitialHeight()+"px",renderTabs:T,renderTotals:k,tabs:this.serializeTabs(),totals:this.serializeTotals()}},serializeTabs:function(){var e=this,t=e.orders;return["all"].concat(t.allMrps||[]).map(function(r){return{mrp:r,label:r,description:n.has("wmes-drilling","mrp:"+r)?e.t("mrp:"+r):"",active:t.selectedMrp===r}})},serializeTotals:function(){return this.orders.serializeTotals()},beforeRender:function(){document.body.style.overflow="hidden",document.body.classList.toggle("drilling-is-fullscreen",this.isFullscreen()),document.body.classList.toggle("drilling-is-embedded",l.isEnabled())},afterRender:function(){this.$id("todo").on("scroll",this.todoView.onScroll.bind(this.todoView)),this.$id("queue").on("scroll",this.queueView.onScroll.bind(this.queueView)),this.$id("done").on("scroll",this.doneView.onScroll.bind(this.doneView)),t(".modal.fade").removeClass("fade"),l.render(this),this.resize()},resize:function(){this.el.style.height=this.calcHeight()+"px"},isFullscreen:function(){return l.isEnabled()||this.options.fullscreen||window.innerWidth<=800||window.outerWidth===window.screen.width&&window.outerHeight===window.screen.height},calcInitialHeight:function(){var e=window.innerHeight-15;return this.isFullscreen()?e-=64:e-=151,e},calcHeight:function(){var e=this.isFullscreen(),n=window.innerHeight-15;return document.body.classList.toggle("drilling-is-fullscreen",e),n-=e?t(".hd").outerHeight(!0)+30:t(".hd").outerHeight(!0)+t(".ft").outerHeight(!0)},toggleFullscreen:function(){this.options.fullscreen=!this.options.fullscreen,this.updateUrl(),this.resize()},renderTabs:function(){this.$id("tabs").html(T({tabs:this.serializeTabs()}))},renderTotals:function(){this.$id("totals").html(k({totals:this.serializeTotals()}))},updateUrl:function(){l.isEnabled()||this.broker.publish("router.navigate",{url:this.genClientUrl(),trigger:!1,replace:!0})},genClientUrl:function(){var e=[];return"all"!==this.orders.selectedMrp&&e.push("mrp="+this.orders.selectedMrp),this.options.fullscreen&&e.push("fullscreen=1"),this.orders.genClientUrl()+(e.length?"?":"")+e.join("&")},showMrpMenu:function(e){this.timers.showMrpMenu&&(clearTimeout(this.timers.showMrpMenu),this.timers.showMrpMenu=null);var t=l.isEnabled(),n=e.currentTarget.dataset.mrp||null;"all"===n&&(n=null);var r={filterProperty:n?"mrp":null,filterValue:n},i=[this.t("menu:header:"+(n?"mrp":"all"),{mrp:n}),{icon:"fa-clipboard",label:this.t("menu:copyOrders"),handler:this.handleCopyOrdersAction.bind(this,e,r),visible:!t},{icon:"fa-clipboard",label:this.t("menu:copyChildOrders"),handler:this.handleCopyChildOrdersAction.bind(this,e,r),visible:!t},{icon:"fa-print",label:this.t("menu:printOrders"),handler:this.handlePrintOrdersAction.bind(this,r)},{icon:"fa-download",label:this.t("menu:exportOrders"),handler:this.handleExportOrdersAction.bind(this,r),visible:!t}];m.show(this,e.pageY,e.pageX,i)},hideMenu:function(){m.hide(this)},handleOpenOrderAction:function(e){var t=this,n="/#orders/"+e.orderNo;if(l.isEnabled()){if(t.orderDetailsWindow&&!t.orderDetailsWindow.closed)return t.orderDetailsWindow.location.href=n,void t.orderDetailsWindow.focus();var r=Math.min(window.screen.availWidth-200,1500),i=Math.min(window.screen.availHeight-160,800),o=window.screen.availWidth-r-80,a=window.open("/#orders/"+e.orderNo,"WMES_ORDER_DETAILS","top=80,left="+o+",width="+r+",height="+i);a&&(a.onPageShown=function(){a&&!a.closed&&(a.focus(),t.orderDetailsWindow=a)},a.onfocus=function(){clearTimeout(t.timers.closeOrderDetails)},a.onblur=function(){t.timers.closeOrderDetails=setTimeout(function(){t.orderDetailsWindow&&(t.orderDetailsWindow.close(),t.orderDetailsWindow=null)},3e4)},a.focus())}else window.open(n)},handleCopyOrdersAction:function(e,t){var n=this,r=e.currentTarget,i=e.pageX,o=e.pageY,a=t.filterProperty,s=t.filterValue,u=t.drilling;p.copy(function(e){if(e){var t=[],c={};n.orders.serialize().forEach(function(e){if(!u||e.drilling){var n=e.order;if("order"===a){if(n!==s)return}else{if("cancelled"===e.status)return;if("mrp"===a&&e.mrp!==s)return}c[n]||(t.push(n),c[n]=!0)}}),e.setData("text/plain",t.join("\r\n")),p.showTooltip(n,r,i,o,{title:n.t("menu:copyOrders:success")})}})},handleCopyChildOrdersAction:function(e,t){var n=this,r=e.currentTarget,i=e.pageX,o=e.pageY,a=t.filterProperty,s=t.filterValue;p.copy(function(e){if(e){var t=[];n.orders.serialize().forEach(function(e){var n=e.order;if("order"===a){if(n!==s)return}else{if("cancelled"===e.status)return;if("mrp"===a&&e.mrp!==s)return}e.childOrders.forEach(function(e){t.push(e.order)})}),e.setData("text/plain",t.join("\r\n")),p.showTooltip(n,r,i,o,{title:n.t("menu:copyChildOrders:success")})}})},handlePrintOrdersAction:function(e,t){var n=this,r=e.filterProperty,i=e.filterValue;t.contextMenu.tag="paintShop",h.contextMenu(t,function(e){var t=n.orders.filter(function(e){return"cancelled"!==e.get("status")&&(!i||e.get(r)===i)});if(t.length){var o=n.renderPartialHtml(R,{date:+n.orders.getDateFilter("x"),mrp:i?"order"===r?t[0].get("mrp"):i:null,orderNo:"order"===r?i:null,pages:n.serializePrintPages(t)});c(o,e)}})},handleExportOrdersAction:function(e){var t="/drilling/orders;export.xlsx?sort(date,no)&limit(0)&date="+this.orders.getDateFilter();"mrp"===e.filterProperty&&(t+="&mrp="+e.filterValue),d.exportXlsx(t)},serializePrintPages:function(e){var t=[{rows:[]}],n=function(e){var n=t[t.length-1];44===n.rows.length?t.push({rows:[e]}):n.rows.push(e)};return e.forEach(function(e){n({type:"order",no:e.get("no")+".",order:e.get("order"),nc12:e.get("nc12"),qty:e.get("qty"),unit:"PCE",name:e.get("name"),mrp:e.get("mrp")}),e.get("childOrders").forEach(function(e){n({type:"childOrder",no:"",order:e.order,nc12:e.nc12,qty:e.qty,unit:"PCE",name:e.name,mrp:""}),e.components.forEach(function(e){g.isComponentBlacklisted(e)||n({type:"component",no:"",order:"",nc12:e.nc12,qty:Math.ceil(e.qty),unit:e.unit,name:e.name,mrp:""})})})}),t},scheduleHideVkb:function(){var e=this;clearTimeout(e.timers.hideVkb),e.vkbView.isVisible()&&(e.timers.hideVkb=setTimeout(function(){e.vkbView.hide(),e.vkbView.$el.css({left:"",bottom:"",marginLeft:""}),e.$id("search").val("").addClass("is-empty").css("background","")},250))},searchOrder:function(e){var t=this;t.vkbView&&t.vkbView.hide();var n=t.$id("search").blur(),i=t.orders.getFirstByOrderNo(e);if(i)return n.val("").addClass("is-empty").css("background",""),i.get("mrp")!==t.orders.selectedMrp&&t.orders.selectMrp(i.get("mrp")),void t.orders.trigger("focus",i.id,{showDetails:!0});n.prop("disabled",!0),o.msg.loading();var a=this.ajax({url:"/drilling/orders?select(date,mrp)&limit(1)&or(eq(order,string:"+e+"),eq(childOrders.order,string:"+e+"))"});function s(){o.msg.show({type:"warning",time:2500,text:t.t("MSG:search:failure")}),u("#f2dede")}function u(e){n.css("background",e),setTimeout(function(){n.prop("disabled",!1).val("").addClass("is-empty").css("background","").focus()},1337)}a.fail(s),a.done(function(e){if(0===e.totalCount)return s();var n=e.collection[0];t.orders.setDateFilter(r.utc.format(n.date,"YYYY-MM-DD"));var i=t.orders.fetch({reset:!0});i.fail(s),i.done(function(){t.orders.selectedMrp!==n.mrp&&t.orders.selectMrp(n.mrp),t.orders.trigger("focus",n._id,{showDetails:!0}),u("#ddffdd")})}),a.always(function(){o.msg.loaded()})},onVkbValueChange:function(){var e=this.$id("search"),t=e.val();e.toggleClass("is-empty",""===t).css("background",/[^0-9]+/.test(t)?"#f2dede":""),/^[0-9]{9}$/.test(t)&&this.searchOrder(t)},onActionRequested:function(e){switch(e){case"openOrder":e=this.handleOpenOrderAction;break;case"copyOrders":e=this.handleCopyOrdersAction;break;case"copyChildOrders":e=this.handleCopyChildOrdersAction;break;case"printOrders":e=this.handlePrintOrdersAction;break;case"exportOrders":e=this.handleExportOrdersAction;break;default:return}e.apply(this,Array.prototype.splice.call(arguments,1))},onOrdersReset:function(){this.layout&&this.layout.setBreadcrumbs(this.breadcrumbs,this),this.updateUrl(),this.renderTabs(),this.renderTotals()},onMrpSelected:function(){this.updateUrl(),this.renderTotals(),this.$(".drilling-tab.is-active").removeClass("is-active"),this.$('.drilling-tab[data-mrp="'+this.orders.selectedMrp+'"]').addClass("is-active")},onBreadcrumbsClick:function(e){if("A"===e.target.tagName)return!e.target.classList.contains("disabled")&&("showPicker"===e.target.dataset.action?this.showDatePickerDialog():this.selectNonEmptyDate(e.target.dataset.action),!1)},setDate:function(e){this.orders.setDateFilter(e),this.promised(this.orders.fetch({reset:!0}))},showDatePickerDialog:function(){var e=new w({model:{date:this.orders.getDateFilter()},vkb:this.vkbView});this.listenTo(e,"picked",function(e){o.closeDialog(),e!==this.orders.getDateFilter()&&this.setDate(e)}),o.showDialog(e)},selectNonEmptyDate:function(e){t(".drilling-breadcrumb").find("a").addClass("disabled");var n=this,i=+n.orders.getDateFilter("x"),a="/drilling/orders?limit(1)&select(date)";a+="prev"===e?"&sort(-date)&date<"+i+"&date>"+(i-2592e6):"&sort(date)&date>"+i+"&date<"+(i+2592e6);var s=n.ajax({url:a});s.done(function(e){e.totalCount?n.setDate(r.utc.format(e.collection[0].date,"YYYY-MM-DD")):o.msg.show({type:"warning",time:2500,text:n.t("MSG:date:empty")})}),s.fail(function(){o.msg.show({type:"error",time:2500,text:n.t("MSG:date:failure")})}),s.always(function(){n.layout&&n.layout.setBreadcrumbs(n.breadcrumbs,n)})},showUserPickerDialog:function(){var e=this,t=new A({model:{user:e.orders.user}});e.listenTo(t,"picked",function(t){t?sessionStorage.setItem("WMES_DRILL_USER",JSON.stringify(t)):sessionStorage.removeItem("WMES_DRILL_USER"),e.orders.user=t,e.layout&&e.layout.setActions(e.actions,e),o.closeDialog()}),o.showDialog(t)}})}),define("app/nls/wmes-drilling",["app/nls/locale/en"],function(e){var t={lc:{pl:function(t){return e(t)},en:function(t){return e(t)}},c:function(e,t){if(!e)throw new Error("MessageFormat: Data required for '"+t+"'.")},n:function(e,t,n){if(isNaN(e[t]))throw new Error("MessageFormat: '"+t+"' isn't a number.");return e[t]-(n||0)},v:function(e,n){return t.c(e,n),e[n]},p:function(e,n,r,i,o){return t.c(e,n),e[n]in o?o[e[n]]:(n=t.lc[i](e[n]-r))in o?o[n]:o.other},s:function(e,n,r){return t.c(e,n),e[n]in r?r[e[n]]:r.other}};return{root:{"BREADCRUMB:base":function(e){return"Drilling"},"BREADCRUMB:settings":function(e){return"Settings"},"MSG:date:failure":function(e){return"Failed to find date."},"MSG:date:empty":function(e){return"No orders."},"MSG:start:failure":function(e){return"Failed to start order."},"MSG:continue:failure":function(e){return"Failed to continue order."},"MSG:finish:failure":function(e){return"Failed to finish order."},"MSG:reset:failure":function(e){return"Failed to reset order."},"MSG:cancel:failure":function(e){return"Failed to cancel order."},"MSG:search:failure":function(e){return"Order not found."},"PAGE_ACTION:paintShop":function(e){return"Paint shop"},"PAGE_ACTION:settings":function(e){return"Settings"},"PROPERTY:order":function(e){return"Order"},"PROPERTY:nc12":function(e){return"Product 12NC"},"PROPERTY:name":function(e){return"Product/component name"},"PROPERTY:qty":function(e){return"Quantity"},"PROPERTY:qtyDone":function(e){return"Quantity drilled"},"PROPERTY:qtyDrill":function(e){return"Quantity to drill"},"PROPERTY:mrp":function(e){return"MRP"},"PROPERTY:startTime":function(e){return"Assembly time"},"PROPERTY:placement":function(e){return"Placement"},"PROPERTY:no":function(e){return"No"},"PROPERTY:status":function(e){return"Status"},"PROPERTY:startedAt":function(e){return"Started at"},"PROPERTY:finishedAt":function(e){return"Finished at"},"PROPERTY:comment":function(e){return"Comment"},"status:new":function(e){return"Pending"},"status:started":function(e){return"Started"},"status:finished":function(e){return"Finished"},"status:painted":function(e){return"Painted"},"status:partial":function(e){return"Partial"},"status:cancelled":function(e){return"Cancelled"},"action:start":function(e){return"Start"},"action:finish":function(e){return"Finish"},"action:cancel":function(e){return"Cancel"},"action:reset":function(e){return"Reset"},"action:continue":function(e){return"Continue"},"action:comment":function(e){return"Comment"},"datePicker:d0":function(e){return"Today"},"datePicker:d+1":function(e){return"Tomorrow"},"datePicker:d+2":function(e){return"Day after tomorrow"},"datePicker:d-1":function(e){return"Yesterday"},"datePicker:d-2":function(e){return"Day before yesterday"},"datePicker:submit":function(e){return"Pick date"},"datePicker:placeholder:day":function(e){return"dd"},"datePicker:placeholder:month":function(e){return"mm"},"datePicker:placeholder:year":function(e){return"yyyy"},"datePicker:invalid":function(e){return"Enter a valid date."},"userPicker:guest":function(e){return"Log in"},"userPicker:logIn":function(e){return"Log in"},"userPicker:logOut":function(e){return"Log out"},"tabs:all":function(e){return"All"},empty:function(e){return"No orders for the specified date."},"orderChanges:change:reset":function(e){return"Reset order."},"orderChanges:change:cancel":function(e){return"Cancelled order."},"orderChanges:change:start":function(e){return"Started order."},"orderChanges:change:finish":function(e){return"Finished "+t.v(e,"qtyDone")+" PCE"},"orderChanges:change:continue":function(e){return"Resumed order."},"menu:header:mrp":function(e){return t.v(e,"mrp")},"menu:header:all":function(e){return"All MRPs"},"menu:openOrder":function(e){return"Open "+t.s(e,"orderNo",{parent:"parent order",other:"order "+t.v(e,"orderNo")})},"menu:copyOrder":function(e){return"Copy order no"},"menu:copyOrders":function(e){return"Copy order nos"},"menu:copyOrders:success":function(e){return"List copied to clipboard."},"menu:copyChildOrders":function(e){return"Copy child order nos"},"menu:copyChildOrders:success":function(e){return"List copied to clipboard."},"menu:printOrder":function(e){return"Print order"},"menu:printOrders":function(e){return"Print orders"},"menu:printOrders:all":function(e){return"Print all orders"},"menu:printOrders:mrp":function(e){return"Print "+t.v(e,"mrp")+" orders"},"menu:exportOrders":function(e){return"Export orders"},"settings:tab:planning":function(e){return"Planning"},"settings:planning:workCenters":function(e){return"WorkCenters"},"settings:planning:workCenters:help":function(e){return"WorkCenters used during the generation of the drilling order queue to load drilling child orders for the planned production orders."},"mrp:all":function(e){return"All MRPs"},"printPage:title":function(e){return"Drilling plan for "+t.v(e,"date")},"printPage:hd":function(e){return"Drilling plan"},"printPage:ft":function(e){return"Drilling plan for "+t.v(e,"date")+"."},"printPage:info":function(e){return"Press <kbd>Ctrl+P</kbd> to start printing."},"printPage:date":function(e){return"Date:"},"printPage:mrp":function(e){return"MRP:"},"printPage:order":function(e){return"Order:"},"printPage:page":function(e){return"Page "+t.v(e,"n")+" of "+t.v(e,"total")},"printPage:printed":function(e){return"Printed on "+t.v(e,"time")+" by "+t.v(e,"user")+" with WMES."}},pl:!0}}),define("app/nls/pl/wmes-drilling",["app/nls/locale/pl"],function(e){var t={lc:{pl:function(t){return e(t)},en:function(t){return e(t)}},c:function(e,t){if(!e)throw new Error("MessageFormat: Data required for '"+t+"'.")},n:function(e,t,n){if(isNaN(e[t]))throw new Error("MessageFormat: '"+t+"' isn't a number.");return e[t]-(n||0)},v:function(e,n){return t.c(e,n),e[n]},p:function(e,n,r,i,o){return t.c(e,n),e[n]in o?o[e[n]]:(n=t.lc[i](e[n]-r))in o?o[n]:o.other},s:function(e,n,r){return t.c(e,n),e[n]in r?r[e[n]]:r.other}};return{"BREADCRUMB:base":function(e){return"Wiercenie"},"BREADCRUMB:settings":function(e){return"Ustawienia"},"MSG:date:failure":function(e){return"Nie udało się znaleźć daty."},"MSG:date:empty":function(e){return"Brak zleceń."},"MSG:start:failure":function(e){return"Nie udało się rozpocząć zlecenia."},"MSG:continue:failure":function(e){return"Nie udało się kontynuować zlecenia."},"MSG:finish:failure":function(e){return"Nie udało się zakończyć zlecenia."},"MSG:reset:failure":function(e){return"Nie udało się zresetować zlecenia."},"MSG:cancel:failure":function(e){return"Nie udało się zignorować zlecenia."},"MSG:search:failure":function(e){return"Nie znaleziono zlecenia."},"PAGE_ACTION:paintShop":function(e){return"Malarnia"},"PAGE_ACTION:settings":function(e){return"Ustawienia"},"PROPERTY:order":function(e){return"Zlecenie"},"PROPERTY:nc12":function(e){return"12NC wyrobu"},"PROPERTY:name":function(e){return"Nazwa wyrobu/komponentu"},"PROPERTY:qty":function(e){return"Ilość"},"PROPERTY:qtyDone":function(e){return"Ilość wywiercona"},"PROPERTY:qtyDrill":function(e){return"Ilość do wiercenia"},"PROPERTY:mrp":function(e){return"Przepływ"},"PROPERTY:startTime":function(e){return"Początek montażu"},"PROPERTY:placement":function(e){return"Położenie"},"PROPERTY:no":function(e){return"Nr"},"PROPERTY:status":function(e){return"Status"},"PROPERTY:startedAt":function(e){return"Czas rozpoczęcia"},"PROPERTY:finishedAt":function(e){return"Czas zakończenia"},"PROPERTY:comment":function(e){return"Komentarz"},"status:new":function(e){return"Do realizacji"},"status:started":function(e){return"W realizacji"},"status:finished":function(e){return"Zrealizowane"},"status:painted":function(e){return"Malowane"},"status:partial":function(e){return"Niekompletne"},"status:cancelled":function(e){return"Anulowane"},"action:start":function(e){return"Rozpocznij"},"action:finish":function(e){return"Zakończ"},"action:cancel":function(e){return"Ignoruj"},"action:reset":function(e){return"Resetuj"},"action:continue":function(e){return"Kontynuuj"},"action:comment":function(e){return"Komentuj"},"datePicker:d0":function(e){return"Dzisiaj"},"datePicker:d+1":function(e){return"Jutro"},"datePicker:d+2":function(e){return"Pojutrze"},"datePicker:d-1":function(e){return"Wczoraj"},"datePicker:d-2":function(e){return"Przedwczoraj"},"datePicker:submit":function(e){return"Wybierz datę"},"datePicker:placeholder:day":function(e){return"dd"},"datePicker:placeholder:month":function(e){return"mm"},"datePicker:placeholder:year":function(e){return"rrrr"},"datePicker:invalid":function(e){return"Podaj prawidłową datę."},"userPicker:guest":function(e){return"Zaloguj się"},"userPicker:logIn":function(e){return"Zaloguj"},"userPicker:logOut":function(e){return"Wyloguj"},"tabs:all":function(e){return"Wszystkie przepływy"},empty:function(e){return"Brak zleceń dla wybranego dnia."},"orderChanges:change:reset":function(e){return"Zresetowano zlecenie."},"orderChanges:change:cancel":function(e){return"Anulowano zlecenie."},"orderChanges:change:start":function(e){return"Rozpoczęto zlecenie."},"orderChanges:change:finish":function(e){return"Zakończono "+t.v(e,"qtyDone")+" szt."},"orderChanges:change:continue":function(e){return"Wznowiono zlecenie."},"menu:header:mrp":function(e){return t.v(e,"mrp")},"menu:header:all":function(e){return"Wszystkie przepływy"},"menu:openOrder":function(e){return"Otwórz zlecenie "+t.s(e,"orderNo",{parent:"nadrzędne",other:t.v(e,"orderNo")})},"menu:copyOrder":function(e){return"Kopiuj nr zlecenia"},"menu:copyOrders":function(e){return"Kopiuj nr zleceń"},"menu:copyOrders:success":function(e){return"Lista skopiowana do schowka."},"menu:copyChildOrders":function(e){return"Kopiuj nr podzleceń"},"menu:copyChildOrders:success":function(e){return"Lista skopiowana do schowka."},"menu:printOrder":function(e){return"Drukuj zlecenie"},"menu:printOrders":function(e){return"Drukuj zlecenia"},"menu:printOrders:all":function(e){return"Drukuj wszystkie zlecenia"},"menu:printOrders:mrp":function(e){return"Drukuj zlecenia "+t.v(e,"mrp")},"menu:exportOrders":function(e){return"Eksportuj zlecenia"},"settings:tab:planning":function(e){return"Planowanie"},"settings:planning:workCenters":function(e){return"WorkCentra"},"settings:planning:workCenters:help":function(e){return"Lista WorkCenter wykorzystywana podczas generowania kolejki wiercenia do pobierania zleceń wiercenia podrzędnych do zaplanowanych zleceń produkcyjnych."},"mrp:all":function(e){return"Wszystkie przepływy"},"printPage:title":function(e){return"Plan wiercenia na dzień "+t.v(e,"date")},"printPage:hd":function(e){return"Plan wiercenia"},"printPage:ft":function(e){return"Plan wiercenia na dzień "+t.v(e,"date")+"."},"printPage:info":function(e){return"Wciśnij <kbd>Ctrl+P</kbd>, aby rozpocząć drukowanie."},"printPage:date":function(e){return"Data:"},"printPage:mrp":function(e){return"Przepływ:"},"printPage:order":function(e){return"Zlecenie:"},"printPage:page":function(e){return"Strona "+t.v(e,"n")+" z "+t.v(e,"total")},"printPage:printed":function(e){return"Wydrukowano w "+t.v(e,"time")+" przez "+t.v(e,"user")+" za pomocą systemu WMES."}}}),define("app/wmes-drilling-routes",["jquery","./time","./router","./viewport","./user","./core/util/getShiftStartInfo","./wmes-drilling/pages/DrillingPage","i18n!app/nls/wmes-drilling"],function(e,t,n,r,i,o,a){"use strict";var s=i.auth("LOCAL","DRILLING:VIEW");n.map("/",s,function(){var n=t.utc.getMoment(o(Date.now()).moment.subtract(1,"days").format("YYYY-MM-DD"),"YYYY-MM-DD"),i=e.ajax({url:"/drilling/orders?select(date)&sort(date)&limit(1)&status=in=(new,started,partial)&date=ge="+n.valueOf(),timeout:5e3});i.done(function(e){e.collection&&e.collection.length&&(n=t.utc.getMoment(e.collection[0].date))}),i.always(function(){r.showPage(new a({date:n.format("YYYY-MM-DD"),selectedMrp:null,fullscreen:!0}))})}),n.map("/drilling/:date",s,function(e){r.showPage(new a({date:e.params.date,selectedMrp:e.query.mrp,fullscreen:"1"===e.query.fullscreen}))})}),define("app/nls/core",["app/nls/locale/en"],function(e){var t={lc:{pl:function(t){return e(t)},en:function(t){return e(t)}},c:function(e,t){if(!e)throw new Error("MessageFormat: Data required for '"+t+"'.")},n:function(e,t,n){if(isNaN(e[t]))throw new Error("MessageFormat: '"+t+"' isn't a number.");return e[t]-(n||0)},v:function(e,n){return t.c(e,n),e[n]},p:function(e,n,r,i,o){return t.c(e,n),e[n]in o?o[e[n]]:(n=t.lc[i](e[n]-r))in o?o[n]:o.other},s:function(e,n,r){return t.c(e,n),e[n]in r?r[e[n]]:r.other}};return{root:{APP_NAME:function(e){return"WMES"},TITLE:function(e){return"Wannabe MES"},"MSG:LOADING":function(e){return"<i class='fa fa-spinner fa-spin'></i><span>Loading...</span>"},"MSG:LOADING_FAILURE":function(e){return"Loading failed."},"MSG:LOADING_SINGLE_FAILURE":function(e){return"Loading failed."},"MSG:SAVING":function(e){return"<i class='fa fa-spinner fa-spin'></i><span>Saving...</span>"},"MSG:SAVING_FAILURE":function(e){return"Saving failed."},"MSG:EXPORTING":function(e){return"<i class='fa fa-spinner fa-spin'></i><span>Exporting...</span>"},"MSG:EXPORTING_FAILURE":function(e){return"Exporting failed."},"MSG:LOG_OUT:FAILURE":function(e){return"Logging out failed."},"MSG:LOG_OUT:SUCCESS":function(e){return"You are now logged out!"},"MSG:POPUP_BLOCKED":function(e){return"Popup window was blocked."},"MSG:DELETED":function(e){return"Deleted: <em>"+t.v(e,"label")+"</em>."},"PAGE_ACTION:add":function(e){return"Add"},"PAGE_ACTION:edit":function(e){return"Edit"},"PAGE_ACTION:delete":function(e){return"Delete"},"PAGE_ACTION:filter":function(e){return"Filter"},"PAGE_ACTION:export":function(e){return"Export"},"PAGE_ACTION:export:csv":function(e){return"Export to CSV"},"PAGE_ACTION:export:xlsx":function(e){return"Export to XLSX"},"PAGE_ACTION:jump:title":function(e){return"Jump to details by ID"},"PAGE_ACTION:jump:placeholder":function(e){return"ID"},"LIST:COLUMN:actions":function(e){return"Actions"},"LIST:NO_DATA":function(e){return"No data."},"LIST:NO_DATA:cell":function(e){return""},"LIST:ACTION:viewDetails":function(e){return"View details"},"LIST:ACTION:edit":function(e){return"Edit"},"LIST:ACTION:delete":function(e){return"Delete"},"LIST:ACTION:print":function(e){return"Print"},"BREADCRUMB:addForm":function(e){return"Adding"},"BREADCRUMB:editForm":function(e){return"Editing"},"BREADCRUMB:ACTION_FORM:delete":function(e){return"Deleting"},"ERROR:notify:message":function(e){return"Click here to notify the admin about the error."},"ERROR:notify:success":function(e){return"The admin was notified!"},"ERROR:notify:failure":function(e){return"Failed to notify the admin."},"ERROR:notify:subject":function(e){return"["+t.v(e,"APP_NAME")+"] Error "+t.v(e,"code")+" from "+t.v(e,"user")},"ERROR:0:title":function(e){return"Error during loading"},"ERROR:0:message":function(e){return"Unexpected error during the execution of the request. Check whether you have a connection to the network and <a href=# data-reload>reload the page</a>."},"ERROR:400:title":function(e){return"Error 400: bad request"},"ERROR:400:message":function(e){return"The request cannot be fulfilled due to bad syntax."},"ERROR:403:title":function(e){return"Error 403: forbidden"},"ERROR:403:message":function(e){return"You do not have the right privileges to perform the requested action."},"ERROR:404:title":function(e){return"Error 404: not found"},"ERROR:404:message":function(e){return"The requested resource could not be found."},"ERROR:500:title":function(e){return"Error 500: internal server error"},"ERROR:500:message":function(e){return"Server encountered an unexpected condition that prevented it from completing the request."},"PAGINATION:FIRST_PAGE":function(e){return"First page"},"PAGINATION:PREV_PAGE":function(e){return"Previous page"},"PAGINATION:NEXT_PAGE":function(e){return"Next page"},"PAGINATION:LAST_PAGE":function(e){return"Last page"},"BOOL:true":function(e){return"Yes"},"BOOL:false":function(e){return"No"},"BOOL:null":function(e){return"N/A"},"#":function(e){return"No."},GUEST_USER_NAME:function(e){return"Guest"},"NAVBAR:TOGGLE":function(e){return"Show menu"},"NAVBAR:DASHBOARD":function(e){return"Dashboard"},"NAVBAR:EVENTS":function(e){return"Events"},"NAVBAR:ORDERS":function(e){return"Orders"},"NAVBAR:MECH_ORDERS":function(e){return"Mechanical orders"},"NAVBAR:OTHER_ORDERS":function(e){return"Production orders"},"NAVBAR:EMPTY_ORDERS":function(e){return"Empty WMES orders"},"NAVBAR:LINES":function(e){return"Production lines"},"NAVBAR:USERS":function(e){return"Users"},"NAVBAR:MY_ACCOUNT":function(e){return"My account"},"NAVBAR:UI_LOCALE":function(e){return"UI locale"},"NAVBAR:LOCALE_PL":function(e){return"In Polish"},"NAVBAR:LOCALE_US":function(e){return"In English"},"NAVBAR:LOG_IN":function(e){return"Log in"},"NAVBAR:LOG_OUT":function(e){return"Log out"},"NAVBAR:DICTIONARIES":function(e){return"Dictionaries"},"NAVBAR:TOOLS":function(e){return"Tools"},"NAVBAR:ORDER_STATUSES":function(e){return"Order statuses"},"NAVBAR:DELAY_REASONS":function(e){return"Delay reasons"},"NAVBAR:DOWNTIME_REASONS":function(e){return"Downtime reasons"},"NAVBAR:LOSS_REASONS":function(e){return"Loss reasons"},"NAVBAR:AORS":function(e){return"Areas of responsibility"},"NAVBAR:WORK_CENTERS":function(e){return"WorkCenters"},"NAVBAR:COMPANIES":function(e){return"Companies"},"NAVBAR:DIVISIONS":function(e){return"Divisions"},"NAVBAR:SUBDIVISIONS":function(e){return"Subdivisions"},"NAVBAR:MRP_CONTROLLERS":function(e){return"MRP Controllers"},"NAVBAR:PROD_FUNCTIONS":function(e){return"Functions"},"NAVBAR:PROD_FLOWS":function(e){return"Production flows"},"NAVBAR:PROD_TASKS":function(e){return"Production tasks"},"NAVBAR:PROD_LINES":function(e){return"Production lines"},"NAVBAR:PLANNING:main":function(e){return"Planning"},"NAVBAR:PLANNING:plans":function(e){return"Plans"},"NAVBAR:PLANNING:hourly":function(e){return"hourly"},"NAVBAR:PLANNING:daily":function(e){return"daily"},"NAVBAR:PLANNING:drilling":function(e){return"Drilling"},"NAVBAR:PLANNING:wiring":function(e){return"Wiring"},"NAVBAR:PLANNING:paintShop":function(e){return"Paint shop"},"NAVBAR:PLANNING:paintShop:load":function(e){return"Load"},"NAVBAR:PLANNING:wh":function(e){return"Warehouse"},"NAVBAR:PLANNING:wh:old":function(e){return"old"},"NAVBAR:PLANNING:wh:new":function(e){return"new"},"NAVBAR:PLANNING:wh:pickup":function(e){return"Pickup"},"NAVBAR:PLANNING:wh:delivery:components":function(e){return"FIFO delivery"},"NAVBAR:PLANNING:wh:delivery:packaging":function(e){return"Packaging delivery"},"NAVBAR:PLANNING:wh:delivery:ps":function(e){return"Paint-shop delivery"},"NAVBAR:PLANNING:wh:problems":function(e){return"Problems"},"NAVBAR:PLANNING:wh:deliveredOrders":function(e){return"Delivered orders"},"NAVBAR:PLANNING:wh:downtimes":function(e){return"Downtimes"},"NAVBAR:PLANNING:wh:setCarts":function(e){return"Carts"},"NAVBAR:PLANNING:wh:lines":function(e){return"Lines"},"NAVBAR:PLANNING:wh:events":function(e){return"Events"},"NAVBAR:PLANNING:wh:settings":function(e){return"Settings"},"NAVBAR:PLANNING:all":function(e){return"All"},"NAVBAR:PLANNING:-1d":function(e){return"Yesterday"},"NAVBAR:PLANNING:0d":function(e){return"Today"},"NAVBAR:PLANNING:1d":function(e){return"Tomorrow"},"NAVBAR:PLANNING:2d":function(e){return"Day after tomorrow"},"NAVBAR:PLANNING:2d:help":function(e){return"Plan available around 17:00."},"NAVBAR:FTE":function(e){return"FTE"},"NAVBAR:FTE:MASTER":function(e){return"Production"},"NAVBAR:FTE:WH":function(e){return"Warehouse"},"NAVBAR:FTE:LEADER":function(e){return"Other"},"NAVBAR:FTE:SETTINGS":function(e){return"Settings"},"NAVBAR:VIS":function(e){return"Visualization"},"NAVBAR:VIS:STRUCTURE":function(e){return"Org Unit structure"},"NAVBAR:PRESS_WORKSHEETS":function(e){return"Worksheets"},"NAVBAR:REPORTS":function(e){return"Reports"},"NAVBAR:REPORTS:1":function(e){return"PROD, EFF, Downtime"},"NAVBAR:REPORTS:clip":function(e){return"CLIP"},"NAVBAR:REPORTS:3":function(e){return"OEE"},"NAVBAR:REPORTS:4":function(e){return"Operators"},"NAVBAR:REPORTS:5":function(e){return"HR"},"NAVBAR:REPORTS:6":function(e){return"Warehouse"},"NAVBAR:REPORTS:7":function(e){return"Downtimes in AORs"},"NAVBAR:REPORTS:8":function(e){return"Lean"},"NAVBAR:REPORTS:9":function(e){return"Planned line utilization"},"NAVBAR:REPORTS:ct":function(e){return"Cycle Time"},"NAVBAR:REPORTS:ct:pce":function(e){return"PCEs"},"NAVBAR:REPORTS:ct:groups":function(e){return"Product groups"},"NAVBAR:REPORTS:ct:results":function(e){return"Results"},"NAVBAR:PROD":function(e){return"Production"},"NAVBAR:PROD:DATA":function(e){return"Production data"},"NAVBAR:PROD:LOG_ENTRIES":function(e){return"Operation log"},"NAVBAR:PROD:SHIFTS":function(e){return"Shifts"},"NAVBAR:PROD:SHIFT_ORDERS":function(e){return"Orders"},"NAVBAR:PROD:DOWNTIMES":function(e){return"Downtimes"},"NAVBAR:PROD:ALERTS":function(e){return"Alerts"},"NAVBAR:PROD:CHANGE_REQUESTS":function(e){return"Change requests"},"NAVBAR:PROD:SERIAL_NUMBERS":function(e){return"Serial numbers"},"NAVBAR:PROD:SETTINGS":function(e){return"Settings"},"NAVBAR:testing":function(e){return"Testing"},"NAVBAR:xiconf":function(e){return"Xiconf"},"NAVBAR:xiconf:clients":function(e){return"Clients"},"NAVBAR:xiconf:orders":function(e){return"Orders"},"NAVBAR:xiconf:results":function(e){return"Results"},"NAVBAR:xiconf:programs":function(e){return"Programs"},"NAVBAR:xiconf:hidLamps":function(e){return"HID lamps"},"NAVBAR:xiconf:componentWeights":function(e){return"Component weights"},"NAVBAR:snf":function(e){return"SNF"},"NAVBAR:snf:results":function(e){return"Results"},"NAVBAR:snf:programs":function(e){return"Programs"},"NAVBAR:trw":function(e){return"TRW"},"NAVBAR:trw:results":function(e){return"Results"},"NAVBAR:trw:testers":function(e){return"Controllers"},"NAVBAR:trw:bases":function(e){return"Bases"},"NAVBAR:trw:programs":function(e){return"Programs"},"NAVBAR:DOCUMENTS":function(e){return"Documentation"},"NAVBAR:DOCUMENTS:TREE":function(e){return"Documents"},"NAVBAR:DOCUMENTS:CLIENTS":function(e){return"Clients"},"NAVBAR:DOCUMENTS:SETTINGS":function(e){return"Settings"},"NAVBAR:DOCUMENTS:CONFIRMATIONS":function(e){return"Confirmations"},"NAVBAR:VENDORS":function(e){return"Vendors"},"NAVBAR:PURCHASE_ORDERS":function(e){return"Purchase orders"},"NAVBAR:MONITORING":function(e){return"Monitoring"},"NAVBAR:MONITORING:LAYOUT":function(e){return"Factory layout"},"NAVBAR:MONITORING:LIST":function(e){return"Production line list"},"NAVBAR:VENDOR_NC12S":function(e){return"12NC database"},"NAVBAR:LICENSES":function(e){return"Licenses"},"NAVBAR:ISA_PALLET_KINDS":function(e){return"Pallet kinds"},"NAVBAR:ISA":function(e){return"Intermediate storage areas"},"NAVBAR:INVALID_ORDERS":function(e){return"Invalid IPT orders"},"NAVBAR:IPT_CHECK":function(e){return"IPT orders checker"},"NAVBAR:SAP_LABOR_TIME_FIXER":function(e){return"Labor Time fixer"},"NAVBAR:PRINTERS":function(e){return"Printers"},"NAVBAR:PKHD_STRATEGIES":function(e){return"Component dist. strategies"},"NAVBAR:kanban":function(e){return"Component DB"},"NAVBAR:pfep":function(e){return"PFEP DB"},"NAVBAR:layout":function(e){return"Layout"},"NAVBAR:toolcal":function(e){return"Tool calibration"},"NAVBAR:luma2":function(e){return"Luma gen. 2"},"NAVBAR:luca":function(e){return"LUCA Pick by Light"},"NAVBAR:logs:browserErrors":function(e){return"Client-side errors"},"NAVBAR:ct":function(e){return"Cycle time"},"NAVBAR:fa":function(e){return"Fixed Assets"},"NAVBAR:OPINION:main":function(e){return"Opinion survey"},"NAVBAR:OPINION:current":function(e){return"Current survey"},"NAVBAR:OPINION:report":function(e){return"Report"},"NAVBAR:OPINION:actions":function(e){return"Corrective actions"},"NAVBAR:OPINION:responses":function(e){return"Responses"},"NAVBAR:OPINION:scanning":function(e){return"Scanning"},"NAVBAR:OPINION:scanTemplates":function(e){return"Templates"},"NAVBAR:OPINION:omrResults":function(e){return"Results"},"NAVBAR:OPINION:dictionaries":function(e){return"Dictionaries"},"NAVBAR:OPINION:surveys":function(e){return"Surveys"},"NAVBAR:OPINION:employers":function(e){return"Employers"},"NAVBAR:OPINION:divisions":function(e){return"Divisions"},"NAVBAR:OPINION:questions":function(e){return"Questions"},"NAVBAR:KAIZEN:main":function(e){return"Near miss"},"NAVBAR:KAIZEN:orders":function(e){return"Near misses"},"NAVBAR:KAIZEN:all":function(e){return"All"},"NAVBAR:KAIZEN:open":function(e){return"Only open"},"NAVBAR:KAIZEN:mine":function(e){return"Only mine"},"NAVBAR:KAIZEN:unseen":function(e){return"Only unread"},"NAVBAR:KAIZEN:reports":function(e){return"Reports"},"NAVBAR:KAIZEN:reports:summary":function(e){return"Summary"},"NAVBAR:KAIZEN:reports:engagement":function(e){return"Engagement"},"NAVBAR:KAIZEN:reports:metrics":function(e){return"Metrics"},"NAVBAR:KAIZEN:reports:count":function(e){return"Number of Near Misses"},"NAVBAR:KAIZEN:reports:observations":function(e){return"Number of Observations"},"NAVBAR:KAIZEN:reports:minutes":function(e){return"Number of Minutes"},"NAVBAR:KAIZEN:dictionaries":function(e){return"Dictionaries"},"NAVBAR:KAIZEN:sections":function(e){return"Sections"},"NAVBAR:KAIZEN:areas":function(e){return"Areas"},"NAVBAR:KAIZEN:categories":function(e){return"Categories"},"NAVBAR:KAIZEN:causes":function(e){return"Causes"},"NAVBAR:KAIZEN:risks":function(e){return"Risks"},"NAVBAR:KAIZEN:behaviours":function(e){return"Behaviours"},"NAVBAR:KAIZEN:help":function(e){return"Help"},"NAVBAR:KAIZEN:observations":function(e){return"Observations"},"NAVBAR:KAIZEN:minutesForSafety":function(e){return"Minutes for Safety"},"NAVBAR:SUGGESTIONS:main":function(e){return"Suggestions"},"NAVBAR:SUGGESTIONS:orders":function(e){return"Entries"},"NAVBAR:SUGGESTIONS:all":function(e){return"All"},"NAVBAR:SUGGESTIONS:open":function(e){return"Only open"},"NAVBAR:SUGGESTIONS:mine":function(e){return"Only mine"},"NAVBAR:SUGGESTIONS:unseen":function(e){return"Only unread"},"NAVBAR:SUGGESTIONS:reports":function(e){return"Reports"},"NAVBAR:SUGGESTIONS:reports:count":function(e){return"Number of entries"},"NAVBAR:SUGGESTIONS:reports:summary":function(e){return"Summary"},"NAVBAR:SUGGESTIONS:reports:engagement":function(e){return"Engagement"},"NAVBAR:SUGGESTIONS:dictionaries":function(e){return"Dictionaries"},"NAVBAR:SUGGESTIONS:sections":function(e){return"Sections"},"NAVBAR:SUGGESTIONS:categories":function(e){return"Categories"},"NAVBAR:SUGGESTIONS:productFamilies":function(e){return"Product families"},"NAVBAR:SUGGESTIONS:help":function(e){return"Help"},"NAVBAR:QI:main":function(e){return"Quality Inspection"},"NAVBAR:QI:results":function(e){return"Results"},"NAVBAR:QI:results:all":function(e){return"All"},"NAVBAR:QI:results:good":function(e){return"Compliant"},"NAVBAR:QI:results:bad":function(e){return"Non-compliant"},"NAVBAR:QI:reports":function(e){return"Reports"},"NAVBAR:QI:reports:count":function(e){return"Count"},"NAVBAR:QI:reports:okRatio":function(e){return"% of OK goods"},"NAVBAR:QI:reports:nokRatio":function(e){return"% of NOK goods"},"NAVBAR:QI:reports:outgoingQuality":function(e){return"Outgoing quality"},"NAVBAR:QI:dictionaries":function(e){return"Dictionaries"},"NAVBAR:QI:kinds":function(e){return"Kinds"},"NAVBAR:QI:errorCategories":function(e){return"Error categories"},"NAVBAR:QI:faults":function(e){return"Faults"},"NAVBAR:QI:standards":function(e){return"Standards"},"NAVBAR:QI:actionStatuses":function(e){return"Action statuses"},"NAVBAR:SEARCH:help":function(e){return"Search by order no, 12NC or date."},"NAVBAR:SEARCH:empty":function(e){return"No results."},"NAVBAR:SEARCH:fullOrderNo":function(e){return"Order no "+t.v(e,"orderNo")},"NAVBAR:SEARCH:partialOrderNo":function(e){return"Orders no "+t.v(e,"orderNo")+"..."},"NAVBAR:SEARCH:fullNc12":function(e){return"12NC "+t.v(e,"nc12")},"NAVBAR:SEARCH:partialNc12":function(e){return"12NC "+t.v(e,"nc12")+"..."},"NAVBAR:SEARCH:fullNc15":function(e){return"15NC "+t.v(e,"nc15")},"NAVBAR:SEARCH:searchName":function(e){return"Users"},"NAVBAR:SEARCH:sapDetails":function(e){return"details from SAP"},"NAVBAR:SEARCH:xiconfDetails":function(e){return"details from the tests db"},"NAVBAR:SEARCH:xiconfResults":function(e){return"test results"},"NAVBAR:SEARCH:prodShiftOrders":function(e){return"list from production lines"},"NAVBAR:SEARCH:prodShiftOrdersList":function(e){return"orders list from production lines"},"NAVBAR:SEARCH:prodDowntimes":function(e){return"list of downtimes"},"NAVBAR:SEARCH:qiResults":function(e){return"QI results"},"NAVBAR:SEARCH:mechOrders":function(e){return"list of mechanical orders"},"NAVBAR:SEARCH:sapOrders":function(e){return"list of orders from SAP"},"NAVBAR:SEARCH:sapOrdersBom":function(e){return"list of orders from SAP with the component"},"NAVBAR:SEARCH:sapOrdersDoc":function(e){return"list of orders from SAP with the document"},"NAVBAR:SEARCH:sapOrdersStart":function(e){return"list of orders from SAP by start date"},"NAVBAR:SEARCH:sapOrdersFinish":function(e){return"list of orders from SAP by finish date"},"NAVBAR:SEARCH:sapList":function(e){return"list from SAP"},"NAVBAR:SEARCH:xiconfOrders":function(e){return"orders list from the tests db"},"NAVBAR:SEARCH:xiconfList":function(e){return"list from the tests db"},"NAVBAR:SEARCH:worksheetOrders":function(e){return"orders list from worksheets"},"NAVBAR:SEARCH:fte:master":function(e){return"list of FTE (production)"},"NAVBAR:SEARCH:fte:wh":function(e){return"list of FTE (warehouse)"},"NAVBAR:SEARCH:fte:leader":function(e){return"list of FTE (other)"},"NAVBAR:SEARCH:hourlyPlans":function(e){return"list of hourly plans"},"NAVBAR:SEARCH:hourlyPlan":function(e){return"hourly plan"},"NAVBAR:SEARCH:prodShifts":function(e){return"list of production shifts"},"NAVBAR:SEARCH:document":function(e){return"document in the catalog"},"NAVBAR:SEARCH:documentFile":function(e){return"documentation file"},"NAVBAR:SEARCH:entryId":function(e){return"Entry no "+t.v(e,"entryId")},"NAVBAR:SEARCH:kaizenOrders":function(e){return"Near miss"},"NAVBAR:SEARCH:suggestions":function(e){return"Suggestion"},"NAVBAR:SEARCH:behaviorObsCards":function(e){return"Observation"},"NAVBAR:SEARCH:minutesForSafetyCards":function(e){return"Minutes"},"NAVBAR:SEARCH:d8":function(e){return"8D"},"NAVBAR:SEARCH:qi":function(e){return"Quality Inspection"},"NAVBAR:SEARCH:plan:prod":function(e){return"production plan"},"NAVBAR:SEARCH:plan:wh":function(e){return"warehouse plan"},"NAVBAR:SEARCH:plan:ps":function(e){return"paint shop plan"},"NAVBAR:SEARCH:fap":function(e){return"FAP"},"NAVBAR:SEARCH:fapEntries":function(e){return"FAP entries"},"NAVBAR:SEARCH:kanbanEntries":function(e){return"kanbans"},"NAVBAR:SEARCH:kanbanComponent":function(e){return"kanban component"},"NAVBAR:SEARCH:cycleTime":function(e){return"cycle time"},"NAVBAR:SEARCH:balancing":function(e){return"balancing"},"NAVBAR:SEARCH:deliveredOrders":function(e){return"delivered orders"},"NAVBAR:mor":function(e){return"Matrix of responsibility"},"NAVBAR:pila:osh":function(e){return"OSH"},"NAVBAR:pila:help":function(e){return"Help"},"NAVBAR:pila:reports":function(e){return"Reports"},"NAVBAR:pila:nearMiss":function(e){return"Near misses"},"NAVBAR:pila:nearMiss:entries":function(e){return"Entries"},"NAVBAR:pila:suggestions":function(e){return"Suggestions"},"NAVBAR:pila:suggestions:entries":function(e){return"Entries"},"NAVBAR:pila:observations":function(e){return"Observations"},"NAVBAR:pila:observations:entries":function(e){return"Cards"},"NAVBAR:pila:mfs":function(e){return"Minutes"},"NAVBAR:pila:mfs:entries":function(e){return"Cards"},"ACTION_FORM:BUTTON":function(e){return"Perform action"},"ACTION_FORM:BUTTON:cancel":function(e){return"Cancel"},"ACTION_FORM:MESSAGE":function(e){return"Are you sure you want to perform the requested action?"},"ACTION_FORM:MESSAGE:failure":function(e){return"Action failed."},"ACTION_FORM:DIALOG_TITLE:delete":function(e){return"Deletion confirmation"},"ACTION_FORM:BUTTON:delete":function(e){return"Delete"},"ACTION_FORM:MESSAGE:delete":function(e){return"Are you sure you want to delete the chosen item?"},"ACTION_FORM:MESSAGE_SPECIFIC:delete":function(e){return"Are you sure you want to delete <em>"+t.v(e,"label")+"</em>?"},"ACTION_FORM:MESSAGE_FAILURE:delete":function(e){return"Deleting failed."},"FORM:ACTION:add":function(e){return"Add"},"FORM:ACTION:edit":function(e){return"Edit"},"FORM:ACTION:save":function(e){return"Save"},"FORM:ERROR:addFailure":function(e){return"Adding failed."},"FORM:ERROR:editFailure":function(e){return"Editing failed."},"ORG_UNIT:division":function(e){return"Division"},"ORG_UNIT:subdivision":function(e){return"Subdivision"},"ORG_UNIT:mrpController":function(e){return"MRP Controller"},"ORG_UNIT:mrpControllers":function(e){return"MRP Controller"},"ORG_UNIT:prodFlow":function(e){return"Production flow"},"ORG_UNIT:workCenter":function(e){return"WorkCenter"},"ORG_UNIT:prodLine":function(e){return"Production line"},SHIFT:function(e){return t.v(e,"date")+", "+t.s(e,"shift",{1:"I",2:"II",3:"III",other:t.v(e,"shift")})},"SHIFT:1":function(e){return"I"},"SHIFT:2":function(e){return"II"},"SHIFT:3":function(e){return"III"},"SHIFT:0":function(e){return"Any"},QUARTER:function(e){return t.v(e,"quarter")+" quarter "+t.v(e,"year")},"QUARTER:1":function(e){return"I"},"QUARTER:2":function(e){return"II"},"QUARTER:3":function(e){return"III"},"QUARTER:4":function(e){return"IV"},"QUARTER:0":function(e){return"Any"},"highcharts:contextButtonTitle":function(e){return"Chart's context menu"},"highcharts:downloadJPEG":function(e){return"Save as JPEG"},"highcharts:downloadPDF":function(e){return"Save as PDF"},"highcharts:downloadPNG":function(e){return"Save as PNG"},"highcharts:downloadSVG":function(e){return"Save as SVG"},"highcharts:downloadCSV":function(e){return"Save as CSV"},"highcharts:printChart":function(e){return"Print the chart"},"highcharts:decimalPoint":function(e){return"."},"highcharts:thousandsSep":function(e){return","},"highcharts:noData":function(e){return"No data."},"highcharts:resetZoom":function(e){return"1:1"},"highcharts:resetZoomTitle":function(e){return"Reset the zoom level to 1:1"},"highcharts:loading":function(e){return"Loading..."},"highcharts:months":function(e){return"January_February_March_April_May_June_July_August_September_October_November_December"},"highcharts:shortMonths":function(e){return"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec"},"highcharts:weekdays":function(e){return"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday"},"dataTables:emptyTable":function(e){return"No data."},"dataTables:loadingRecords":function(e){return"Loading..."},"dataTables:loadingFailed":function(e){return"Loading failed."},"feedback:button:text":function(e){return"Feedback"},"feedback:button:tooltip":function(e){return"Report bugs, notes, opinions or ideas!"},"colorPicker:label":function(e){return"Color"},"filter:date":function(e){return"Date"},"filter:date:from":function(e){return"From"},"filter:date:from:info":function(e){return"Data from 06:00 of the selected day"},"filter:date:to":function(e){return"To"},"filter:date:to:info":function(e){return"Data to 06:00 of the selected day"},"filter:shift":function(e){return"Shift"},"filter:orgUnit":function(e){return"Organizational unit"},"filter:submit":function(e){return"Filter"},"filter:filters":function(e){return"Show additional filters"},"filter:limit":function(e){return"Limit"},"filter:show":function(e){return"Show filter"},"filter:hide":function(e){return"Hide filter"},"placeholder:date":function(e){return"yyyy-mm-dd"},"placeholder:time":function(e){return"--:--"},"placeholder:month":function(e){return"yyyy-mm"},"PRINT_PAGE:FT:PAGE_NO":function(e){return"Page <span class=print-page-no>?</span> of <span class=print-page-count>?</span>"},"PRINT_PAGE:FT:INFO":function(e){return"Printout generated at <span class=print-page-date>?</span> by <span class=print-page-user>?</span>."},"html2pdf:progress":function(e){return"Generating the printout..."},"html2pdf:failure":function(e){return"Printout generation failed."},"html2pdf:printing":function(e){return"Sending the printout to the printer..."},"html2pdf:printing:success":function(e){return"Printout was successfully sent to the printer."},"html2pdf:printing:failure":function(e){return"Sending the printout to the printer failed."},"dateTimeRange:placeholder:date":function(e){return"yyyy-mm-dd"},"dateTimeRange:placeholder:time":function(e){return"hh:mm"},"dateTimeRange:label:date":function(e){return"Date"},"dateTimeRange:label:date+time":function(e){return"Time"},"dateTimeRange:label:month":function(e){return"Date"},"dateTimeRange:+0+1":function(e){return"current"},"dateTimeRange:-1+0":function(e){return"previous"},"dateTimeRange:-2+0":function(e){return"last 2"},"dateTimeRange:-3+0":function(e){return"last 3"},"dateTimeRange:-4+0":function(e){return"last 4"},"dateTimeRange:-6+0":function(e){return"last 6"},"dateTimeRange:-7+0":function(e){return"last 7"},"dateTimeRange:+0+7":function(e){return"next 7"},"dateTimeRange:-14+0":function(e){return"last 14"},"dateTimeRange:-28+0":function(e){return"last 28"},"dateTimeRange:shifts":function(e){return"Shift"},"dateTimeRange:shifts:1":function(e){return"I"},"dateTimeRange:shifts:2":function(e){return"II"},"dateTimeRange:shifts:3":function(e){return"III"},"dateTimeRange:days":function(e){return"Day"},"dateTimeRange:days:+0+1":function(e){return"today"},"dateTimeRange:days:-1+0":function(e){return"yesterday"},"dateTimeRange:days:+1+2":function(e){return"tomorrow"},"dateTimeRange:weeks":function(e){return"Week"},"dateTimeRange:months":function(e){return"Month"},"dateTimeRange:quarters":function(e){return"Quarter"},"dateTimeRange:quarters:1":function(e){return"I"},"dateTimeRange:quarters:2":function(e){return"II"},"dateTimeRange:quarters:3":function(e){return"III"},"dateTimeRange:quarters:4":function(e){return"IV"},"dateTimeRange:years":function(e){return"Year"},"dateTimeRange:help":function(e){return"Hold <kbd>Alt</kbd> while clicking on an option to automatically submit the form."},"embedded:actions:switch":function(e){return"Switch app"},"embedded:actions:refresh":function(e){return"Refresh app"},"embedded:actions:config":function(e){return"Configure"},"embedded:actions:reboot":function(e){return"Reboot"},"embedded:actions:shutdown":function(e){return"Shutdown"},"embedded:actions:resetBrowser":function(e){return"Reset browser"},"embedded:actions:restartBrowser":function(e){return"Restart browser"},"embedded:actions:noKiosk":function(e){return"Turn off kiosk mode"},"embedded:apps:operator":function(e){return"Operator"},"embedded:apps:documents":function(e){return"Documents"},"embedded:apps:xiconf":function(e){return"LED scanning"},"embedded:apps:maxos":function(e){return"MAXOS visualization"},"embedded:apps:drilling":function(e){return"Drilling"},"embedded:apps:ps-queue":function(e){return"Paint-shop queue"},"embedded:apps:ps-load":function(e){return"Paint-shop load"},"embedded:apps:isa":function(e){return"ISA"},"embedded:apps:remote":function(e){return"Remote"},"embedded:apps:heff":function(e){return"Hourly efficiency"},"embedded:apps:trw":function(e){return"TRW"},"embedded:reboot:title":function(e){return"Rebooting"},"embedded:reboot:message":function(e){return"Are you sure you want to reboot the computer?"},"embedded:reboot:yes":function(e){return"Reboot"},"embedded:reboot:no":function(e){return"Cancel"},"embedded:shutdown:title":function(e){return"Shutting down"},"embedded:shutdown:message":function(e){return"Are you sure you want to shutdown the computer?"},"embedded:shutdown:yes":function(e){return"Shutdown"},"embedded:shutdown:no":function(e){return"Cancel"},"PANEL:TITLE:details":function(e){return"Details"},"PANEL:TITLE:addForm":function(e){return"Add form"},"PANEL:TITLE:editForm":function(e){return"Edit form"},"lang:pl":function(e){return"Polish (pl)"},"lang:en":function(e){return"English (en)"},labelCopySuffix:function(e){return t.v(e,"label")+" (copy)"}},pl:!0}}),define("app/nls/pl/core",["app/nls/locale/pl"],function(e){var t={lc:{pl:function(t){return e(t)},en:function(t){return e(t)}},c:function(e,t){if(!e)throw new Error("MessageFormat: Data required for '"+t+"'.")},n:function(e,t,n){if(isNaN(e[t]))throw new Error("MessageFormat: '"+t+"' isn't a number.");return e[t]-(n||0)},v:function(e,n){return t.c(e,n),e[n]},p:function(e,n,r,i,o){return t.c(e,n),e[n]in o?o[e[n]]:(n=t.lc[i](e[n]-r))in o?o[n]:o.other},s:function(e,n,r){return t.c(e,n),e[n]in r?r[e[n]]:r.other}};return{APP_NAME:function(e){return"WMES"},TITLE:function(e){return"Wannabe MES"},"MSG:LOADING":function(e){return"<i class='fa fa-spinner fa-spin'></i><span>Ładowanie...</span>"},"MSG:LOADING_FAILURE":function(e){return"Ładowanie nie powiodło się."},"MSG:LOADING_SINGLE_FAILURE":function(e){return"Ładowanie nie powiodło się."},"MSG:SAVING":function(e){return"<i class='fa fa-spinner fa-spin'></i><span>Zapisywanie...</span>"},"MSG:SAVING_FAILURE":function(e){return"Zapisywanie nie powiodło się."},"MSG:EXPORTING":function(e){return"<i class='fa fa-spinner fa-spin'></i><span>Eksportowanie...</span>"},"MSG:EXPORTING_FAILURE":function(e){return"Eksportowanie nie powiodło się."},"MSG:LOG_OUT:FAILURE":function(e){return"Wylogowanie nie powiodło się."},"MSG:LOG_OUT:SUCCESS":function(e){return"Zostałeś wylogowany!"},"MSG:POPUP_BLOCKED":function(e){return"Wyskakujące okienko zostało zablokowane."},"MSG:DELETED":function(e){return"Usunięto: <em>"+t.v(e,"label")+"</em>."},"MSG:jump:404":function(e){return"Nie znaleziono: "+t.v(e,"rid")},"PAGE_ACTION:add":function(e){return"Dodaj"},"PAGE_ACTION:edit":function(e){return"Edytuj"},"PAGE_ACTION:delete":function(e){return"Usuń"},"PAGE_ACTION:filter":function(e){return"Filtruj"},"PAGE_ACTION:export":function(e){return"Eksportuj"},"PAGE_ACTION:export:csv":function(e){return"Eksportuj do CSV"},"PAGE_ACTION:export:xlsx":function(e){return"Eksportuj do XLSX"},"PAGE_ACTION:jump:title":function(e){return"Skocz do szczegółów po ID"},"PAGE_ACTION:jump:placeholder":function(e){return"ID"},"LIST:COLUMN:actions":function(e){return"Akcje"},"LIST:NO_DATA":function(e){return"Brak danych."},"LIST:NO_DATA:cell":function(e){return""},"LIST:ACTION:viewDetails":function(e){return"Pokaż szczegóły"},"LIST:ACTION:edit":function(e){return"Edytuj"},"LIST:ACTION:delete":function(e){return"Usuń"},"LIST:ACTION:print":function(e){return"Drukuj"},"BREADCRUMB:addForm":function(e){return"Dodawanie"},"BREADCRUMB:editForm":function(e){return"Edycja"},"BREADCRUMB:ACTION_FORM:delete":function(e){return"Usuwanie"},"ERROR:notify:message":function(e){return"Kliknij tutaj, aby poinformować administratora o błędzie."},"ERROR:notify:success":function(e){return"Administrator został powiadomiony o błędzie!"},"ERROR:notify:failure":function(e){return"Nie udało się powiadomić administratora."},"ERROR:notify:subject":function(e){return"["+t.v(e,"APP_NAME")+"] Błąd "+t.v(e,"code")+" od "+t.v(e,"user")},"ERROR:0:title":function(e){return"Błąd podczas ładowania"},"ERROR:0:message":function(e){return"Nieoczekiwany błąd podczas wykonywania żądania. Sprawdź, czy masz połączenie z siecią i <a href=# data-reload>załaduj ponownie stronę</a>."},"ERROR:400:title":function(e){return"Błąd 400: nieprawidłowe zapytanie"},"ERROR:400:message":function(e){return"Żądanie nie może być obsłużone przez serwer z powodu błędnej składni zapytania."},"ERROR:401:title":function(e){return"Błąd 401: nieautoryzowany dostęp"},"ERROR:401:message":function(e){return"Żądanie wymaga uwierzytelnienia. <a href='#login'>Kliknij tutaj, aby przejść do formularza logowania</a>."},"ERROR:403:title":function(e){return"Błąd 403: zabroniony"},"ERROR:403:message":function(e){return"Nie masz uprawnień do wykonania żądanej akcji."},"ERROR:403:guest:message":function(e){return"Nie masz uprawnień do wykonania żądanej akcji. <a href='#login'>Kliknij tutaj, aby przejść do formularza logowania</a>."},"ERROR:404:title":function(e){return"Błąd 404: nie znaleziono"},"ERROR:404:message":function(e){return"Wybrana strona nigdy nie istniała lub została usunięta."},"ERROR:500:title":function(e){return"Błąd 500: wewnętrzny błąd serwera"},"ERROR:500:message":function(e){return"Serwer napotkał niespodziewane trudności, które uniemożliwiły zrealizowanie żądania."},"ERROR:503:title":function(e){return"Błąd 503: usługa niedostępna"},"ERROR:503:message":function(e){return"Serwer nie jest w stanie w danej chwili zrealizować żądania ze względu na przeciążenie lub przerwę konserwacyjną."},"ERROR:504:title":function(e){return"Błąd 504: przekroczony czas bramy"},"ERROR:504:message":function(e){return"Serwer bramy nie otrzymał w ustalonym czasie odpowiedzi od nadrzędnego serwera."},"PAGINATION:FIRST_PAGE":function(e){return"Pierwsza strona"},"PAGINATION:PREV_PAGE":function(e){return"Poprzednia strona"},"PAGINATION:NEXT_PAGE":function(e){return"Następna strona"},"PAGINATION:LAST_PAGE":function(e){return"Ostatnia strona"},"BOOL:true":function(e){return"Tak"},"BOOL:false":function(e){return"Nie"},"BOOL:null":function(e){return"Nie dotyczy"},"#":function(e){return"Lp."},GUEST_USER_NAME:function(e){return"Gość"},"NAVBAR:TOGGLE":function(e){return"Pokaż menu"},"NAVBAR:DASHBOARD":function(e){return"Pulpit"},"NAVBAR:EVENTS":function(e){return"Zdarzenia"},"NAVBAR:ORDERS":function(e){return"Zlecenia"},"NAVBAR:MECH_ORDERS":function(e){return"Zlecenia mechaniczne"},"NAVBAR:OTHER_ORDERS":function(e){return"Zlecenia produkcyjne"},"NAVBAR:EMPTY_ORDERS":function(e){return"Puste zlecenia WMES"},"NAVBAR:LINES":function(e){return"Linie produkcyjne"},"NAVBAR:USERS":function(e){return"Użytkownicy"},"NAVBAR:MY_ACCOUNT":function(e){return"Moje konto"},"NAVBAR:UI_LOCALE":function(e){return"Lokalizacja UI"},"NAVBAR:LOCALE_PL":function(e){return"Po polsku"},"NAVBAR:LOCALE_US":function(e){return"Po angielsku"},"NAVBAR:LOG_IN":function(e){return"Zaloguj się"},"NAVBAR:LOG_OUT":function(e){return"Wyloguj się"},"NAVBAR:DICTIONARIES":function(e){return"Słowniki"},"NAVBAR:TOOLS":function(e){return"Narzędzia"},"NAVBAR:ORDER_STATUSES":function(e){return"Statusy zleceń"},"NAVBAR:DELAY_REASONS":function(e){return"Powody opóźnień"},"NAVBAR:DOWNTIME_REASONS":function(e){return"Powody przestojów"},"NAVBAR:LOSS_REASONS":function(e){return"Powody strat materiałowych"},"NAVBAR:AORS":function(e){return"Obszary odpowiedzialności"},"NAVBAR:WORK_CENTERS":function(e){return"WorkCentra"},"NAVBAR:COMPANIES":function(e){return"Firmy"},"NAVBAR:DIVISIONS":function(e){return"Wydziały"},"NAVBAR:SUBDIVISIONS":function(e){return"Działy"},"NAVBAR:MRP_CONTROLLERS":function(e){return"Kontrolery MRP"},"NAVBAR:PROD_FUNCTIONS":function(e){return"Funkcje"},"NAVBAR:PROD_FLOWS":function(e){return"Przepływy"},"NAVBAR:PROD_TASKS":function(e){return"Zadania produkcyjne"},"NAVBAR:PROD_LINES":function(e){return"Linie produkcyjne"},"NAVBAR:PLANNING:main":function(e){return"Planowanie"},"NAVBAR:PLANNING:plans":function(e){return"Plany"},"NAVBAR:PLANNING:hourly":function(e){return"godzinowe"},"NAVBAR:PLANNING:daily":function(e){return"dzienne"},"NAVBAR:PLANNING:drilling":function(e){return"Wiercenie"},"NAVBAR:PLANNING:wiring":function(e){return"Przewody"},"NAVBAR:PLANNING:paintShop":function(e){return"Malarnia"},"NAVBAR:PLANNING:paintShop:load":function(e){return"Obciążenie"},"NAVBAR:PLANNING:wh":function(e){return"Magazyn"},"NAVBAR:PLANNING:wh:old":function(e){return"stary"},"NAVBAR:PLANNING:wh:new":function(e){return"nowy"},"NAVBAR:PLANNING:wh:pickup":function(e){return"Kompletacja"},"NAVBAR:PLANNING:wh:delivery:components":function(e){return"Wysyłka FIFO"},"NAVBAR:PLANNING:wh:delivery:packaging":function(e){return"Wysyłka opakowań"},"NAVBAR:PLANNING:wh:delivery:ps":function(e){return"Wysyłka malarnii"},"NAVBAR:PLANNING:wh:problems":function(e){return"Problemy"},"NAVBAR:PLANNING:wh:deliveredOrders":function(e){return"Dostarczone zlecenia"},"NAVBAR:PLANNING:wh:downtimes":function(e){return"Przestoje"},"NAVBAR:PLANNING:wh:setCarts":function(e){return"Wózki"},"NAVBAR:PLANNING:wh:lines":function(e){return"Linie"},"NAVBAR:PLANNING:wh:events":function(e){return"Zdarzenia"},"NAVBAR:PLANNING:wh:settings":function(e){return"Ustawienia"},"NAVBAR:PLANNING:all":function(e){return"Wszystkie"},"NAVBAR:PLANNING:0d":function(e){return"Na dzisiaj"},"NAVBAR:PLANNING:-1d":function(e){return"Na wczoraj"},"NAVBAR:PLANNING:1d":function(e){return"Na jutro"},"NAVBAR:PLANNING:2d":function(e){return"Na pojutrze"},"NAVBAR:PLANNING:2d:help":function(e){return"Plan dostępny około godziny 17:00."},"NAVBAR:FTE":function(e){return"FTE"},"NAVBAR:FTE:MASTER":function(e){return"Produkcja"},"NAVBAR:FTE:WH":function(e){return"Magazyn"},"NAVBAR:FTE:LEADER":function(e){return"Inne"},"NAVBAR:FTE:SETTINGS":function(e){return"Ustawienia"},"NAVBAR:VIS":function(e){return"Wizualizacja"},"NAVBAR:VIS:STRUCTURE":function(e){return"Struktura organizacyjna"},"NAVBAR:PRESS_WORKSHEETS":function(e){return"Karty pracy"},"NAVBAR:REPORTS":function(e){return"Raporty"},"NAVBAR:REPORTS:1":function(e){return"Wskaźniki"},"NAVBAR:REPORTS:clip":function(e){return"CLIP"},"NAVBAR:REPORTS:3":function(e){return"Wykorzystanie zasobów"},"NAVBAR:REPORTS:4":function(e){return"Operatorzy"},"NAVBAR:REPORTS:5":function(e){return"HR"},"NAVBAR:REPORTS:6":function(e){return"Magazyn"},"NAVBAR:REPORTS:7":function(e){return"Przestoje w obszarach"},"NAVBAR:REPORTS:8":function(e){return"Lean"},"NAVBAR:REPORTS:9":function(e){return"Planowane obciążenie linii"},"NAVBAR:REPORTS:ct":function(e){return"Czas cyklu"},"NAVBAR:REPORTS:ct:pce":function(e){return"Sztuki"},"NAVBAR:REPORTS:ct:groups":function(e){return"Grupy wyrobów"},"NAVBAR:REPORTS:ct:results":function(e){return"Wyniki"},"NAVBAR:PROD":function(e){return"Produkcja"},"NAVBAR:PROD:DATA":function(e){return"Dane produkcyjne"},"NAVBAR:PROD:LOG_ENTRIES":function(e){return"Historia operacji"},"NAVBAR:PROD:SHIFTS":function(e){return"Zmiany"},"NAVBAR:PROD:SHIFT_ORDERS":function(e){return"Zlecenia"},"NAVBAR:PROD:DOWNTIMES":function(e){return"Przestoje"},"NAVBAR:PROD:ALERTS":function(e){return"Alarmy"},"NAVBAR:PROD:CHANGE_REQUESTS":function(e){return"Żądania zmian"},"NAVBAR:PROD:SERIAL_NUMBERS":function(e){return"Numery seryjne"},"NAVBAR:PROD:SETTINGS":function(e){return"Ustawienia"},"NAVBAR:testing":function(e){return"Baza testów"},"NAVBAR:xiconf":function(e){return"Xiconf"},"NAVBAR:xiconf:clients":function(e){return"Klienci"},"NAVBAR:xiconf:orders":function(e){return"Zlecenia"},"NAVBAR:xiconf:results":function(e){return"Wyniki"},"NAVBAR:xiconf:programs":function(e){return"Programy"},"NAVBAR:xiconf:hidLamps":function(e){return"Oprawy HID"},"NAVBAR:xiconf:componentWeights":function(e){return"Wagi komponentów"},"NAVBAR:snf":function(e){return"SNF"},"NAVBAR:snf:results":function(e){return"Wyniki"},"NAVBAR:snf:programs":function(e){return"Programy"},"NAVBAR:trw":function(e){return"TRW"},"NAVBAR:trw:results":function(e){return"Wyniki"},"NAVBAR:trw:testers":function(e){return"Sterowniki"},"NAVBAR:trw:bases":function(e){return"Podstawki"},"NAVBAR:trw:programs":function(e){return"Programy"},"NAVBAR:DOCUMENTS":function(e){return"Dokumentacja"},"NAVBAR:DOCUMENTS:TREE":function(e){return"Dokumenty"},"NAVBAR:DOCUMENTS:CLIENTS":function(e){return"Klienci"},"NAVBAR:DOCUMENTS:SETTINGS":function(e){return"Ustawienia"},"NAVBAR:DOCUMENTS:CONFIRMATIONS":function(e){return"Potwierdzenia"},"NAVBAR:VENDORS":function(e){return"Dostawcy"},"NAVBAR:PURCHASE_ORDERS":function(e){return"Zamówienia"},"NAVBAR:MONITORING":function(e){return"Monitoring"},"NAVBAR:MONITORING:LAYOUT":function(e){return"Układ fabryki"},"NAVBAR:MONITORING:LIST":function(e){return"Lista linii produkcyjnych"},"NAVBAR:VENDOR_NC12S":function(e){return"Baza 12NC"},"NAVBAR:LICENSES":function(e){return"Licencje"},"NAVBAR:ISA_PALLET_KINDS":function(e){return"Rodzaje palet"},"NAVBAR:ISA":function(e){return"Pola odkładcze"},"NAVBAR:INVALID_ORDERS":function(e){return"Nieprawidłowe zlecenia IPT"},"NAVBAR:IPT_CHECK":function(e){return"Sprawdzacz zleceń IPT"},"NAVBAR:SAP_LABOR_TIME_FIXER":function(e){return"Sprawdzacz Labor Time"},"NAVBAR:PRINTERS":function(e){return"Drukarki"},"NAVBAR:PKHD_STRATEGIES":function(e){return"Strategie dost. komponentów"},"NAVBAR:kanban":function(e){return"Baza komponentów"},"NAVBAR:pfep":function(e){return"Baza PFEP"},"NAVBAR:layout":function(e){return"Layout"},"NAVBAR:toolcal":function(e){return"Narzędzia pomiarowe"},"NAVBAR:luma2":function(e){return"Luma gen. 2"},"NAVBAR:luca":function(e){return"LUCA Pick by Light"},"NAVBAR:logs:browserErrors":function(e){return"Błędy klientów"},"NAVBAR:ct":function(e){return"Czas cyklu"},"NAVBAR:fa":function(e){return"Środki Trwałe"},"NAVBAR:OPINION:main":function(e){return"Badanie Opinia"},"NAVBAR:OPINION:current":function(e){return"Aktualne badanie"},"NAVBAR:OPINION:report":function(e){return"Raport"},"NAVBAR:OPINION:actions":function(e){return"Akcje naprawcze"},"NAVBAR:OPINION:responses":function(e){return"Odpowiedzi"},"NAVBAR:OPINION:scanning":function(e){return"Skanowanie"},"NAVBAR:OPINION:scanTemplates":function(e){return"Szablony"},"NAVBAR:OPINION:omrResults":function(e){return"Wyniki"},"NAVBAR:OPINION:dictionaries":function(e){return"Słowniki"},"NAVBAR:OPINION:surveys":function(e){return"Badania"},"NAVBAR:OPINION:employers":function(e){return"Pracodawcy"},"NAVBAR:OPINION:divisions":function(e){return"Wydziały"},"NAVBAR:OPINION:questions":function(e){return"Pytania"},"NAVBAR:KAIZEN:main":function(e){return"ZPW"},"NAVBAR:KAIZEN:orders":function(e){return"Zgłoszenia"},"NAVBAR:KAIZEN:all":function(e){return"Wszystkie"},"NAVBAR:KAIZEN:open":function(e){return"Tylko otwarte"},"NAVBAR:KAIZEN:mine":function(e){return"Tylko moje"},"NAVBAR:KAIZEN:unseen":function(e){return"Tylko nieprzeczytane"},"NAVBAR:KAIZEN:reports":function(e){return"Raporty"},"NAVBAR:KAIZEN:reports:summary":function(e){return"Zestawienie informacji"},"NAVBAR:KAIZEN:reports:engagement":function(e){return"Zaangażowanie"},"NAVBAR:KAIZEN:reports:metrics":function(e){return"Wskaźniki"},"NAVBAR:KAIZEN:reports:count":function(e){return"Ilość ZPW"},"NAVBAR:KAIZEN:reports:observations":function(e){return"Ilość obserwacji"},"NAVBAR:KAIZEN:reports:minutes":function(e){return"Ilość minutek"},"NAVBAR:KAIZEN:dictionaries":function(e){return"Słowniki"},"NAVBAR:KAIZEN:sections":function(e){return"Działy"},"NAVBAR:KAIZEN:areas":function(e){return"Miejsca zdarzeń"},"NAVBAR:KAIZEN:categories":function(e){return"Kategorie"},"NAVBAR:KAIZEN:causes":function(e){return"Przyczyny"},"NAVBAR:KAIZEN:risks":function(e){return"Rodzaje ryzyka"},"NAVBAR:KAIZEN:behaviours":function(e){return"Zachowania"},"NAVBAR:KAIZEN:help":function(e){return"Pomoc"},"NAVBAR:KAIZEN:observations":function(e){return"Obserwacje"},"NAVBAR:KAIZEN:printableCard:label":function(e){return"Karta obserwacji"},"NAVBAR:KAIZEN:printableCard:file":function(e){return"/files/karta-obserwacji.pdf"},"NAVBAR:KAIZEN:minutesForSafety":function(e){return"Minuty dla Bezpieczeństwa"},"NAVBAR:SUGGESTIONS:main":function(e){return"Usprawnienia"},"NAVBAR:SUGGESTIONS:orders":function(e){return"Zgłoszenia"},"NAVBAR:SUGGESTIONS:all":function(e){return"Wszystkie"},"NAVBAR:SUGGESTIONS:open":function(e){return"Tylko otwarte"},"NAVBAR:SUGGESTIONS:mine":function(e){return"Tylko moje"},"NAVBAR:SUGGESTIONS:unseen":function(e){return"Tylko nieprzeczytane"},"NAVBAR:SUGGESTIONS:reports":function(e){return"Raporty"},"NAVBAR:SUGGESTIONS:reports:count":function(e){return"Ilość zgłoszeń"},"NAVBAR:SUGGESTIONS:reports:summary":function(e){return"Zestawienie informacji"},"NAVBAR:SUGGESTIONS:reports:engagement":function(e){return"Zaangażowanie"},"NAVBAR:SUGGESTIONS:dictionaries":function(e){return"Słowniki"},"NAVBAR:SUGGESTIONS:sections":function(e){return"Działy"},"NAVBAR:SUGGESTIONS:categories":function(e){return"Kategorie"},"NAVBAR:SUGGESTIONS:productFamilies":function(e){return"Rodziny produktów"},"NAVBAR:SUGGESTIONS:help":function(e){return"Pomoc"},"NAVBAR:QI:main":function(e){return"Inspekcja Jakości"},"NAVBAR:QI:results":function(e){return"Wyniki"},"NAVBAR:QI:results:all":function(e){return"Wszystkie"},"NAVBAR:QI:results:good":function(e){return"Zgodne"},"NAVBAR:QI:results:bad":function(e){return"Niezgodne"},"NAVBAR:QI:reports":function(e){return"Raporty"},"NAVBAR:QI:reports:count":function(e){return"Ilości"},"NAVBAR:QI:reports:okRatio":function(e){return"% wyrobów zgodnych"},"NAVBAR:QI:reports:nokRatio":function(e){return"Jakość wyrobu gotowego"},"NAVBAR:QI:reports:outgoingQuality":function(e){return"Outgoing quality"},"NAVBAR:QI:dictionaries":function(e){return"Słowniki"},"NAVBAR:QI:kinds":function(e){return"Rodzaje inspekcji"},"NAVBAR:QI:errorCategories":function(e){return"Kategorie błędów"},"NAVBAR:QI:faults":function(e){return"Wady"},"NAVBAR:QI:standards":function(e){return"Standardy"},"NAVBAR:QI:actionStatuses":function(e){return"Statusy akcji"},"NAVBAR:SEARCH:help":function(e){return"Szukaj wg nr zlecenia, 12NC, zgłoszenia lub daty."},"NAVBAR:SEARCH:empty":function(e){return"Brak wyników."},"NAVBAR:SEARCH:fullOrderNo":function(e){return"Zlecenie nr "+t.v(e,"orderNo")},"NAVBAR:SEARCH:partialOrderNo":function(e){return"Zlecenia nr "+t.v(e,"orderNo")+"..."},"NAVBAR:SEARCH:fullNc12":function(e){return"12NC "+t.v(e,"nc12")},"NAVBAR:SEARCH:partialNc12":function(e){return"12NC "+t.v(e,"nc12")+"..."},"NAVBAR:SEARCH:fullNc15":function(e){return"15NC "+t.v(e,"nc15")},"NAVBAR:SEARCH:searchName":function(e){return"Użytkownicy"},"NAVBAR:SEARCH:sapDetails":function(e){return"szczegóły z SAP"},"NAVBAR:SEARCH:xiconfDetails":function(e){return"szczegóły z bazy testów"},"NAVBAR:SEARCH:xiconfResults":function(e){return"wyniki testów"},"NAVBAR:SEARCH:prodShiftOrders":function(e){return"lista z linii produkcyjnych"},"NAVBAR:SEARCH:prodShiftOrdersList":function(e){return"lista zleceń z linii produkcyjnych"},"NAVBAR:SEARCH:prodDowntimes":function(e){return"lista przestojów"},"NAVBAR:SEARCH:qiResults":function(e){return"wyniki inspekcji"},"NAVBAR:SEARCH:mechOrders":function(e){return"lista zleceń mechanicznych"},"NAVBAR:SEARCH:sapOrders":function(e){return"lista zleceń z SAP"},"NAVBAR:SEARCH:sapOrdersBom":function(e){return"lista zleceń z SAP z komponentem"},"NAVBAR:SEARCH:sapOrdersDoc":function(e){return"lista zleceń z SAP z dokumentem"},"NAVBAR:SEARCH:sapOrdersStart":function(e){return"lista zleceń z SAP wg daty startu"},"NAVBAR:SEARCH:sapOrdersFinish":function(e){return"lista zleceń z SAP wg daty ukończenia"},"NAVBAR:SEARCH:sapList":function(e){return"lista z SAP"},"NAVBAR:SEARCH:xiconfOrders":function(e){return"lista zleceń z bazy testów"},"NAVBAR:SEARCH:xiconfList":function(e){return"lista z bazy testów"},"NAVBAR:SEARCH:worksheetOrders":function(e){return"lista zleceń z kart pracy"},"NAVBAR:SEARCH:fte:master":function(e){return"lista FTE (produkcja)"},"NAVBAR:SEARCH:fte:wh":function(e){return"lista FTE (magazyn)"},"NAVBAR:SEARCH:fte:leader":function(e){return"lista FTE (inne)"},"NAVBAR:SEARCH:hourlyPlans":function(e){return"lista planów godzinowych"},"NAVBAR:SEARCH:hourlyPlan":function(e){return"plan godzinowy"},"NAVBAR:SEARCH:prodShifts":function(e){return"lista zmian produkcyjnych"},"NAVBAR:SEARCH:document":function(e){return"dokument w katalogu"},"NAVBAR:SEARCH:documentFile":function(e){return"plik dokumentacji"},"NAVBAR:SEARCH:entryId":function(e){return"Zgłoszenie nr "+t.v(e,"entryId")},"NAVBAR:SEARCH:kaizenOrders":function(e){return"ZPW"},"NAVBAR:SEARCH:suggestions":function(e){return"Usprawnienie"},"NAVBAR:SEARCH:behaviorObsCards":function(e){return"Obserwacje"},"NAVBAR:SEARCH:minutesForSafetyCards":function(e){return"Minutki"},"NAVBAR:SEARCH:d8":function(e){return"8D"},"NAVBAR:SEARCH:qi":function(e){return"Inspekcja Jakości"},"NAVBAR:SEARCH:plan:prod":function(e){return"plan produkcji"},"NAVBAR:SEARCH:plan:wh":function(e){return"plan magazynu"},"NAVBAR:SEARCH:plan:ps":function(e){return"plan malarnii"},"NAVBAR:SEARCH:fap":function(e){return"FAP"},"NAVBAR:SEARCH:fapEntries":function(e){return"zgłoszenia FAP"},"NAVBAR:SEARCH:kanbanEntries":function(e){return"kanbany"},"NAVBAR:SEARCH:kanbanComponent":function(e){return"komponent kanban"},"NAVBAR:SEARCH:cycleTime":function(e){return"czas cyklu"},"NAVBAR:SEARCH:balancing":function(e){return"balansowanie"},"NAVBAR:SEARCH:deliveredOrders":function(e){return"dostarczone zlecenia"},"NAVBAR:mor":function(e){return"Matryca odpowiedzialności"},"NAVBAR:pila:osh":function(e){return"BHP"},"NAVBAR:pila:help":function(e){return"Pomoc"},"NAVBAR:pila:reports":function(e){return"Raporty"},"NAVBAR:pila:nearMiss":function(e){return"ZPW"},"NAVBAR:pila:nearMiss:entries":function(e){return"Zgłoszenia"},"NAVBAR:pila:suggestions":function(e){return"Usprawnienia"},"NAVBAR:pila:suggestions:entries":function(e){return"Zgłoszenia"},"NAVBAR:pila:observations":function(e){return"Obserwacje"},"NAVBAR:pila:observations:entries":function(e){return"Karty"},"NAVBAR:pila:mfs":function(e){return"Minutki"},"NAVBAR:pila:mfs:entries":function(e){return"Karty"},"ACTION_FORM:BUTTON":function(e){return"Wykonaj akcję"},"ACTION_FORM:BUTTON:cancel":function(e){return"Anuluj"},"ACTION_FORM:MESSAGE":function(e){return"Czy na pewno chcesz wykonać żądaną akcję?"},"ACTION_FORM:MESSAGE:failure":function(e){return"Wykonywanie akcji nie powiodło się."},"ACTION_FORM:DIALOG_TITLE:delete":function(e){return"Potwierdzenie usunięcia"},"ACTION_FORM:BUTTON:delete":function(e){return"Usuń"},"ACTION_FORM:MESSAGE:delete":function(e){return"Czy na pewno chcesz bezpowrotnie usunąć wybraną pozycję?"},"ACTION_FORM:MESSAGE_SPECIFIC:delete":function(e){return"Czy na pewno chcesz bezpowrotnie usunąć <em>"+t.v(e,"label")+"</em>?"},"ACTION_FORM:MESSAGE_FAILURE:delete":function(e){return"Usuwanie nie powiodło się."},"FORM:ACTION:add":function(e){return"Dodaj"},"FORM:ACTION:edit":function(e){return"Edytuj"},"FORM:ACTION:save":function(e){return"Zapisz"},"FORM:ERROR:addFailure":function(e){return"Dodawanie nie powiodło się."},"FORM:ERROR:editFailure":function(e){return"Edycja nie powiodła się."},"ORG_UNIT:division":function(e){return"Wydział"},"ORG_UNIT:subdivision":function(e){return"Dział"},"ORG_UNIT:mrpController":function(e){return"Kontroler MRP"},"ORG_UNIT:mrpControllers":function(e){return"Kontroler MRP"},"ORG_UNIT:prodFlow":function(e){return"Przepływ"},"ORG_UNIT:workCenter":function(e){return"WorkCenter"},"ORG_UNIT:prodLine":function(e){return"Linia montażowa"},SHIFT:function(e){return t.v(e,"date")+", "+t.s(e,"shift",{1:"I",2:"II",3:"III",other:t.v(e,"shift")})},"SHIFT:1":function(e){return"I"},"SHIFT:2":function(e){return"II"},"SHIFT:3":function(e){return"III"},"SHIFT:0":function(e){return"Dowolna"},QUARTER:function(e){return t.v(e,"quarter")+" kwartał "+t.v(e,"year")},"QUARTER:1":function(e){return"I"},"QUARTER:2":function(e){return"II"},"QUARTER:3":function(e){return"III"},"QUARTER:4":function(e){return"IV"},"QUARTER:0":function(e){return"Dowolny"},"highcharts:contextButtonTitle":function(e){return"Menu kontekstowe wykresu"},"highcharts:downloadJPEG":function(e){return"Zapisz jako JPEG"},"highcharts:downloadPDF":function(e){return"Zapisz jako PDF"},"highcharts:downloadPNG":function(e){return"Zapisz jako PNG"},"highcharts:downloadSVG":function(e){return"Zapisz jako SVG"},"highcharts:downloadCSV":function(e){return"Zapisz jako CSV"},"highcharts:printChart":function(e){return"Drukuj wykres"},"highcharts:decimalPoint":function(e){return","},"highcharts:thousandsSep":function(e){return" "},"highcharts:noData":function(e){return"Brak danych."},"highcharts:resetZoom":function(e){return"1:1"},"highcharts:resetZoomTitle":function(e){return"Zresetuj przybliżenie"},"highcharts:loading":function(e){return"Ładowanie..."},"highcharts:months":function(e){return"Styczeń_Luty_Marzec_Kwiecień_Maj_Czerwiec_Lipiec_Sierpień_Wrzesień_Październik_Listopad_Grudzień"},"highcharts:shortMonths":function(e){return"Sty_Lut_Mar_Kwi_Maj_Cze_Lip_Sie_Wrz_Paź_Lis_Gru"},"highcharts:weekdays":function(e){return"Niedziela_Poniedziałek_Wtorek_Środa_Czwartek_Piątek_Sobota"},"dataTables:emptyTable":function(e){return"Brak danych."},"dataTables:loadingRecords":function(e){return"Ładowanie danych..."},"dataTables:loadingFailed":function(e){return"Ładowanie danych nie powiodło się."},"colorPicker:label":function(e){return"Kolor"},"filter:date":function(e){return"Data"},"filter:date:from":function(e){return"Od"},"filter:date:from:info":function(e){return"Dane od godziny 06:00 wybranego dnia"},"filter:date:to":function(e){return"Do"},"filter:date:to:info":function(e){return"Dane do godziny 06:00 wybranego dnia"},"filter:shift":function(e){return"Zmiana"},"filter:orgUnit":function(e){return"Jednostka organizacyjna"},"filter:submit":function(e){return"Filtruj"},"filter:filters":function(e){return"Pokaż dodatkowe filtry"},"filter:limit":function(e){return"Limit"},"filter:show":function(e){return"Pokaż filtr"},"filter:hide":function(e){return"Ukryj filtr"},"placeholder:date":function(e){return"rrrr-mm-dd"},"placeholder:time":function(e){return"--:--"},"placeholder:month":function(e){return"rrrr-mm"},"PRINT_PAGE:FT:PAGE_NO":function(e){return"Strona <span class=print-page-no>?</span> z <span class=print-page-count>?</span>"},"PRINT_PAGE:FT:INFO":function(e){return"Wydruk wygenerowany <span class=print-page-date>?</span> przez użytkownika <span class=print-page-user>?</span>."},"html2pdf:progress":function(e){return"Generowanie wydruku..."},"html2pdf:failure":function(e){return"Generowanie wydruku nie powiodło się."},"html2pdf:printing":function(e){return"Wysyłanie wydruku na drukarkę..."},"html2pdf:printing:success":function(e){return"Wydruk został wysłany na wybraną drukarkę."},"html2pdf:printing:failure":function(e){return"Wysyłanie wydruku na wybraną drukarkę nie powiodło się."},"dateTimeRange:placeholder:date":function(e){return"rrrr-mm-dd"},"dateTimeRange:placeholder:time":function(e){return"gg:mm"},"dateTimeRange:label:date":function(e){return"Data"},"dateTimeRange:label:date+time":function(e){return"Czas"},"dateTimeRange:label:month":function(e){return"Data"},"dateTimeRange:+0+1":function(e){return"aktualny"},"dateTimeRange:-1+0":function(e){return"poprzedni"},"dateTimeRange:-2+0":function(e){return"ostatnie 2"},"dateTimeRange:-3+0":function(e){return"ostatnie 3"},"dateTimeRange:-4+0":function(e){return"ostatnie 4"},"dateTimeRange:-6+0":function(e){return"ostatnie 6"},"dateTimeRange:-7+0":function(e){return"ostatnie 7"},"dateTimeRange:+0+7":function(e){return"następne 7"},"dateTimeRange:-14+0":function(e){return"ostatnie 14"},"dateTimeRange:-28+0":function(e){return"ostatnie 28"},"dateTimeRange:shifts":function(e){return"Zmiana"},"dateTimeRange:shifts:+0+1":function(e){return"aktualna"},"dateTimeRange:shifts:-1+0":function(e){return"poprzednia"},"dateTimeRange:shifts:1":function(e){return"I"},"dateTimeRange:shifts:2":function(e){return"II"},"dateTimeRange:shifts:3":function(e){return"III"},"dateTimeRange:days":function(e){return"Dzień"},"dateTimeRange:days:+0+1":function(e){return"dzisiaj"},"dateTimeRange:days:-1+0":function(e){return"wczoraj"},"dateTimeRange:days:+1+2":function(e){return"jutro"},"dateTimeRange:weeks":function(e){return"Tydzień"},"dateTimeRange:months":function(e){return"Miesiąc"},"dateTimeRange:quarters":function(e){return"Kwartał"},"dateTimeRange:quarters:1":function(e){return"I"},"dateTimeRange:quarters:2":function(e){return"II"},"dateTimeRange:quarters:3":function(e){return"III"},"dateTimeRange:quarters:4":function(e){return"IV"},"dateTimeRange:years":function(e){return"Rok"},"dateTimeRange:help":function(e){return"Przytrzymaj <kbd>Alt</kbd> wybierając opcję, aby jednocześnie wysłać formularz."},"embedded:actions:switch":function(e){return"Zmień aplikację"},"embedded:actions:refresh":function(e){return"Odśwież aplikację"},"embedded:actions:config":function(e){return"Konfiguruj"},"embedded:actions:reboot":function(e){return"Uruchom ponownie komputer"},"embedded:actions:shutdown":function(e){return"Wyłącz komputer"},"embedded:actions:resetBrowser":function(e){return"Resetuj przeglądarkę"},"embedded:actions:restartBrowser":function(e){return"Uruchom ponownie przeglądarkę"},"embedded:actions:noKiosk":function(e){return"Wyłącz tryb kiosku"},"embedded:apps:operator":function(e){return"Formatka operatora"},"embedded:apps:documents":function(e){return"Dokumentacja"},"embedded:apps:xiconf":function(e){return"Skanowanie LED"},"embedded:apps:maxos":function(e){return"Wizualizacja MAXOS"},"embedded:apps:drilling":function(e){return"Wiercenie"},"embedded:apps:ps-queue":function(e){return"Kolejka malarnii"},"embedded:apps:ps-load":function(e){return"Obciążenie malarnii"},"embedded:apps:isa":function(e){return"Pola odkładcze"},"embedded:apps:remote":function(e){return"Zdalna"},"embedded:apps:heff":function(e){return"Wydajność godzinowa"},"embedded:apps:trw":function(e){return"TRW"},"embedded:reboot:title":function(e){return"Ponowne uruchamianie komputera"},"embedded:reboot:message":function(e){return"Czy na pewno chcesz ponownie uruchomić komputer?"},"embedded:reboot:yes":function(e){return"Uruchom ponownie"},"embedded:reboot:no":function(e){return"Anuluj"},"embedded:shutdown:title":function(e){return"Wyłączanie komputera"},"embedded:shutdown:message":function(e){return"Czy na pewno chcesz wyłączyć komputer?"},"embedded:shutdown:yes":function(e){return"Wyłącz komputer"},"embedded:shutdown:no":function(e){return"Anuluj"},"PANEL:TITLE:details":function(e){return"Szczegóły"},"PANEL:TITLE:addForm":function(e){return"Formularz dodawania"},"PANEL:TITLE:editForm":function(e){return"Formularz edycji"},"notifications:request:message":function(e){return"Kliknij tutaj, aby włączyć powiadomienia w przeglądarce."},"lang:pl":function(e){return"Polski (pl)"},"lang:en":function(e){return"Angielski (en)"},labelCopySuffix:function(e){return t.v(e,"label")+" (kopia)"}}}),function(){"use strict";function e(){require(["domReady","jquery","backbone","backbone.layout","moment","app/monkeyPatch","app/broker","app/i18n","app/socket","app/router","app/viewport","app/updater/index","app/data/loadedModules","app/core/layouts/PageLayout","app/core/layouts/BlankLayout","app/time","app/wmes-drilling-routes","bootstrap","moment-lang/"+window.appLocale,"select2-lang/"+window.appLocale,"i18n!app/nls/core"],t)}function t(e,t,n,r,i,o,a,s,u,c,l,d,p,f,h){var m=a.sandbox();function g(){m.destroy(),m=a.sandbox(),a.subscribe("i18n.reloaded",function(e){localStorage.setItem("LOCALE",e.newLocale),window.location.reload()}),"function"==typeof window.onPageShown&&a.subscribe("viewport.page.shown",window.onPageShown).setLimit(1),e(function(){m.subscribe("viewport.page.shown",y).setLimit(1),window.ENV&&document.body.classList.add("is-"+window.ENV+"-env"),n.history.start({root:"/",hashChange:!0,pushState:!1})})}function y(){null!==m&&(m.destroy(),m=null),t("#app-loading").remove(),t("body").removeClass("is-loading")}u.connect(),i.locale(window.appLocale),t.ajaxSetup({dataType:"json",accepts:{json:"application/json",text:"text/plain"},contentType:"application/json"}),r.configure({manage:!0,el:!1,keep:!0}),l.registerLayout("page",function(){return new f({version:d.getCurrentVersionString(),changelogUrl:"#changelog",hdHidden:!1})}),l.registerLayout("blank",function(){return new h}),a.subscribe("page.titleChanged",function(e){e.unshift(s("core","TITLE")),document.title=e.reverse().join(" < ")}),navigator.onLine?(m.subscribe("socket.connected",function(){m.subscribe("user.reloaded",g)}),m.subscribe("socket.connectFailed",g)):g()}window.WMES_APP_ID="drilling",window.requireApp=function(){window.parent!==window?require(["app/data/localStorage"],function(t){t.start(e)}):e()}}(),define("wmes-drilling",function(){}),function(e){"use strict";if("function"==typeof define&&define.amd)return define("select2-lang/en",["jquery","select2"],e);e(window.jQuery)}(function(e){"use strict";var t={formatNoMatches:function(){return"No matches found."},formatInputTooShort:function(e,t){var n=t-e.length;return"Please enter "+n+" more character"+(1===n?"":"s")},formatInputTooLong:function(e,t){var n=e.length-t;return"Please delete "+n+" character"+(1===n?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1===e?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."}};return e.extend(e.fn.select2.defaults,t),t}),function(e){"use strict";if("function"==typeof define&&define.amd)return define("select2-lang/pl",["jquery","select2"],e);e(window.jQuery)}(function(e){"use strict";function t(e,t){return 1===e?"":e%100>1&&e%100<5||e%100>20&&e%10>1&&e%10<5?t:"ów"}var n={formatNoMatches:function(){return"Brak wyników."},formatInputTooShort:function(e,n){var r=n-e.length;return"Wpisz jeszcze "+r+" znak"+t(r,"i")+"."},formatInputTooLong:function(e,n){var r=e.length-n;return"Wpisana fraza jest za długa o "+r+" znak"+t(r,"i")+"."},formatSelectionTooBig:function(e){return"Możesz zaznaczyć najwyżej "+e+" element"+t(e,"y")+"."},formatLoadMore:function(){return"Ładowanie kolejnych wyników..."},formatSearching:function(){return"Szukanie..."}};return e.extend(e.fn.select2.defaults,n),n}),function(e){"function"==typeof define&&define.amd?define("moment-lang/en",["moment"],e):"object"==typeof exports?module.exports=e(require("../moment")):e(window.moment)}(function(e){return e}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module&&"function"==typeof require?t(require("../moment")):"function"==typeof define&&define.amd?define("moment-lang/pl",["../moment"],t):t(e.moment)}(this,function(e){"use strict";var t="styczeń_luty_marzec_kwiecień_maj_czerwiec_lipiec_sierpień_wrzesień_październik_listopad_grudzień".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_września_października_listopada_grudnia".split("_");function r(e){return e%10<5&&e%10>1&&~~(e/10)%10!=1}function i(e,t,n){var i=e+" ";switch(n){case"m":return t?"minuta":"minutę";case"mm":return i+(r(e)?"minuty":"minut");case"h":return t?"godzina":"godzinę";case"hh":return i+(r(e)?"godziny":"godzin");case"MM":return i+(r(e)?"miesiące":"miesięcy");case"yy":return i+(r(e)?"lata":"lat")}}return e.defineLocale("pl",{months:function(e,r){return""===r?"("+n[e.month()]+"|"+t[e.month()]+")":/D MMMM/.test(r)?n[e.month()]:t[e.month()]},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_paź_lis_gru".split("_"),weekdays:"niedziela_poniedziałek_wtorek_środa_czwartek_piątek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_śr_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_Śr_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dziś o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zeszłą niedzielę o] LT";case 3:return"[W zeszłą środę o] LT";case 6:return"[W zeszłą sobotę o] LT";default:return"[W zeszły] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:i,mm:i,h:i,hh:i,d:"1 dzień",dd:"%d dni",M:"miesiąc",MM:i,y:"rok",yy:i},ordinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})});