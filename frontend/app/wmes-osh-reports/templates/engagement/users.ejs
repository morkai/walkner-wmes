<div class="table-responsive">
  <table class="table table-bordered table-hover osh-report-engagement-users">
    <thead>
    <tr>
      <th rowspan="2"><%- t('engagement:employee') %></th>
      <% months.forEach(month => { %>
        <th class="osh-report-engagement-group" colspan="4"><%- time.utc.format(month, 'MMMM YYYY') %></th>
      <% }) %>
      <th rowspan="2"></th>
    </tr>
    <tr>
      <% months.forEach(month => { %>
        <th class="osh-report-engagement-metric osh-report-engagement-group" title="<%- t('engagement:nearMisses:title') %>"><%- t('engagement:nearMisses:header') %></th>
        <th class="osh-report-engagement-metric" title="<%- t('engagement:kaizens:title') %>"><%- t('engagement:kaizens:header') %></th>
        <th class="osh-report-engagement-metric" title="<%- t('engagement:actions:title') %>"><%- t('engagement:actions:header') %></th>
        <th class="osh-report-engagement-metric" title="<%- t('engagement:observations:title') %>"><%- t('engagement:observations:header') %></th>
      <% }) %>
    </tr>
    </thead>
    <tbody>
    <% users.forEach((user, i) => { %>
      <tr>
        <td><%- user.info %></td>
        <% months.forEach(month => { %>
          <% let metrics = user.months[month] || empty %>
          <td class="osh-report-engagement-metric osh-report-engagement-group <%- metrics[0] ? '' : 'is-invalid' %>"><%- metrics[0].toLocaleString() %></td>
          <td class="osh-report-engagement-metric <%- metrics[1] ? '' : 'is-invalid' %>"><%- metrics[1].toLocaleString() %></td>
          <td class="osh-report-engagement-metric <%- metrics[2] ? '' : 'is-invalid' %>"><%- metrics[2].toLocaleString() %></td>
          <td class="osh-report-engagement-metric <%- metrics[3] ? '' : 'is-invalid' %>"><%- metrics[3].toLocaleString() %></td>
        <% }) %>
        <td></td>
      </tr>
    <% }) %>
    </tbody>
  </table>
</div>
