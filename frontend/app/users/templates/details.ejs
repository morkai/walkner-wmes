<div class="users-details">
  <div class="row">
    <div class="col-lg-4">
      <div class="panel panel-primary">
        <div class="panel-heading"><%- helpers.t('PANEL:TITLE:details:basic') %></div>
        <div class="panel-details">
          <%- helpers.props(model, ['active', 'login', 'personellId', 'card', 'cardUid', 'kdId', 'kdDivision', 'kdPosition']) %>
        </div>
      </div>
    </div>
    <div class="col-lg-4">
      <div class="panel panel-default">
        <div class="panel-heading"><%- helpers.t('PANEL:TITLE:details:contact') %></div>
        <div class="panel-details">
          <%- helpers.props(model, [
            'name',
            'email',
            {id: '!mobile', value: function(mobiles)
            {
              if (_.isEmpty(mobiles))
              {
                return '';
              }

              if (mobiles.length === 1)
              {
                return helpers.t('DETAILS:mobile:item', mobiles[0]);
              }

              return '<ul>'
                + mobiles.map(function(mobile) { return '<li>' + helpers.t('DETAILS:mobile:item', mobile); })
                + '</ul>';
            }}
          ]) %>
        </div>
      </div>
    </div>
    <div class="col-lg-4">
      <div class="panel panel-default">
        <div class="panel-heading"><%- helpers.t('PANEL:TITLE:details:extra') %></div>
        <div class="panel-details">
          <%- helpers.props(model, [
            'company',
            'prodFunction',
            '!orgUnit',
            {id: '!aors', value: function(aors)
            {
              if (_.isEmpty(aors))
              {
                return helpers.t('NO_DATA:aors');
              }

              if (aors.length === 1)
              {
                return _.escape(aors[0]);
              }

              return '<ul>'
                + aors.map(function(aor) { return '<li>' + _.escape(aor); })
                + '</ul>';
            }},
            'mrps',
            {id: 'vendor', visible: loadedModules.isLoaded('vendors')}
          ]) %>
        </div>
      </div>
    </div>
  </div>
  <% if (!_.isEmpty(model.notifications)) { %>
  <div class="panel panel-default users-details-privileges">
    <div class="panel-heading"><%- helpers.t('PROPERTY:notifications') %></div>
    <div class="panel-body">
      <% model.notifications.forEach(function(n) { %>
      <span class="label label-default"><%- helpers.t('preferences:' + n) %></span>
      <% }) %>
    </div>
  </div>
  <% } %>
  <% if (!_.isEmpty(model.privileges)) { %>
  <div class="panel panel-default users-details-privileges">
    <div class="panel-heading"><%- helpers.t('PANEL:TITLE:details:privileges') %></div>
    <div class="panel-body">
      <% model.privileges.forEach(function(privilege) { %>
      <span class="label label-<%- /VIEW/.test(privilege) ? 'info' : 'warning' %>"><%- helpers.t('PRIVILEGE:' + privilege) %></span>
      <% }) %>
    </div>
  </div>
  <% } %>
</div>
